var C1=t=>{throw TypeError(t)};var Fx=(t,e,n)=>e.has(t)||C1("Cannot "+n);var ne=(t,e,n)=>(Fx(t,e,"read from private field"),n?n.call(t):e.get(t)),pt=(t,e,n)=>e.has(t)?C1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Qe=(t,e,n,r)=>(Fx(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Yn=(t,e,n)=>(Fx(t,e,"access private method"),n);var sp=(t,e,n,r)=>({set _(s){Qe(t,e,s,n)},get _(){return ne(t,e,r)}});function VF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ux={exports:{}},hh={},Bx={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function FF(){if(I1)return tt;I1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,T={};function S(W,Z,pe){this.props=W,this.context=Z,this.refs=T,this.updater=pe||_}S.prototype.isReactComponent={},S.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},S.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function A(){}A.prototype=S.prototype;function k(W,Z,pe){this.props=W,this.context=Z,this.refs=T,this.updater=pe||_}var N=k.prototype=new A;N.constructor=k,C(N,S.prototype),N.isPureReactComponent=!0;var L=Array.isArray,z=Object.prototype.hasOwnProperty,H={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function R(W,Z,pe){var ge,Pe={},Ve=null,ce=null;if(Z!=null)for(ge in Z.ref!==void 0&&(ce=Z.ref),Z.key!==void 0&&(Ve=""+Z.key),Z)z.call(Z,ge)&&!j.hasOwnProperty(ge)&&(Pe[ge]=Z[ge]);var Se=arguments.length-2;if(Se===1)Pe.children=pe;else if(1<Se){for(var Fe=Array(Se),We=0;We<Se;We++)Fe[We]=arguments[We+2];Pe.children=Fe}if(W&&W.defaultProps)for(ge in Se=W.defaultProps,Se)Pe[ge]===void 0&&(Pe[ge]=Se[ge]);return{$$typeof:t,type:W,key:Ve,ref:ce,props:Pe,_owner:H.current}}function M(W,Z){return{$$typeof:t,type:W.type,key:Z,ref:W.ref,props:W.props,_owner:W._owner}}function F(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function V(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(pe){return Z[pe]})}var U=/\/+/g;function O(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?V(""+W.key):Z.toString(36)}function re(W,Z,pe,ge,Pe){var Ve=typeof W;(Ve==="undefined"||Ve==="boolean")&&(W=null);var ce=!1;if(W===null)ce=!0;else switch(Ve){case"string":case"number":ce=!0;break;case"object":switch(W.$$typeof){case t:case e:ce=!0}}if(ce)return ce=W,Pe=Pe(ce),W=ge===""?"."+O(ce,0):ge,L(Pe)?(pe="",W!=null&&(pe=W.replace(U,"$&/")+"/"),re(Pe,Z,pe,"",function(We){return We})):Pe!=null&&(F(Pe)&&(Pe=M(Pe,pe+(!Pe.key||ce&&ce.key===Pe.key?"":(""+Pe.key).replace(U,"$&/")+"/")+W)),Z.push(Pe)),1;if(ce=0,ge=ge===""?".":ge+":",L(W))for(var Se=0;Se<W.length;Se++){Ve=W[Se];var Fe=ge+O(Ve,Se);ce+=re(Ve,Z,pe,Fe,Pe)}else if(Fe=v(W),typeof Fe=="function")for(W=Fe.call(W),Se=0;!(Ve=W.next()).done;)Ve=Ve.value,Fe=ge+O(Ve,Se++),ce+=re(Ve,Z,pe,Fe,Pe);else if(Ve==="object")throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ce}function xe(W,Z,pe){if(W==null)return W;var ge=[],Pe=0;return re(W,ge,"","",function(Ve){return Z.call(pe,Ve,Pe++)}),ge}function he(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(pe){(W._status===0||W._status===-1)&&(W._status=1,W._result=pe)},function(pe){(W._status===0||W._status===-1)&&(W._status=2,W._result=pe)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var le={current:null},Y={transition:null},ee={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Y,ReactCurrentOwner:H};function ie(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:xe,forEach:function(W,Z,pe){xe(W,function(){Z.apply(this,arguments)},pe)},count:function(W){var Z=0;return xe(W,function(){Z++}),Z},toArray:function(W){return xe(W,function(Z){return Z})||[]},only:function(W){if(!F(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},tt.Component=S,tt.Fragment=n,tt.Profiler=s,tt.PureComponent=k,tt.StrictMode=r,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,tt.act=ie,tt.cloneElement=function(W,Z,pe){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var ge=C({},W.props),Pe=W.key,Ve=W.ref,ce=W._owner;if(Z!=null){if(Z.ref!==void 0&&(Ve=Z.ref,ce=H.current),Z.key!==void 0&&(Pe=""+Z.key),W.type&&W.type.defaultProps)var Se=W.type.defaultProps;for(Fe in Z)z.call(Z,Fe)&&!j.hasOwnProperty(Fe)&&(ge[Fe]=Z[Fe]===void 0&&Se!==void 0?Se[Fe]:Z[Fe])}var Fe=arguments.length-2;if(Fe===1)ge.children=pe;else if(1<Fe){Se=Array(Fe);for(var We=0;We<Fe;We++)Se[We]=arguments[We+2];ge.children=Se}return{$$typeof:t,type:W.type,key:Pe,ref:Ve,props:ge,_owner:ce}},tt.createContext=function(W){return W={$$typeof:a,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:i,_context:W},W.Consumer=W},tt.createElement=R,tt.createFactory=function(W){var Z=R.bind(null,W);return Z.type=W,Z},tt.createRef=function(){return{current:null}},tt.forwardRef=function(W){return{$$typeof:c,render:W}},tt.isValidElement=F,tt.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:he}},tt.memo=function(W,Z){return{$$typeof:h,type:W,compare:Z===void 0?null:Z}},tt.startTransition=function(W){var Z=Y.transition;Y.transition={};try{W()}finally{Y.transition=Z}},tt.unstable_act=ie,tt.useCallback=function(W,Z){return le.current.useCallback(W,Z)},tt.useContext=function(W){return le.current.useContext(W)},tt.useDebugValue=function(){},tt.useDeferredValue=function(W){return le.current.useDeferredValue(W)},tt.useEffect=function(W,Z){return le.current.useEffect(W,Z)},tt.useId=function(){return le.current.useId()},tt.useImperativeHandle=function(W,Z,pe){return le.current.useImperativeHandle(W,Z,pe)},tt.useInsertionEffect=function(W,Z){return le.current.useInsertionEffect(W,Z)},tt.useLayoutEffect=function(W,Z){return le.current.useLayoutEffect(W,Z)},tt.useMemo=function(W,Z){return le.current.useMemo(W,Z)},tt.useReducer=function(W,Z,pe){return le.current.useReducer(W,Z,pe)},tt.useRef=function(W){return le.current.useRef(W)},tt.useState=function(W){return le.current.useState(W)},tt.useSyncExternalStore=function(W,Z,pe){return le.current.useSyncExternalStore(W,Z,pe)},tt.useTransition=function(){return le.current.useTransition()},tt.version="18.3.1",tt}var N1;function I0(){return N1||(N1=1,Bx.exports=FF()),Bx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function UF(){if(P1)return hh;P1=1;var t=I0(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,h){var m,g={},v=null,_=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(m in d)r.call(d,m)&&!i.hasOwnProperty(m)&&(g[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:c,key:v,ref:_,props:g,_owner:s.current}}return hh.Fragment=n,hh.jsx=a,hh.jsxs=a,hh}var A1;function BF(){return A1||(A1=1,Ux.exports=UF()),Ux.exports}var u=BF(),ip={},zx={exports:{}},wr={},$x={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function zF(){return R1||(R1=1,(function(t){function e(Y,ee){var ie=Y.length;Y.push(ee);e:for(;0<ie;){var W=ie-1>>>1,Z=Y[W];if(0<s(Z,ee))Y[W]=ee,Y[ie]=Z,ie=W;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ee=Y[0],ie=Y.pop();if(ie!==ee){Y[0]=ie;e:for(var W=0,Z=Y.length,pe=Z>>>1;W<pe;){var ge=2*(W+1)-1,Pe=Y[ge],Ve=ge+1,ce=Y[Ve];if(0>s(Pe,ie))Ve<Z&&0>s(ce,Pe)?(Y[W]=ce,Y[Ve]=ie,W=Ve):(Y[W]=Pe,Y[ge]=ie,W=ge);else if(Ve<Z&&0>s(ce,ie))Y[W]=ce,Y[Ve]=ie,W=Ve;else break e}}return ee}function s(Y,ee){var ie=Y.sortIndex-ee.sortIndex;return ie!==0?ie:Y.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],h=[],m=1,g=null,v=3,_=!1,C=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(Y){for(var ee=n(h);ee!==null;){if(ee.callback===null)r(h);else if(ee.startTime<=Y)r(h),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(h)}}function L(Y){if(T=!1,N(Y),!C)if(n(d)!==null)C=!0,he(z);else{var ee=n(h);ee!==null&&le(L,ee.startTime-Y)}}function z(Y,ee){C=!1,T&&(T=!1,A(R),R=-1),_=!0;var ie=v;try{for(N(ee),g=n(d);g!==null&&(!(g.expirationTime>ee)||Y&&!V());){var W=g.callback;if(typeof W=="function"){g.callback=null,v=g.priorityLevel;var Z=W(g.expirationTime<=ee);ee=t.unstable_now(),typeof Z=="function"?g.callback=Z:g===n(d)&&r(d),N(ee)}else r(d);g=n(d)}if(g!==null)var pe=!0;else{var ge=n(h);ge!==null&&le(L,ge.startTime-ee),pe=!1}return pe}finally{g=null,v=ie,_=!1}}var H=!1,j=null,R=-1,M=5,F=-1;function V(){return!(t.unstable_now()-F<M)}function U(){if(j!==null){var Y=t.unstable_now();F=Y;var ee=!0;try{ee=j(!0,Y)}finally{ee?O():(H=!1,j=null)}}else H=!1}var O;if(typeof k=="function")O=function(){k(U)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,xe=re.port2;re.port1.onmessage=U,O=function(){xe.postMessage(null)}}else O=function(){S(U,0)};function he(Y){j=Y,H||(H=!0,O())}function le(Y,ee){R=S(function(){Y(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,he(z))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var ie=v;v=ee;try{return Y()}finally{v=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ie=v;v=Y;try{return ee()}finally{v=ie}},t.unstable_scheduleCallback=function(Y,ee,ie){var W=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?W+ie:W):ie=W,Y){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ie+Z,Y={id:m++,callback:ee,priorityLevel:Y,startTime:ie,expirationTime:Z,sortIndex:-1},ie>W?(Y.sortIndex=ie,e(h,Y),n(d)===null&&Y===n(h)&&(T?(A(R),R=-1):T=!0,le(L,ie-W))):(Y.sortIndex=Z,e(d,Y),C||_||(C=!0,he(z))),Y},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Y){var ee=v;return function(){var ie=v;v=ee;try{return Y.apply(this,arguments)}finally{v=ie}}}})(Wx)),Wx}var k1;function $F(){return k1||(k1=1,$x.exports=zF()),$x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function WF(){if(j1)return wr;j1=1;var t=I0(),e=$F();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function v(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function _(o,l,f,y){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return y?!1:f!==null?!f.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function C(o,l,f,y){if(l===null||typeof l>"u"||_(o,l,f,y))return!0;if(y)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function T(o,l,f,y,x,E,P){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=y,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=o,this.type=l,this.sanitizeURL=E,this.removeEmptyString=P}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new T(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new T(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new T(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new T(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new T(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new T(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new T(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new T(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new T(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function k(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(A,k);S[l]=new T(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(A,k);S[l]=new T(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(A,k);S[l]=new T(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new T(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new T(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,l,f,y){var x=S.hasOwnProperty(l)?S[l]:null;(x!==null?x.type!==0:y||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(C(l,f,x,y)&&(f=null),y||x===null?v(l)&&(f===null?o.removeAttribute(l):o.setAttribute(l,""+f)):x.mustUseProperty?o[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,y=x.attributeNamespace,f===null?o.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,y?o.setAttributeNS(y,l,f):o.setAttribute(l,f))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),H=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=Y&&o[Y]||o["@@iterator"],typeof o=="function"?o:null)}var ie=Object.assign,W;function Z(o){if(W===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);W=l&&l[1]||""}return`
`+W+o}var pe=!1;function ge(o,l){if(!o||pe)return"";pe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(X){var y=X}Reflect.construct(o,[],l)}else{try{l.call()}catch(X){y=X}o.call(l.prototype)}else{try{throw Error()}catch(X){y=X}o()}}catch(X){if(X&&y&&typeof X.stack=="string"){for(var x=X.stack.split(`
`),E=y.stack.split(`
`),P=x.length-1,B=E.length-1;1<=P&&0<=B&&x[P]!==E[B];)B--;for(;1<=P&&0<=B;P--,B--)if(x[P]!==E[B]){if(P!==1||B!==1)do if(P--,B--,0>B||x[P]!==E[B]){var $=`
`+x[P].replace(" at new "," at ");return o.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",o.displayName)),$}while(1<=P&&0<=B);break}}}finally{pe=!1,Error.prepareStackTrace=f}return(o=o?o.displayName||o.name:"")?Z(o):""}function Pe(o){switch(o.tag){case 5:return Z(o.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return o=ge(o.type,!1),o;case 11:return o=ge(o.type.render,!1),o;case 1:return o=ge(o.type,!0),o;default:return""}}function Ve(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case j:return"Fragment";case H:return"Portal";case M:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case re:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case V:return(o.displayName||"Context")+".Consumer";case F:return(o._context.displayName||"Context")+".Provider";case U:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case xe:return l=o.displayName||null,l!==null?l:Ve(o.type)||"Memo";case he:l=o._payload,o=o._init;try{return Ve(o(l))}catch{}}return null}function ce(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(l);case 8:return l===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Se(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Fe(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function We(o){var l=Fe(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),y=""+o[l];if(!o.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,E=f.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return x.call(this)},set:function(P){y=""+P,E.call(this,P)}}),Object.defineProperty(o,l,{enumerable:f.enumerable}),{getValue:function(){return y},setValue:function(P){y=""+P},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Je(o){o._valueTracker||(o._valueTracker=We(o))}function et(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var f=l.getValue(),y="";return o&&(y=Fe(o)?o.checked?"true":"false":o.value),o=y,o!==f?(l.setValue(o),!0):!1}function At(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function gn(o,l){var f=l.checked;return ie({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??o._wrapperState.initialChecked})}function Jr(o,l){var f=l.defaultValue==null?"":l.defaultValue,y=l.checked!=null?l.checked:l.defaultChecked;f=Se(l.value!=null?l.value:f),o._wrapperState={initialChecked:y,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ir(o,l){l=l.checked,l!=null&&N(o,"checked",l,!1)}function or(o,l){ir(o,l);var f=Se(l.value),y=l.type;if(f!=null)y==="number"?(f===0&&o.value===""||o.value!=f)&&(o.value=""+f):o.value!==""+f&&(o.value=""+f);else if(y==="submit"||y==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?Tt(o,l.type,f):l.hasOwnProperty("defaultValue")&&Tt(o,l.type,Se(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function Es(o,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var y=l.type;if(!(y!=="submit"&&y!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,f||l===o.value||(o.value=l),o.defaultValue=l}f=o.name,f!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,f!==""&&(o.name=f)}function Tt(o,l,f){(l!=="number"||At(o.ownerDocument)!==o)&&(f==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+f&&(o.defaultValue=""+f))}var Ft=Array.isArray;function An(o,l,f,y){if(o=o.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<o.length;f++)x=l.hasOwnProperty("$"+o[f].value),o[f].selected!==x&&(o[f].selected=x),x&&y&&(o[f].defaultSelected=!0)}else{for(f=""+Se(f),l=null,x=0;x<o.length;x++){if(o[x].value===f){o[x].selected=!0,y&&(o[x].defaultSelected=!0);return}l!==null||o[x].disabled||(l=o[x])}l!==null&&(l.selected=!0)}}function Oo(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Rr(o,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(Ft(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}o._wrapperState={initialValue:Se(f)}}function vc(o,l){var f=Se(l.value),y=Se(l.defaultValue);f!=null&&(f=""+f,f!==o.value&&(o.value=f),l.defaultValue==null&&o.defaultValue!==f&&(o.defaultValue=f)),y!=null&&(o.defaultValue=""+y)}function Xs(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function wn(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?wn(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Js,xc=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,y,x){MSApp.execUnsafeLocalFunction(function(){return o(l,f,y,x)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(Js=Js||document.createElement("div"),Js.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Js.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Zr(o,l){if(l){var f=o.firstChild;if(f&&f===o.lastChild&&f.nodeType===3){f.nodeValue=l;return}}o.textContent=l}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sl=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(o){sl.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Zs[l]=Zs[o]})});function es(o,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||Zs.hasOwnProperty(o)&&Zs[o]?(""+l).trim():l+"px"}function jr(o,l){o=o.style;for(var f in l)if(l.hasOwnProperty(f)){var y=f.indexOf("--")===0,x=es(f,l[f],y);f==="float"&&(f="cssFloat"),y?o.setProperty(f,x):o[f]=x}}var Lo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function En(o,l){if(l){if(Lo[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Vo(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ei=null;function Wi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ts=null,bs=null,It=null;function pr(o){if(o=Xd(o)){if(typeof ts!="function")throw Error(n(280));var l=o.stateNode;l&&(l=xm(l),ts(o.stateNode,o.type,l))}}function ti(o){bs?It?It.push(o):It=[o]:bs=o}function Me(){if(bs){var o=bs,l=It;if(It=bs=null,pr(o),l)for(o=0;o<l.length;o++)pr(l[o])}}function ht(o,l){return o(l)}function _t(){}var Xt=!1;function Bn(o,l,f){if(Xt)return o(l,f);Xt=!0;try{return ht(o,l,f)}finally{Xt=!1,(bs!==null||It!==null)&&(_t(),Me())}}function zn(o,l){var f=o.stateNode;if(f===null)return null;var y=xm(f);if(y===null)return null;f=y[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var $n=!1;if(c)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){$n=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{$n=!1}function Dr(o,l,f,y,x,E,P,B,$){var X=Array.prototype.slice.call(arguments,3);try{l.apply(f,X)}catch(ae){this.onError(ae)}}var qi=!1,ni=null,_c=!1,ns=null,Xf={onError:function(o){qi=!0,ni=o}};function Jf(o,l,f,y,x,E,P,B,$){qi=!1,ni=null,Dr.apply(Xf,arguments)}function Sd(o,l,f,y,x,E,P,B,$){if(Jf.apply(this,arguments),qi){if(qi){var X=ni;qi=!1,ni=null}else throw Error(n(198));_c||(_c=!0,ns=X)}}function Ts(o){var l=o,f=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(f=l.return),o=l.return;while(o)}return l.tag===3?f:null}function Cd(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function Zf(o){if(Ts(o)!==o)throw Error(n(188))}function em(o){var l=o.alternate;if(!l){if(l=Ts(o),l===null)throw Error(n(188));return l!==o?null:o}for(var f=o,y=l;;){var x=f.return;if(x===null)break;var E=x.alternate;if(E===null){if(y=x.return,y!==null){f=y;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===f)return Zf(x),o;if(E===y)return Zf(x),l;E=E.sibling}throw Error(n(188))}if(f.return!==y.return)f=x,y=E;else{for(var P=!1,B=x.child;B;){if(B===f){P=!0,f=x,y=E;break}if(B===y){P=!0,y=x,f=E;break}B=B.sibling}if(!P){for(B=E.child;B;){if(B===f){P=!0,f=E,y=x;break}if(B===y){P=!0,y=E,f=x;break}B=B.sibling}if(!P)throw Error(n(189))}}if(f.alternate!==y)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:l}function tm(o){return o=em(o),o!==null?il(o):null}function il(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=il(o);if(l!==null)return l;o=o.sibling}return null}var Id=e.unstable_scheduleCallback,wc=e.unstable_cancelCallback,ol=e.unstable_shouldYield,Hi=e.unstable_requestPaint,Rt=e.unstable_now,gv=e.unstable_getCurrentPriorityLevel,Ec=e.unstable_ImmediatePriority,Nd=e.unstable_UserBlockingPriority,al=e.unstable_NormalPriority,Pd=e.unstable_LowPriority,bc=e.unstable_IdlePriority,ll=null,Mr=null;function nm(o){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(ll,o,void 0,(o.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:cl,ri=Math.log,rs=Math.LN2;function cl(o){return o>>>=0,o===0?32:31-(ri(o)/rs|0)|0}var si=64,Fo=4194304;function gt(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Gi(o,l){var f=o.pendingLanes;if(f===0)return 0;var y=0,x=o.suspendedLanes,E=o.pingedLanes,P=f&268435455;if(P!==0){var B=P&~x;B!==0?y=gt(B):(E&=P,E!==0&&(y=gt(E)))}else P=f&~x,P!==0?y=gt(P):E!==0&&(y=gt(E));if(y===0)return 0;if(l!==0&&l!==y&&(l&x)===0&&(x=y&-y,E=l&-l,x>=E||x===16&&(E&4194240)!==0))return l;if((y&4)!==0&&(y|=f&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=y;0<l;)f=31-Or(l),x=1<<f,y|=o[f],l&=~x;return y}function ul(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dl(o,l){for(var f=o.suspendedLanes,y=o.pingedLanes,x=o.expirationTimes,E=o.pendingLanes;0<E;){var P=31-Or(E),B=1<<P,$=x[P];$===-1?((B&f)===0||(B&y)!==0)&&(x[P]=ul(B,l)):$<=l&&(o.expiredLanes|=B),E&=~B}}function Ad(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Rd(){var o=si;return si<<=1,(si&4194240)===0&&(si=64),o}function kd(o){for(var l=[],f=0;31>f;f++)l.push(o);return l}function hl(o,l,f){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Or(l),o[l]=f}function yv(o,l){var f=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var y=o.eventTimes;for(o=o.expirationTimes;0<f;){var x=31-Or(f),E=1<<x;l[x]=0,y[x]=-1,o[x]=-1,f&=~E}}function jd(o,l){var f=o.entangledLanes|=l;for(o=o.entanglements;f;){var y=31-Or(f),x=1<<y;x&l|o[y]&l&&(o[y]|=l),f&=~x}}var ot=0;function ii(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Dd,Tc,Md,Od,Ld,oi=!1,Sc=[],ai=null,li=null,Rn=null,fl=new Map,Ki=new Map,Lr=[],rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(o,l){switch(o){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":fl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ki.delete(l.pointerId)}}function Ss(o,l,f,y,x,E){return o===null||o.nativeEvent!==E?(o={blockedOn:l,domEventName:f,eventSystemFlags:y,nativeEvent:E,targetContainers:[x]},l!==null&&(l=Xd(l),l!==null&&Tc(l)),o):(o.eventSystemFlags|=y,l=o.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),o)}function sm(o,l,f,y,x){switch(l){case"focusin":return ai=Ss(ai,o,l,f,y,x),!0;case"dragenter":return li=Ss(li,o,l,f,y,x),!0;case"mouseover":return Rn=Ss(Rn,o,l,f,y,x),!0;case"pointerover":var E=x.pointerId;return fl.set(E,Ss(fl.get(E)||null,o,l,f,y,x)),!0;case"gotpointercapture":return E=x.pointerId,Ki.set(E,Ss(Ki.get(E)||null,o,l,f,y,x)),!0}return!1}function Cc(o){var l=yl(o.target);if(l!==null){var f=Ts(l);if(f!==null){if(l=f.tag,l===13){if(l=Cd(f),l!==null){o.blockedOn=l,Ld(o.priority,function(){Md(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){o.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}o.blockedOn=null}function St(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var f=Ic(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(f===null){f=o.nativeEvent;var y=new f.constructor(f.type,f);ei=y,f.target.dispatchEvent(y),ei=null}else return l=Xd(f),l!==null&&Tc(l),o.blockedOn=f,!1;l.shift()}return!0}function im(o,l,f){St(o)&&f.delete(l)}function vv(){oi=!1,ai!==null&&St(ai)&&(ai=null),li!==null&&St(li)&&(li=null),Rn!==null&&St(Rn)&&(Rn=null),fl.forEach(im),Ki.forEach(im)}function Bo(o,l){o.blockedOn===l&&(o.blockedOn=null,oi||(oi=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vv)))}function zo(o){function l(x){return Bo(x,o)}if(0<Sc.length){Bo(Sc[0],o);for(var f=1;f<Sc.length;f++){var y=Sc[f];y.blockedOn===o&&(y.blockedOn=null)}}for(ai!==null&&Bo(ai,o),li!==null&&Bo(li,o),Rn!==null&&Bo(Rn,o),fl.forEach(l),Ki.forEach(l),f=0;f<Lr.length;f++)y=Lr[f],y.blockedOn===o&&(y.blockedOn=null);for(;0<Lr.length&&(f=Lr[0],f.blockedOn===null);)Cc(f),f.blockedOn===null&&Lr.shift()}var Yi=L.ReactCurrentBatchConfig,Qi=!0;function ci(o,l,f,y){var x=ot,E=Yi.transition;Yi.transition=null;try{ot=1,Vd(o,l,f,y)}finally{ot=x,Yi.transition=E}}function om(o,l,f,y){var x=ot,E=Yi.transition;Yi.transition=null;try{ot=4,Vd(o,l,f,y)}finally{ot=x,Yi.transition=E}}function Vd(o,l,f,y){if(Qi){var x=Ic(o,l,f,y);if(x===null)Pv(o,l,y,ui,f),Uo(o,y);else if(sm(x,o,l,f,y))y.stopPropagation();else if(Uo(o,y),l&4&&-1<rm.indexOf(o)){for(;x!==null;){var E=Xd(x);if(E!==null&&Dd(E),E=Ic(o,l,f,y),E===null&&Pv(o,l,y,ui,f),E===x)break;x=E}x!==null&&y.stopPropagation()}else Pv(o,l,y,null,f)}}var ui=null;function Ic(o,l,f,y){if(ui=null,o=Wi(y),o=yl(o),o!==null)if(l=Ts(o),l===null)o=null;else if(f=l.tag,f===13){if(o=Cd(l),o!==null)return o;o=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return ui=o,null}function Nc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gv()){case Ec:return 1;case Nd:return 4;case al:case Pd:return 16;case bc:return 536870912;default:return 16}default:return 16}}var Vr=null,Pc=null,Xi=null;function am(){if(Xi)return Xi;var o,l=Pc,f=l.length,y,x="value"in Vr?Vr.value:Vr.textContent,E=x.length;for(o=0;o<f&&l[o]===x[o];o++);var P=f-o;for(y=1;y<=P&&l[f-y]===x[E-y];y++);return Xi=x.slice(o,1<y?1-y:void 0)}function ml(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function di(){return!0}function Fd(){return!1}function Wn(o){function l(f,y,x,E,P){this._reactName=f,this._targetInst=x,this.type=y,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var B in o)o.hasOwnProperty(B)&&(f=o[B],this[B]=f?f(E):E[B]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?di:Fd,this.isPropagationStopped=Fd,this}return ie(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),l}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=Wn(hi),$o=ie({},hi,{view:0,detail:0}),Ac=Wn($o),Rc,kc,Fr,gl=ie({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ge,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fr&&(Fr&&o.type==="mousemove"?(Rc=o.screenX-Fr.screenX,kc=o.screenY-Fr.screenY):kc=Rc=0,Fr=o),Rc)},movementY:function(o){return"movementY"in o?o.movementY:kc}}),Ud=Wn(gl),lm=ie({},gl,{dataTransfer:0}),cm=Wn(lm),jc=ie({},$o,{relatedTarget:0}),kn=Wn(jc),um=ie({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=Wn(um),Wo=ie({},hi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),p=Wn(Wo),b=ie({},hi,{data:0}),I=Wn(b),D={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function me(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=J[o])?!!l[o]:!1}function Ge(){return me}var nn=ie({},$o,{key:function(o){if(o.key){var l=D[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=ml(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?K[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ge,charCode:function(o){return o.type==="keypress"?ml(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ml(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),wt=Wn(nn),cn=ie({},gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ur=Wn(cn),Ji=ie({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ge}),fi=Wn(Ji),mi=ie({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dc=Wn(mi),Bd=ie({},gl,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),k4=Wn(Bd),j4=[9,13,27,32],xv=c&&"CompositionEvent"in window,zd=null;c&&"documentMode"in document&&(zd=document.documentMode);var D4=c&&"TextEvent"in window&&!zd,vT=c&&(!xv||zd&&8<zd&&11>=zd),xT=" ",_T=!1;function wT(o,l){switch(o){case"keyup":return j4.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ET(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Mc=!1;function M4(o,l){switch(o){case"compositionend":return ET(l);case"keypress":return l.which!==32?null:(_T=!0,xT);case"textInput":return o=l.data,o===xT&&_T?null:o;default:return null}}function O4(o,l){if(Mc)return o==="compositionend"||!xv&&wT(o,l)?(o=am(),Xi=Pc=Vr=null,Mc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return vT&&l.locale!=="ko"?null:l.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!L4[o.type]:l==="textarea"}function TT(o,l,f,y){ti(y),l=gm(l,"onChange"),0<l.length&&(f=new pl("onChange","change",null,f,y),o.push({event:f,listeners:l}))}var $d=null,Wd=null;function V4(o){zT(o,0)}function hm(o){var l=Uc(o);if(et(l))return o}function F4(o,l){if(o==="change")return l}var ST=!1;if(c){var _v;if(c){var wv="oninput"in document;if(!wv){var CT=document.createElement("div");CT.setAttribute("oninput","return;"),wv=typeof CT.oninput=="function"}_v=wv}else _v=!1;ST=_v&&(!document.documentMode||9<document.documentMode)}function IT(){$d&&($d.detachEvent("onpropertychange",NT),Wd=$d=null)}function NT(o){if(o.propertyName==="value"&&hm(Wd)){var l=[];TT(l,Wd,o,Wi(o)),Bn(V4,l)}}function U4(o,l,f){o==="focusin"?(IT(),$d=l,Wd=f,$d.attachEvent("onpropertychange",NT)):o==="focusout"&&IT()}function B4(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return hm(Wd)}function z4(o,l){if(o==="click")return hm(l)}function $4(o,l){if(o==="input"||o==="change")return hm(l)}function W4(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Cs=typeof Object.is=="function"?Object.is:W4;function qd(o,l){if(Cs(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var f=Object.keys(o),y=Object.keys(l);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var x=f[y];if(!d.call(l,x)||!Cs(o[x],l[x]))return!1}return!0}function PT(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function AT(o,l){var f=PT(o);o=0;for(var y;f;){if(f.nodeType===3){if(y=o+f.textContent.length,o<=l&&y>=l)return{node:f,offset:l-o};o=y}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=PT(f)}}function RT(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?RT(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function kT(){for(var o=window,l=At();l instanceof o.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)o=l.contentWindow;else break;l=At(o.document)}return l}function Ev(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function q4(o){var l=kT(),f=o.focusedElem,y=o.selectionRange;if(l!==f&&f&&f.ownerDocument&&RT(f.ownerDocument.documentElement,f)){if(y!==null&&Ev(f)){if(l=y.start,o=y.end,o===void 0&&(o=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(o,f.value.length);else if(o=(l=f.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var x=f.textContent.length,E=Math.min(y.start,x);y=y.end===void 0?E:Math.min(y.end,x),!o.extend&&E>y&&(x=y,y=E,E=x),x=AT(f,E);var P=AT(f,y);x&&P&&(o.rangeCount!==1||o.anchorNode!==x.node||o.anchorOffset!==x.offset||o.focusNode!==P.node||o.focusOffset!==P.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),o.removeAllRanges(),E>y?(o.addRange(l),o.extend(P.node,P.offset)):(l.setEnd(P.node,P.offset),o.addRange(l)))}}for(l=[],o=f;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)o=l[f],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var H4=c&&"documentMode"in document&&11>=document.documentMode,Oc=null,bv=null,Hd=null,Tv=!1;function jT(o,l,f){var y=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Tv||Oc==null||Oc!==At(y)||(y=Oc,"selectionStart"in y&&Ev(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Hd&&qd(Hd,y)||(Hd=y,y=gm(bv,"onSelect"),0<y.length&&(l=new pl("onSelect","select",null,l,f),o.push({event:l,listeners:y}),l.target=Oc)))}function fm(o,l){var f={};return f[o.toLowerCase()]=l.toLowerCase(),f["Webkit"+o]="webkit"+l,f["Moz"+o]="moz"+l,f}var Lc={animationend:fm("Animation","AnimationEnd"),animationiteration:fm("Animation","AnimationIteration"),animationstart:fm("Animation","AnimationStart"),transitionend:fm("Transition","TransitionEnd")},Sv={},DT={};c&&(DT=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function mm(o){if(Sv[o])return Sv[o];if(!Lc[o])return o;var l=Lc[o],f;for(f in l)if(l.hasOwnProperty(f)&&f in DT)return Sv[o]=l[f];return o}var MT=mm("animationend"),OT=mm("animationiteration"),LT=mm("animationstart"),VT=mm("transitionend"),FT=new Map,UT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(o,l){FT.set(o,l),i(l,[o])}for(var Cv=0;Cv<UT.length;Cv++){var Iv=UT[Cv],G4=Iv.toLowerCase(),K4=Iv[0].toUpperCase()+Iv.slice(1);qo(G4,"on"+K4)}qo(MT,"onAnimationEnd"),qo(OT,"onAnimationIteration"),qo(LT,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(VT,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gd));function BT(o,l,f){var y=o.type||"unknown-event";o.currentTarget=f,Sd(y,l,void 0,o),o.currentTarget=null}function zT(o,l){l=(l&4)!==0;for(var f=0;f<o.length;f++){var y=o[f],x=y.event;y=y.listeners;e:{var E=void 0;if(l)for(var P=y.length-1;0<=P;P--){var B=y[P],$=B.instance,X=B.currentTarget;if(B=B.listener,$!==E&&x.isPropagationStopped())break e;BT(x,B,X),E=$}else for(P=0;P<y.length;P++){if(B=y[P],$=B.instance,X=B.currentTarget,B=B.listener,$!==E&&x.isPropagationStopped())break e;BT(x,B,X),E=$}}}if(_c)throw o=ns,_c=!1,ns=null,o}function kt(o,l){var f=l[Mv];f===void 0&&(f=l[Mv]=new Set);var y=o+"__bubble";f.has(y)||($T(l,o,2,!1),f.add(y))}function Nv(o,l,f){var y=0;l&&(y|=4),$T(f,o,y,l)}var pm="_reactListening"+Math.random().toString(36).slice(2);function Kd(o){if(!o[pm]){o[pm]=!0,r.forEach(function(f){f!=="selectionchange"&&(Y4.has(f)||Nv(f,!1,o),Nv(f,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[pm]||(l[pm]=!0,Nv("selectionchange",!1,l))}}function $T(o,l,f,y){switch(Nc(l)){case 1:var x=ci;break;case 4:x=om;break;default:x=Vd}f=x.bind(null,l,f,o),x=void 0,!$n||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),y?x!==void 0?o.addEventListener(l,f,{capture:!0,passive:x}):o.addEventListener(l,f,!0):x!==void 0?o.addEventListener(l,f,{passive:x}):o.addEventListener(l,f,!1)}function Pv(o,l,f,y,x){var E=y;if((l&1)===0&&(l&2)===0&&y!==null)e:for(;;){if(y===null)return;var P=y.tag;if(P===3||P===4){var B=y.stateNode.containerInfo;if(B===x||B.nodeType===8&&B.parentNode===x)break;if(P===4)for(P=y.return;P!==null;){var $=P.tag;if(($===3||$===4)&&($=P.stateNode.containerInfo,$===x||$.nodeType===8&&$.parentNode===x))return;P=P.return}for(;B!==null;){if(P=yl(B),P===null)return;if($=P.tag,$===5||$===6){y=E=P;continue e}B=B.parentNode}}y=y.return}Bn(function(){var X=E,ae=Wi(f),ue=[];e:{var oe=FT.get(o);if(oe!==void 0){var _e=pl,Te=o;switch(o){case"keypress":if(ml(f)===0)break e;case"keydown":case"keyup":_e=wt;break;case"focusin":Te="focus",_e=kn;break;case"focusout":Te="blur",_e=kn;break;case"beforeblur":case"afterblur":_e=kn;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=fi;break;case MT:case OT:case LT:_e=dm;break;case VT:_e=Dc;break;case"scroll":_e=Ac;break;case"wheel":_e=k4;break;case"copy":case"cut":case"paste":_e=p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=Ur}var Ce=(l&4)!==0,rn=!Ce&&o==="scroll",G=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var q=X,Q;q!==null;){Q=q;var de=Q.stateNode;if(Q.tag===5&&de!==null&&(Q=de,G!==null&&(de=zn(q,G),de!=null&&Ce.push(Yd(q,de,Q)))),rn)break;q=q.return}0<Ce.length&&(oe=new _e(oe,Te,null,f,ae),ue.push({event:oe,listeners:Ce}))}}if((l&7)===0){e:{if(oe=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",oe&&f!==ei&&(Te=f.relatedTarget||f.fromElement)&&(yl(Te)||Te[Zi]))break e;if((_e||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,_e?(Te=f.relatedTarget||f.toElement,_e=X,Te=Te?yl(Te):null,Te!==null&&(rn=Ts(Te),Te!==rn||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(_e=null,Te=X),_e!==Te)){if(Ce=Ud,de="onMouseLeave",G="onMouseEnter",q="mouse",(o==="pointerout"||o==="pointerover")&&(Ce=Ur,de="onPointerLeave",G="onPointerEnter",q="pointer"),rn=_e==null?oe:Uc(_e),Q=Te==null?oe:Uc(Te),oe=new Ce(de,q+"leave",_e,f,ae),oe.target=rn,oe.relatedTarget=Q,de=null,yl(ae)===X&&(Ce=new Ce(G,q+"enter",Te,f,ae),Ce.target=Q,Ce.relatedTarget=rn,de=Ce),rn=de,_e&&Te)t:{for(Ce=_e,G=Te,q=0,Q=Ce;Q;Q=Vc(Q))q++;for(Q=0,de=G;de;de=Vc(de))Q++;for(;0<q-Q;)Ce=Vc(Ce),q--;for(;0<Q-q;)G=Vc(G),Q--;for(;q--;){if(Ce===G||G!==null&&Ce===G.alternate)break t;Ce=Vc(Ce),G=Vc(G)}Ce=null}else Ce=null;_e!==null&&WT(ue,oe,_e,Ce,!1),Te!==null&&rn!==null&&WT(ue,rn,Te,Ce,!0)}}e:{if(oe=X?Uc(X):window,_e=oe.nodeName&&oe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&oe.type==="file")var Ne=F4;else if(bT(oe))if(ST)Ne=$4;else{Ne=B4;var Oe=U4}else(_e=oe.nodeName)&&_e.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Ne=z4);if(Ne&&(Ne=Ne(o,X))){TT(ue,Ne,f,ae);break e}Oe&&Oe(o,oe,X),o==="focusout"&&(Oe=oe._wrapperState)&&Oe.controlled&&oe.type==="number"&&Tt(oe,"number",oe.value)}switch(Oe=X?Uc(X):window,o){case"focusin":(bT(Oe)||Oe.contentEditable==="true")&&(Oc=Oe,bv=X,Hd=null);break;case"focusout":Hd=bv=Oc=null;break;case"mousedown":Tv=!0;break;case"contextmenu":case"mouseup":case"dragend":Tv=!1,jT(ue,f,ae);break;case"selectionchange":if(H4)break;case"keydown":case"keyup":jT(ue,f,ae)}var Le;if(xv)e:{switch(o){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Mc?wT(o,f)&&(qe="onCompositionEnd"):o==="keydown"&&f.keyCode===229&&(qe="onCompositionStart");qe&&(vT&&f.locale!=="ko"&&(Mc||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Mc&&(Le=am()):(Vr=ae,Pc="value"in Vr?Vr.value:Vr.textContent,Mc=!0)),Oe=gm(X,qe),0<Oe.length&&(qe=new I(qe,o,null,f,ae),ue.push({event:qe,listeners:Oe}),Le?qe.data=Le:(Le=ET(f),Le!==null&&(qe.data=Le)))),(Le=D4?M4(o,f):O4(o,f))&&(X=gm(X,"onBeforeInput"),0<X.length&&(ae=new I("onBeforeInput","beforeinput",null,f,ae),ue.push({event:ae,listeners:X}),ae.data=Le))}zT(ue,l)})}function Yd(o,l,f){return{instance:o,listener:l,currentTarget:f}}function gm(o,l){for(var f=l+"Capture",y=[];o!==null;){var x=o,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=zn(o,f),E!=null&&y.unshift(Yd(o,E,x)),E=zn(o,l),E!=null&&y.push(Yd(o,E,x))),o=o.return}return y}function Vc(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function WT(o,l,f,y,x){for(var E=l._reactName,P=[];f!==null&&f!==y;){var B=f,$=B.alternate,X=B.stateNode;if($!==null&&$===y)break;B.tag===5&&X!==null&&(B=X,x?($=zn(f,E),$!=null&&P.unshift(Yd(f,$,B))):x||($=zn(f,E),$!=null&&P.push(Yd(f,$,B)))),f=f.return}P.length!==0&&o.push({event:l,listeners:P})}var Q4=/\r\n?/g,X4=/\u0000|\uFFFD/g;function qT(o){return(typeof o=="string"?o:""+o).replace(Q4,`
`).replace(X4,"")}function ym(o,l,f){if(l=qT(l),qT(o)!==l&&f)throw Error(n(425))}function vm(){}var Av=null,Rv=null;function kv(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jv=typeof setTimeout=="function"?setTimeout:void 0,J4=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,Z4=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(o){return HT.resolve(null).then(o).catch(eF)}:jv;function eF(o){setTimeout(function(){throw o})}function Dv(o,l){var f=l,y=0;do{var x=f.nextSibling;if(o.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(y===0){o.removeChild(x),zo(l);return}y--}else f!=="$"&&f!=="$?"&&f!=="$!"||y++;f=x}while(f);zo(l)}function Ho(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function GT(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return o;l--}else f==="/$"&&l++}o=o.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),pi="__reactFiber$"+Fc,Qd="__reactProps$"+Fc,Zi="__reactContainer$"+Fc,Mv="__reactEvents$"+Fc,tF="__reactListeners$"+Fc,nF="__reactHandles$"+Fc;function yl(o){var l=o[pi];if(l)return l;for(var f=o.parentNode;f;){if(l=f[Zi]||f[pi]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(o=GT(o);o!==null;){if(f=o[pi])return f;o=GT(o)}return l}o=f,f=o.parentNode}return null}function Xd(o){return o=o[pi]||o[Zi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Uc(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function xm(o){return o[Qd]||null}var Ov=[],Bc=-1;function Go(o){return{current:o}}function jt(o){0>Bc||(o.current=Ov[Bc],Ov[Bc]=null,Bc--)}function Nt(o,l){Bc++,Ov[Bc]=o.current,o.current=l}var Ko={},qn=Go(Ko),gr=Go(!1),vl=Ko;function zc(o,l){var f=o.type.contextTypes;if(!f)return Ko;var y=o.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===l)return y.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in f)x[E]=l[E];return y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=x),x}function yr(o){return o=o.childContextTypes,o!=null}function _m(){jt(gr),jt(qn)}function KT(o,l,f){if(qn.current!==Ko)throw Error(n(168));Nt(qn,l),Nt(gr,f)}function YT(o,l,f){var y=o.stateNode;if(l=l.childContextTypes,typeof y.getChildContext!="function")return f;y=y.getChildContext();for(var x in y)if(!(x in l))throw Error(n(108,ce(o)||"Unknown",x));return ie({},f,y)}function wm(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ko,vl=qn.current,Nt(qn,o),Nt(gr,gr.current),!0}function QT(o,l,f){var y=o.stateNode;if(!y)throw Error(n(169));f?(o=YT(o,l,vl),y.__reactInternalMemoizedMergedChildContext=o,jt(gr),jt(qn),Nt(qn,o)):jt(gr),Nt(gr,f)}var eo=null,Em=!1,Lv=!1;function XT(o){eo===null?eo=[o]:eo.push(o)}function rF(o){Em=!0,XT(o)}function Yo(){if(!Lv&&eo!==null){Lv=!0;var o=0,l=ot;try{var f=eo;for(ot=1;o<f.length;o++){var y=f[o];do y=y(!0);while(y!==null)}eo=null,Em=!1}catch(x){throw eo!==null&&(eo=eo.slice(o+1)),Id(Ec,Yo),x}finally{ot=l,Lv=!1}}return null}var $c=[],Wc=0,bm=null,Tm=0,ss=[],is=0,xl=null,to=1,no="";function _l(o,l){$c[Wc++]=Tm,$c[Wc++]=bm,bm=o,Tm=l}function JT(o,l,f){ss[is++]=to,ss[is++]=no,ss[is++]=xl,xl=o;var y=to;o=no;var x=32-Or(y)-1;y&=~(1<<x),f+=1;var E=32-Or(l)+x;if(30<E){var P=x-x%5;E=(y&(1<<P)-1).toString(32),y>>=P,x-=P,to=1<<32-Or(l)+x|f<<x|y,no=E+o}else to=1<<E|f<<x|y,no=o}function Vv(o){o.return!==null&&(_l(o,1),JT(o,1,0))}function Fv(o){for(;o===bm;)bm=$c[--Wc],$c[Wc]=null,Tm=$c[--Wc],$c[Wc]=null;for(;o===xl;)xl=ss[--is],ss[is]=null,no=ss[--is],ss[is]=null,to=ss[--is],ss[is]=null}var Br=null,zr=null,Ut=!1,Is=null;function ZT(o,l){var f=cs(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=o,l=o.deletions,l===null?(o.deletions=[f],o.flags|=16):l.push(f)}function eS(o,l){switch(o.tag){case 5:var f=o.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,Br=o,zr=Ho(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,Br=o,zr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=xl!==null?{id:to,overflow:no}:null,o.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=cs(18,null,null,0),f.stateNode=l,f.return=o,o.child=f,Br=o,zr=null,!0):!1;default:return!1}}function Uv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Bv(o){if(Ut){var l=zr;if(l){var f=l;if(!eS(o,l)){if(Uv(o))throw Error(n(418));l=Ho(f.nextSibling);var y=Br;l&&eS(o,l)?ZT(y,f):(o.flags=o.flags&-4097|2,Ut=!1,Br=o)}}else{if(Uv(o))throw Error(n(418));o.flags=o.flags&-4097|2,Ut=!1,Br=o}}}function tS(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Br=o}function Sm(o){if(o!==Br)return!1;if(!Ut)return tS(o),Ut=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!kv(o.type,o.memoizedProps)),l&&(l=zr)){if(Uv(o))throw nS(),Error(n(418));for(;l;)ZT(o,l),l=Ho(l.nextSibling)}if(tS(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var f=o.data;if(f==="/$"){if(l===0){zr=Ho(o.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}o=o.nextSibling}zr=null}}else zr=Br?Ho(o.stateNode.nextSibling):null;return!0}function nS(){for(var o=zr;o;)o=Ho(o.nextSibling)}function qc(){zr=Br=null,Ut=!1}function zv(o){Is===null?Is=[o]:Is.push(o)}var sF=L.ReactCurrentBatchConfig;function Jd(o,l,f){if(o=f.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var y=f.stateNode}if(!y)throw Error(n(147,o));var x=y,E=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===E?l.ref:(l=function(P){var B=x.refs;P===null?delete B[E]:B[E]=P},l._stringRef=E,l)}if(typeof o!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,o))}return o}function Cm(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function rS(o){var l=o._init;return l(o._payload)}function sS(o){function l(G,q){if(o){var Q=G.deletions;Q===null?(G.deletions=[q],G.flags|=16):Q.push(q)}}function f(G,q){if(!o)return null;for(;q!==null;)l(G,q),q=q.sibling;return null}function y(G,q){for(G=new Map;q!==null;)q.key!==null?G.set(q.key,q):G.set(q.index,q),q=q.sibling;return G}function x(G,q){return G=ra(G,q),G.index=0,G.sibling=null,G}function E(G,q,Q){return G.index=Q,o?(Q=G.alternate,Q!==null?(Q=Q.index,Q<q?(G.flags|=2,q):Q):(G.flags|=2,q)):(G.flags|=1048576,q)}function P(G){return o&&G.alternate===null&&(G.flags|=2),G}function B(G,q,Q,de){return q===null||q.tag!==6?(q=jx(Q,G.mode,de),q.return=G,q):(q=x(q,Q),q.return=G,q)}function $(G,q,Q,de){var Ne=Q.type;return Ne===j?ae(G,q,Q.props.children,de,Q.key):q!==null&&(q.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===he&&rS(Ne)===q.type)?(de=x(q,Q.props),de.ref=Jd(G,q,Q),de.return=G,de):(de=Qm(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Jd(G,q,Q),de.return=G,de)}function X(G,q,Q,de){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Dx(Q,G.mode,de),q.return=G,q):(q=x(q,Q.children||[]),q.return=G,q)}function ae(G,q,Q,de,Ne){return q===null||q.tag!==7?(q=Nl(Q,G.mode,de,Ne),q.return=G,q):(q=x(q,Q),q.return=G,q)}function ue(G,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=jx(""+q,G.mode,Q),q.return=G,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case z:return Q=Qm(q.type,q.key,q.props,null,G.mode,Q),Q.ref=Jd(G,null,q),Q.return=G,Q;case H:return q=Dx(q,G.mode,Q),q.return=G,q;case he:var de=q._init;return ue(G,de(q._payload),Q)}if(Ft(q)||ee(q))return q=Nl(q,G.mode,Q,null),q.return=G,q;Cm(G,q)}return null}function oe(G,q,Q,de){var Ne=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ne!==null?null:B(G,q,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return Q.key===Ne?$(G,q,Q,de):null;case H:return Q.key===Ne?X(G,q,Q,de):null;case he:return Ne=Q._init,oe(G,q,Ne(Q._payload),de)}if(Ft(Q)||ee(Q))return Ne!==null?null:ae(G,q,Q,de,null);Cm(G,Q)}return null}function _e(G,q,Q,de,Ne){if(typeof de=="string"&&de!==""||typeof de=="number")return G=G.get(Q)||null,B(q,G,""+de,Ne);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case z:return G=G.get(de.key===null?Q:de.key)||null,$(q,G,de,Ne);case H:return G=G.get(de.key===null?Q:de.key)||null,X(q,G,de,Ne);case he:var Oe=de._init;return _e(G,q,Q,Oe(de._payload),Ne)}if(Ft(de)||ee(de))return G=G.get(Q)||null,ae(q,G,de,Ne,null);Cm(q,de)}return null}function Te(G,q,Q,de){for(var Ne=null,Oe=null,Le=q,qe=q=0,Sn=null;Le!==null&&qe<Q.length;qe++){Le.index>qe?(Sn=Le,Le=null):Sn=Le.sibling;var mt=oe(G,Le,Q[qe],de);if(mt===null){Le===null&&(Le=Sn);break}o&&Le&&mt.alternate===null&&l(G,Le),q=E(mt,q,qe),Oe===null?Ne=mt:Oe.sibling=mt,Oe=mt,Le=Sn}if(qe===Q.length)return f(G,Le),Ut&&_l(G,qe),Ne;if(Le===null){for(;qe<Q.length;qe++)Le=ue(G,Q[qe],de),Le!==null&&(q=E(Le,q,qe),Oe===null?Ne=Le:Oe.sibling=Le,Oe=Le);return Ut&&_l(G,qe),Ne}for(Le=y(G,Le);qe<Q.length;qe++)Sn=_e(Le,G,qe,Q[qe],de),Sn!==null&&(o&&Sn.alternate!==null&&Le.delete(Sn.key===null?qe:Sn.key),q=E(Sn,q,qe),Oe===null?Ne=Sn:Oe.sibling=Sn,Oe=Sn);return o&&Le.forEach(function(sa){return l(G,sa)}),Ut&&_l(G,qe),Ne}function Ce(G,q,Q,de){var Ne=ee(Q);if(typeof Ne!="function")throw Error(n(150));if(Q=Ne.call(Q),Q==null)throw Error(n(151));for(var Oe=Ne=null,Le=q,qe=q=0,Sn=null,mt=Q.next();Le!==null&&!mt.done;qe++,mt=Q.next()){Le.index>qe?(Sn=Le,Le=null):Sn=Le.sibling;var sa=oe(G,Le,mt.value,de);if(sa===null){Le===null&&(Le=Sn);break}o&&Le&&sa.alternate===null&&l(G,Le),q=E(sa,q,qe),Oe===null?Ne=sa:Oe.sibling=sa,Oe=sa,Le=Sn}if(mt.done)return f(G,Le),Ut&&_l(G,qe),Ne;if(Le===null){for(;!mt.done;qe++,mt=Q.next())mt=ue(G,mt.value,de),mt!==null&&(q=E(mt,q,qe),Oe===null?Ne=mt:Oe.sibling=mt,Oe=mt);return Ut&&_l(G,qe),Ne}for(Le=y(G,Le);!mt.done;qe++,mt=Q.next())mt=_e(Le,G,qe,mt.value,de),mt!==null&&(o&&mt.alternate!==null&&Le.delete(mt.key===null?qe:mt.key),q=E(mt,q,qe),Oe===null?Ne=mt:Oe.sibling=mt,Oe=mt);return o&&Le.forEach(function(LF){return l(G,LF)}),Ut&&_l(G,qe),Ne}function rn(G,q,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:e:{for(var Ne=Q.key,Oe=q;Oe!==null;){if(Oe.key===Ne){if(Ne=Q.type,Ne===j){if(Oe.tag===7){f(G,Oe.sibling),q=x(Oe,Q.props.children),q.return=G,G=q;break e}}else if(Oe.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===he&&rS(Ne)===Oe.type){f(G,Oe.sibling),q=x(Oe,Q.props),q.ref=Jd(G,Oe,Q),q.return=G,G=q;break e}f(G,Oe);break}else l(G,Oe);Oe=Oe.sibling}Q.type===j?(q=Nl(Q.props.children,G.mode,de,Q.key),q.return=G,G=q):(de=Qm(Q.type,Q.key,Q.props,null,G.mode,de),de.ref=Jd(G,q,Q),de.return=G,G=de)}return P(G);case H:e:{for(Oe=Q.key;q!==null;){if(q.key===Oe)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){f(G,q.sibling),q=x(q,Q.children||[]),q.return=G,G=q;break e}else{f(G,q);break}else l(G,q);q=q.sibling}q=Dx(Q,G.mode,de),q.return=G,G=q}return P(G);case he:return Oe=Q._init,rn(G,q,Oe(Q._payload),de)}if(Ft(Q))return Te(G,q,Q,de);if(ee(Q))return Ce(G,q,Q,de);Cm(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(f(G,q.sibling),q=x(q,Q),q.return=G,G=q):(f(G,q),q=jx(Q,G.mode,de),q.return=G,G=q),P(G)):f(G,q)}return rn}var Hc=sS(!0),iS=sS(!1),Im=Go(null),Nm=null,Gc=null,$v=null;function Wv(){$v=Gc=Nm=null}function qv(o){var l=Im.current;jt(Im),o._currentValue=l}function Hv(o,l,f){for(;o!==null;){var y=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,y!==null&&(y.childLanes|=l)):y!==null&&(y.childLanes&l)!==l&&(y.childLanes|=l),o===f)break;o=o.return}}function Kc(o,l){Nm=o,$v=Gc=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(vr=!0),o.firstContext=null)}function os(o){var l=o._currentValue;if($v!==o)if(o={context:o,memoizedValue:l,next:null},Gc===null){if(Nm===null)throw Error(n(308));Gc=o,Nm.dependencies={lanes:0,firstContext:o}}else Gc=Gc.next=o;return l}var wl=null;function Gv(o){wl===null?wl=[o]:wl.push(o)}function oS(o,l,f,y){var x=l.interleaved;return x===null?(f.next=f,Gv(l)):(f.next=x.next,x.next=f),l.interleaved=f,ro(o,y)}function ro(o,l){o.lanes|=l;var f=o.alternate;for(f!==null&&(f.lanes|=l),f=o,o=o.return;o!==null;)o.childLanes|=l,f=o.alternate,f!==null&&(f.childLanes|=l),f=o,o=o.return;return f.tag===3?f.stateNode:null}var Qo=!1;function Kv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aS(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function so(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Xo(o,l,f){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(ft&2)!==0){var x=y.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),y.pending=l,ro(o,f)}return x=y.interleaved,x===null?(l.next=l,Gv(y)):(l.next=x.next,x.next=l),y.interleaved=l,ro(o,f)}function Pm(o,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,jd(o,f)}}function lS(o,l){var f=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,f===y)){var x=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var P={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?x=E=P:E=E.next=P,f=f.next}while(f!==null);E===null?x=E=l:E=E.next=l}else x=E=l;f={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:y.shared,effects:y.effects},o.updateQueue=f;return}o=f.lastBaseUpdate,o===null?f.firstBaseUpdate=l:o.next=l,f.lastBaseUpdate=l}function Am(o,l,f,y){var x=o.updateQueue;Qo=!1;var E=x.firstBaseUpdate,P=x.lastBaseUpdate,B=x.shared.pending;if(B!==null){x.shared.pending=null;var $=B,X=$.next;$.next=null,P===null?E=X:P.next=X,P=$;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,B=ae.lastBaseUpdate,B!==P&&(B===null?ae.firstBaseUpdate=X:B.next=X,ae.lastBaseUpdate=$))}if(E!==null){var ue=x.baseState;P=0,ae=X=$=null,B=E;do{var oe=B.lane,_e=B.eventTime;if((y&oe)===oe){ae!==null&&(ae=ae.next={eventTime:_e,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Te=o,Ce=B;switch(oe=l,_e=f,Ce.tag){case 1:if(Te=Ce.payload,typeof Te=="function"){ue=Te.call(_e,ue,oe);break e}ue=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Ce.payload,oe=typeof Te=="function"?Te.call(_e,ue,oe):Te,oe==null)break e;ue=ie({},ue,oe);break e;case 2:Qo=!0}}B.callback!==null&&B.lane!==0&&(o.flags|=64,oe=x.effects,oe===null?x.effects=[B]:oe.push(B))}else _e={eventTime:_e,lane:oe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ae===null?(X=ae=_e,$=ue):ae=ae.next=_e,P|=oe;if(B=B.next,B===null){if(B=x.shared.pending,B===null)break;oe=B,B=oe.next,oe.next=null,x.lastBaseUpdate=oe,x.shared.pending=null}}while(!0);if(ae===null&&($=ue),x.baseState=$,x.firstBaseUpdate=X,x.lastBaseUpdate=ae,l=x.shared.interleaved,l!==null){x=l;do P|=x.lane,x=x.next;while(x!==l)}else E===null&&(x.shared.lanes=0);Tl|=P,o.lanes=P,o.memoizedState=ue}}function cS(o,l,f){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var y=o[l],x=y.callback;if(x!==null){if(y.callback=null,y=f,typeof x!="function")throw Error(n(191,x));x.call(y)}}}var Zd={},gi=Go(Zd),eh=Go(Zd),th=Go(Zd);function El(o){if(o===Zd)throw Error(n(174));return o}function Yv(o,l){switch(Nt(th,l),Nt(eh,o),Nt(gi,Zd),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:kr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=kr(l,o)}jt(gi),Nt(gi,l)}function Yc(){jt(gi),jt(eh),jt(th)}function uS(o){El(th.current);var l=El(gi.current),f=kr(l,o.type);l!==f&&(Nt(eh,o),Nt(gi,f))}function Qv(o){eh.current===o&&(jt(gi),jt(eh))}var Ht=Go(0);function Rm(o){for(var l=o;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Xv=[];function Jv(){for(var o=0;o<Xv.length;o++)Xv[o]._workInProgressVersionPrimary=null;Xv.length=0}var km=L.ReactCurrentDispatcher,Zv=L.ReactCurrentBatchConfig,bl=0,Gt=null,yn=null,bn=null,jm=!1,nh=!1,rh=0,iF=0;function Hn(){throw Error(n(321))}function ex(o,l){if(l===null)return!1;for(var f=0;f<l.length&&f<o.length;f++)if(!Cs(o[f],l[f]))return!1;return!0}function tx(o,l,f,y,x,E){if(bl=E,Gt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,km.current=o===null||o.memoizedState===null?cF:uF,o=f(y,x),nh){E=0;do{if(nh=!1,rh=0,25<=E)throw Error(n(301));E+=1,bn=yn=null,l.updateQueue=null,km.current=dF,o=f(y,x)}while(nh)}if(km.current=Om,l=yn!==null&&yn.next!==null,bl=0,bn=yn=Gt=null,jm=!1,l)throw Error(n(300));return o}function nx(){var o=rh!==0;return rh=0,o}function yi(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Gt.memoizedState=bn=o:bn=bn.next=o,bn}function as(){if(yn===null){var o=Gt.alternate;o=o!==null?o.memoizedState:null}else o=yn.next;var l=bn===null?Gt.memoizedState:bn.next;if(l!==null)bn=l,yn=o;else{if(o===null)throw Error(n(310));yn=o,o={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},bn===null?Gt.memoizedState=bn=o:bn=bn.next=o}return bn}function sh(o,l){return typeof l=="function"?l(o):l}function rx(o){var l=as(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=yn,x=y.baseQueue,E=f.pending;if(E!==null){if(x!==null){var P=x.next;x.next=E.next,E.next=P}y.baseQueue=x=E,f.pending=null}if(x!==null){E=x.next,y=y.baseState;var B=P=null,$=null,X=E;do{var ae=X.lane;if((bl&ae)===ae)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),y=X.hasEagerState?X.eagerState:o(y,X.action);else{var ue={lane:ae,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(B=$=ue,P=y):$=$.next=ue,Gt.lanes|=ae,Tl|=ae}X=X.next}while(X!==null&&X!==E);$===null?P=y:$.next=B,Cs(y,l.memoizedState)||(vr=!0),l.memoizedState=y,l.baseState=P,l.baseQueue=$,f.lastRenderedState=y}if(o=f.interleaved,o!==null){x=o;do E=x.lane,Gt.lanes|=E,Tl|=E,x=x.next;while(x!==o)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function sx(o){var l=as(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=o;var y=f.dispatch,x=f.pending,E=l.memoizedState;if(x!==null){f.pending=null;var P=x=x.next;do E=o(E,P.action),P=P.next;while(P!==x);Cs(E,l.memoizedState)||(vr=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),f.lastRenderedState=E}return[E,y]}function dS(){}function hS(o,l){var f=Gt,y=as(),x=l(),E=!Cs(y.memoizedState,x);if(E&&(y.memoizedState=x,vr=!0),y=y.queue,ix(pS.bind(null,f,y,o),[o]),y.getSnapshot!==l||E||bn!==null&&bn.memoizedState.tag&1){if(f.flags|=2048,ih(9,mS.bind(null,f,y,x,l),void 0,null),Tn===null)throw Error(n(349));(bl&30)!==0||fS(f,l,x)}return x}function fS(o,l,f){o.flags|=16384,o={getSnapshot:l,value:f},l=Gt.updateQueue,l===null?(l={lastEffect:null,stores:null},Gt.updateQueue=l,l.stores=[o]):(f=l.stores,f===null?l.stores=[o]:f.push(o))}function mS(o,l,f,y){l.value=f,l.getSnapshot=y,gS(l)&&yS(o)}function pS(o,l,f){return f(function(){gS(l)&&yS(o)})}function gS(o){var l=o.getSnapshot;o=o.value;try{var f=l();return!Cs(o,f)}catch{return!0}}function yS(o){var l=ro(o,1);l!==null&&Rs(l,o,1,-1)}function vS(o){var l=yi();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sh,lastRenderedState:o},l.queue=o,o=o.dispatch=lF.bind(null,Gt,o),[l.memoizedState,o]}function ih(o,l,f,y){return o={tag:o,create:l,destroy:f,deps:y,next:null},l=Gt.updateQueue,l===null?(l={lastEffect:null,stores:null},Gt.updateQueue=l,l.lastEffect=o.next=o):(f=l.lastEffect,f===null?l.lastEffect=o.next=o:(y=f.next,f.next=o,o.next=y,l.lastEffect=o)),o}function xS(){return as().memoizedState}function Dm(o,l,f,y){var x=yi();Gt.flags|=o,x.memoizedState=ih(1|l,f,void 0,y===void 0?null:y)}function Mm(o,l,f,y){var x=as();y=y===void 0?null:y;var E=void 0;if(yn!==null){var P=yn.memoizedState;if(E=P.destroy,y!==null&&ex(y,P.deps)){x.memoizedState=ih(l,f,E,y);return}}Gt.flags|=o,x.memoizedState=ih(1|l,f,E,y)}function _S(o,l){return Dm(8390656,8,o,l)}function ix(o,l){return Mm(2048,8,o,l)}function wS(o,l){return Mm(4,2,o,l)}function ES(o,l){return Mm(4,4,o,l)}function bS(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function TS(o,l,f){return f=f!=null?f.concat([o]):null,Mm(4,4,bS.bind(null,l,o),f)}function ox(){}function SS(o,l){var f=as();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&ex(l,y[1])?y[0]:(f.memoizedState=[o,l],o)}function CS(o,l){var f=as();l=l===void 0?null:l;var y=f.memoizedState;return y!==null&&l!==null&&ex(l,y[1])?y[0]:(o=o(),f.memoizedState=[o,l],o)}function IS(o,l,f){return(bl&21)===0?(o.baseState&&(o.baseState=!1,vr=!0),o.memoizedState=f):(Cs(f,l)||(f=Rd(),Gt.lanes|=f,Tl|=f,o.baseState=!0),l)}function oF(o,l){var f=ot;ot=f!==0&&4>f?f:4,o(!0);var y=Zv.transition;Zv.transition={};try{o(!1),l()}finally{ot=f,Zv.transition=y}}function NS(){return as().memoizedState}function aF(o,l,f){var y=ta(o);if(f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},PS(o))AS(l,f);else if(f=oS(o,l,f,y),f!==null){var x=lr();Rs(f,o,y,x),RS(f,l,y)}}function lF(o,l,f){var y=ta(o),x={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(PS(o))AS(l,x);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var P=l.lastRenderedState,B=E(P,f);if(x.hasEagerState=!0,x.eagerState=B,Cs(B,P)){var $=l.interleaved;$===null?(x.next=x,Gv(l)):(x.next=$.next,$.next=x),l.interleaved=x;return}}catch{}finally{}f=oS(o,l,x,y),f!==null&&(x=lr(),Rs(f,o,y,x),RS(f,l,y))}}function PS(o){var l=o.alternate;return o===Gt||l!==null&&l===Gt}function AS(o,l){nh=jm=!0;var f=o.pending;f===null?l.next=l:(l.next=f.next,f.next=l),o.pending=l}function RS(o,l,f){if((f&4194240)!==0){var y=l.lanes;y&=o.pendingLanes,f|=y,l.lanes=f,jd(o,f)}}var Om={readContext:os,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},cF={readContext:os,useCallback:function(o,l){return yi().memoizedState=[o,l===void 0?null:l],o},useContext:os,useEffect:_S,useImperativeHandle:function(o,l,f){return f=f!=null?f.concat([o]):null,Dm(4194308,4,bS.bind(null,l,o),f)},useLayoutEffect:function(o,l){return Dm(4194308,4,o,l)},useInsertionEffect:function(o,l){return Dm(4,2,o,l)},useMemo:function(o,l){var f=yi();return l=l===void 0?null:l,o=o(),f.memoizedState=[o,l],o},useReducer:function(o,l,f){var y=yi();return l=f!==void 0?f(l):l,y.memoizedState=y.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},y.queue=o,o=o.dispatch=aF.bind(null,Gt,o),[y.memoizedState,o]},useRef:function(o){var l=yi();return o={current:o},l.memoizedState=o},useState:vS,useDebugValue:ox,useDeferredValue:function(o){return yi().memoizedState=o},useTransition:function(){var o=vS(!1),l=o[0];return o=oF.bind(null,o[1]),yi().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,f){var y=Gt,x=yi();if(Ut){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),Tn===null)throw Error(n(349));(bl&30)!==0||fS(y,l,f)}x.memoizedState=f;var E={value:f,getSnapshot:l};return x.queue=E,_S(pS.bind(null,y,E,o),[o]),y.flags|=2048,ih(9,mS.bind(null,y,E,f,l),void 0,null),f},useId:function(){var o=yi(),l=Tn.identifierPrefix;if(Ut){var f=no,y=to;f=(y&~(1<<32-Or(y)-1)).toString(32)+f,l=":"+l+"R"+f,f=rh++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=iF++,l=":"+l+"r"+f.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},uF={readContext:os,useCallback:SS,useContext:os,useEffect:ix,useImperativeHandle:TS,useInsertionEffect:wS,useLayoutEffect:ES,useMemo:CS,useReducer:rx,useRef:xS,useState:function(){return rx(sh)},useDebugValue:ox,useDeferredValue:function(o){var l=as();return IS(l,yn.memoizedState,o)},useTransition:function(){var o=rx(sh)[0],l=as().memoizedState;return[o,l]},useMutableSource:dS,useSyncExternalStore:hS,useId:NS,unstable_isNewReconciler:!1},dF={readContext:os,useCallback:SS,useContext:os,useEffect:ix,useImperativeHandle:TS,useInsertionEffect:wS,useLayoutEffect:ES,useMemo:CS,useReducer:sx,useRef:xS,useState:function(){return sx(sh)},useDebugValue:ox,useDeferredValue:function(o){var l=as();return yn===null?l.memoizedState=o:IS(l,yn.memoizedState,o)},useTransition:function(){var o=sx(sh)[0],l=as().memoizedState;return[o,l]},useMutableSource:dS,useSyncExternalStore:hS,useId:NS,unstable_isNewReconciler:!1};function Ns(o,l){if(o&&o.defaultProps){l=ie({},l),o=o.defaultProps;for(var f in o)l[f]===void 0&&(l[f]=o[f]);return l}return l}function ax(o,l,f,y){l=o.memoizedState,f=f(y,l),f=f==null?l:ie({},l,f),o.memoizedState=f,o.lanes===0&&(o.updateQueue.baseState=f)}var Lm={isMounted:function(o){return(o=o._reactInternals)?Ts(o)===o:!1},enqueueSetState:function(o,l,f){o=o._reactInternals;var y=lr(),x=ta(o),E=so(y,x);E.payload=l,f!=null&&(E.callback=f),l=Xo(o,E,x),l!==null&&(Rs(l,o,x,y),Pm(l,o,x))},enqueueReplaceState:function(o,l,f){o=o._reactInternals;var y=lr(),x=ta(o),E=so(y,x);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=Xo(o,E,x),l!==null&&(Rs(l,o,x,y),Pm(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var f=lr(),y=ta(o),x=so(f,y);x.tag=2,l!=null&&(x.callback=l),l=Xo(o,x,y),l!==null&&(Rs(l,o,y,f),Pm(l,o,y))}};function kS(o,l,f,y,x,E,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,E,P):l.prototype&&l.prototype.isPureReactComponent?!qd(f,y)||!qd(x,E):!0}function jS(o,l,f){var y=!1,x=Ko,E=l.contextType;return typeof E=="object"&&E!==null?E=os(E):(x=yr(l)?vl:qn.current,y=l.contextTypes,E=(y=y!=null)?zc(o,x):Ko),l=new l(f,E),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Lm,o.stateNode=l,l._reactInternals=o,y&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=x,o.__reactInternalMemoizedMaskedChildContext=E),l}function DS(o,l,f,y){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,y),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,y),l.state!==o&&Lm.enqueueReplaceState(l,l.state,null)}function lx(o,l,f,y){var x=o.stateNode;x.props=f,x.state=o.memoizedState,x.refs={},Kv(o);var E=l.contextType;typeof E=="object"&&E!==null?x.context=os(E):(E=yr(l)?vl:qn.current,x.context=zc(o,E)),x.state=o.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(ax(o,l,E,f),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Lm.enqueueReplaceState(x,x.state,null),Am(o,f,x,y),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308)}function Qc(o,l){try{var f="",y=l;do f+=Pe(y),y=y.return;while(y);var x=f}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:o,source:l,stack:x,digest:null}}function cx(o,l,f){return{value:o,source:null,stack:f??null,digest:l??null}}function ux(o,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var hF=typeof WeakMap=="function"?WeakMap:Map;function MS(o,l,f){f=so(-1,f),f.tag=3,f.payload={element:null};var y=l.value;return f.callback=function(){Wm||(Wm=!0,Sx=y),ux(o,l)},f}function OS(o,l,f){f=so(-1,f),f.tag=3;var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var x=l.value;f.payload=function(){return y(x)},f.callback=function(){ux(o,l)}}var E=o.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){ux(o,l),typeof y!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var P=l.stack;this.componentDidCatch(l.value,{componentStack:P!==null?P:""})}),f}function LS(o,l,f){var y=o.pingCache;if(y===null){y=o.pingCache=new hF;var x=new Set;y.set(l,x)}else x=y.get(l),x===void 0&&(x=new Set,y.set(l,x));x.has(f)||(x.add(f),o=CF.bind(null,o,l,f),l.then(o,o))}function VS(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function FS(o,l,f,y,x){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=so(-1,1),l.tag=2,Xo(f,l,1))),f.lanes|=1),o):(o.flags|=65536,o.lanes=x,o)}var fF=L.ReactCurrentOwner,vr=!1;function ar(o,l,f,y){l.child=o===null?iS(l,null,f,y):Hc(l,o.child,f,y)}function US(o,l,f,y,x){f=f.render;var E=l.ref;return Kc(l,x),y=tx(o,l,f,y,E,x),f=nx(),o!==null&&!vr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,io(o,l,x)):(Ut&&f&&Vv(l),l.flags|=1,ar(o,l,y,x),l.child)}function BS(o,l,f,y,x){if(o===null){var E=f.type;return typeof E=="function"&&!kx(E)&&E.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=E,zS(o,l,E,y,x)):(o=Qm(f.type,null,y,l,l.mode,x),o.ref=l.ref,o.return=l,l.child=o)}if(E=o.child,(o.lanes&x)===0){var P=E.memoizedProps;if(f=f.compare,f=f!==null?f:qd,f(P,y)&&o.ref===l.ref)return io(o,l,x)}return l.flags|=1,o=ra(E,y),o.ref=l.ref,o.return=l,l.child=o}function zS(o,l,f,y,x){if(o!==null){var E=o.memoizedProps;if(qd(E,y)&&o.ref===l.ref)if(vr=!1,l.pendingProps=y=E,(o.lanes&x)!==0)(o.flags&131072)!==0&&(vr=!0);else return l.lanes=o.lanes,io(o,l,x)}return dx(o,l,f,y,x)}function $S(o,l,f){var y=l.pendingProps,x=y.children,E=o!==null?o.memoizedState:null;if(y.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(Jc,$r),$r|=f;else{if((f&1073741824)===0)return o=E!==null?E.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,Nt(Jc,$r),$r|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:f,Nt(Jc,$r),$r|=y}else E!==null?(y=E.baseLanes|f,l.memoizedState=null):y=f,Nt(Jc,$r),$r|=y;return ar(o,l,x,f),l.child}function WS(o,l){var f=l.ref;(o===null&&f!==null||o!==null&&o.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function dx(o,l,f,y,x){var E=yr(f)?vl:qn.current;return E=zc(l,E),Kc(l,x),f=tx(o,l,f,y,E,x),y=nx(),o!==null&&!vr?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~x,io(o,l,x)):(Ut&&y&&Vv(l),l.flags|=1,ar(o,l,f,x),l.child)}function qS(o,l,f,y,x){if(yr(f)){var E=!0;wm(l)}else E=!1;if(Kc(l,x),l.stateNode===null)Fm(o,l),jS(l,f,y),lx(l,f,y,x),y=!0;else if(o===null){var P=l.stateNode,B=l.memoizedProps;P.props=B;var $=P.context,X=f.contextType;typeof X=="object"&&X!==null?X=os(X):(X=yr(f)?vl:qn.current,X=zc(l,X));var ae=f.getDerivedStateFromProps,ue=typeof ae=="function"||typeof P.getSnapshotBeforeUpdate=="function";ue||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==y||$!==X)&&DS(l,P,y,X),Qo=!1;var oe=l.memoizedState;P.state=oe,Am(l,y,P,x),$=l.memoizedState,B!==y||oe!==$||gr.current||Qo?(typeof ae=="function"&&(ax(l,f,ae,y),$=l.memoizedState),(B=Qo||kS(l,f,B,y,oe,$,X))?(ue||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(l.flags|=4194308)):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=y,l.memoizedState=$),P.props=y,P.state=$,P.context=X,y=B):(typeof P.componentDidMount=="function"&&(l.flags|=4194308),y=!1)}else{P=l.stateNode,aS(o,l),B=l.memoizedProps,X=l.type===l.elementType?B:Ns(l.type,B),P.props=X,ue=l.pendingProps,oe=P.context,$=f.contextType,typeof $=="object"&&$!==null?$=os($):($=yr(f)?vl:qn.current,$=zc(l,$));var _e=f.getDerivedStateFromProps;(ae=typeof _e=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(B!==ue||oe!==$)&&DS(l,P,y,$),Qo=!1,oe=l.memoizedState,P.state=oe,Am(l,y,P,x);var Te=l.memoizedState;B!==ue||oe!==Te||gr.current||Qo?(typeof _e=="function"&&(ax(l,f,_e,y),Te=l.memoizedState),(X=Qo||kS(l,f,X,y,oe,Te,$)||!1)?(ae||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(y,Te,$),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(y,Te,$)),typeof P.componentDidUpdate=="function"&&(l.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof P.componentDidUpdate!="function"||B===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),l.memoizedProps=y,l.memoizedState=Te),P.props=y,P.state=Te,P.context=$,y=X):(typeof P.componentDidUpdate!="function"||B===o.memoizedProps&&oe===o.memoizedState||(l.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||B===o.memoizedProps&&oe===o.memoizedState||(l.flags|=1024),y=!1)}return hx(o,l,f,y,E,x)}function hx(o,l,f,y,x,E){WS(o,l);var P=(l.flags&128)!==0;if(!y&&!P)return x&&QT(l,f,!1),io(o,l,E);y=l.stateNode,fF.current=l;var B=P&&typeof f.getDerivedStateFromError!="function"?null:y.render();return l.flags|=1,o!==null&&P?(l.child=Hc(l,o.child,null,E),l.child=Hc(l,null,B,E)):ar(o,l,B,E),l.memoizedState=y.state,x&&QT(l,f,!0),l.child}function HS(o){var l=o.stateNode;l.pendingContext?KT(o,l.pendingContext,l.pendingContext!==l.context):l.context&&KT(o,l.context,!1),Yv(o,l.containerInfo)}function GS(o,l,f,y,x){return qc(),zv(x),l.flags|=256,ar(o,l,f,y),l.child}var fx={dehydrated:null,treeContext:null,retryLane:0};function mx(o){return{baseLanes:o,cachePool:null,transitions:null}}function KS(o,l,f){var y=l.pendingProps,x=Ht.current,E=!1,P=(l.flags&128)!==0,B;if((B=P)||(B=o!==null&&o.memoizedState===null?!1:(x&2)!==0),B?(E=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(x|=1),Nt(Ht,x&1),o===null)return Bv(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(P=y.children,o=y.fallback,E?(y=l.mode,E=l.child,P={mode:"hidden",children:P},(y&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=P):E=Xm(P,y,0,null),o=Nl(o,y,f,null),E.return=l,o.return=l,E.sibling=o,l.child=E,l.child.memoizedState=mx(f),l.memoizedState=fx,o):px(l,P));if(x=o.memoizedState,x!==null&&(B=x.dehydrated,B!==null))return mF(o,l,P,y,B,x,f);if(E){E=y.fallback,P=l.mode,x=o.child,B=x.sibling;var $={mode:"hidden",children:y.children};return(P&1)===0&&l.child!==x?(y=l.child,y.childLanes=0,y.pendingProps=$,l.deletions=null):(y=ra(x,$),y.subtreeFlags=x.subtreeFlags&14680064),B!==null?E=ra(B,E):(E=Nl(E,P,f,null),E.flags|=2),E.return=l,y.return=l,y.sibling=E,l.child=y,y=E,E=l.child,P=o.child.memoizedState,P=P===null?mx(f):{baseLanes:P.baseLanes|f,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=o.childLanes&~f,l.memoizedState=fx,y}return E=o.child,o=E.sibling,y=ra(E,{mode:"visible",children:y.children}),(l.mode&1)===0&&(y.lanes=f),y.return=l,y.sibling=null,o!==null&&(f=l.deletions,f===null?(l.deletions=[o],l.flags|=16):f.push(o)),l.child=y,l.memoizedState=null,y}function px(o,l){return l=Xm({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function Vm(o,l,f,y){return y!==null&&zv(y),Hc(l,o.child,null,f),o=px(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function mF(o,l,f,y,x,E,P){if(f)return l.flags&256?(l.flags&=-257,y=cx(Error(n(422))),Vm(o,l,P,y)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(E=y.fallback,x=l.mode,y=Xm({mode:"visible",children:y.children},x,0,null),E=Nl(E,x,P,null),E.flags|=2,y.return=l,E.return=l,y.sibling=E,l.child=y,(l.mode&1)!==0&&Hc(l,o.child,null,P),l.child.memoizedState=mx(P),l.memoizedState=fx,E);if((l.mode&1)===0)return Vm(o,l,P,null);if(x.data==="$!"){if(y=x.nextSibling&&x.nextSibling.dataset,y)var B=y.dgst;return y=B,E=Error(n(419)),y=cx(E,y,void 0),Vm(o,l,P,y)}if(B=(P&o.childLanes)!==0,vr||B){if(y=Tn,y!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(y.suspendedLanes|P))!==0?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,ro(o,x),Rs(y,o,x,-1))}return Rx(),y=cx(Error(n(421))),Vm(o,l,P,y)}return x.data==="$?"?(l.flags|=128,l.child=o.child,l=IF.bind(null,o),x._reactRetry=l,null):(o=E.treeContext,zr=Ho(x.nextSibling),Br=l,Ut=!0,Is=null,o!==null&&(ss[is++]=to,ss[is++]=no,ss[is++]=xl,to=o.id,no=o.overflow,xl=l),l=px(l,y.children),l.flags|=4096,l)}function YS(o,l,f){o.lanes|=l;var y=o.alternate;y!==null&&(y.lanes|=l),Hv(o.return,l,f)}function gx(o,l,f,y,x){var E=o.memoizedState;E===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:x}:(E.isBackwards=l,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=f,E.tailMode=x)}function QS(o,l,f){var y=l.pendingProps,x=y.revealOrder,E=y.tail;if(ar(o,l,y.children,f),y=Ht.current,(y&2)!==0)y=y&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&YS(o,f,l);else if(o.tag===19)YS(o,f,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}y&=1}if(Nt(Ht,y),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)o=f.alternate,o!==null&&Rm(o)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),gx(l,!1,x,f,E);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(o=x.alternate,o!==null&&Rm(o)===null){l.child=x;break}o=x.sibling,x.sibling=f,f=x,x=o}gx(l,!0,f,null,E);break;case"together":gx(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Fm(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function io(o,l,f){if(o!==null&&(l.dependencies=o.dependencies),Tl|=l.lanes,(f&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,f=ra(o,o.pendingProps),l.child=f,f.return=l;o.sibling!==null;)o=o.sibling,f=f.sibling=ra(o,o.pendingProps),f.return=l;f.sibling=null}return l.child}function pF(o,l,f){switch(l.tag){case 3:HS(l),qc();break;case 5:uS(l);break;case 1:yr(l.type)&&wm(l);break;case 4:Yv(l,l.stateNode.containerInfo);break;case 10:var y=l.type._context,x=l.memoizedProps.value;Nt(Im,y._currentValue),y._currentValue=x;break;case 13:if(y=l.memoizedState,y!==null)return y.dehydrated!==null?(Nt(Ht,Ht.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?KS(o,l,f):(Nt(Ht,Ht.current&1),o=io(o,l,f),o!==null?o.sibling:null);Nt(Ht,Ht.current&1);break;case 19:if(y=(f&l.childLanes)!==0,(o.flags&128)!==0){if(y)return QS(o,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Nt(Ht,Ht.current),y)break;return null;case 22:case 23:return l.lanes=0,$S(o,l,f)}return io(o,l,f)}var XS,yx,JS,ZS;XS=function(o,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)o.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},yx=function(){},JS=function(o,l,f,y){var x=o.memoizedProps;if(x!==y){o=l.stateNode,El(gi.current);var E=null;switch(f){case"input":x=gn(o,x),y=gn(o,y),E=[];break;case"select":x=ie({},x,{value:void 0}),y=ie({},y,{value:void 0}),E=[];break;case"textarea":x=Oo(o,x),y=Oo(o,y),E=[];break;default:typeof x.onClick!="function"&&typeof y.onClick=="function"&&(o.onclick=vm)}En(f,y);var P;f=null;for(X in x)if(!y.hasOwnProperty(X)&&x.hasOwnProperty(X)&&x[X]!=null)if(X==="style"){var B=x[X];for(P in B)B.hasOwnProperty(P)&&(f||(f={}),f[P]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(s.hasOwnProperty(X)?E||(E=[]):(E=E||[]).push(X,null));for(X in y){var $=y[X];if(B=x!=null?x[X]:void 0,y.hasOwnProperty(X)&&$!==B&&($!=null||B!=null))if(X==="style")if(B){for(P in B)!B.hasOwnProperty(P)||$&&$.hasOwnProperty(P)||(f||(f={}),f[P]="");for(P in $)$.hasOwnProperty(P)&&B[P]!==$[P]&&(f||(f={}),f[P]=$[P])}else f||(E||(E=[]),E.push(X,f)),f=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,B=B?B.__html:void 0,$!=null&&B!==$&&(E=E||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(E=E||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(s.hasOwnProperty(X)?($!=null&&X==="onScroll"&&kt("scroll",o),E||B===$||(E=[])):(E=E||[]).push(X,$))}f&&(E=E||[]).push("style",f);var X=E;(l.updateQueue=X)&&(l.flags|=4)}},ZS=function(o,l,f,y){f!==y&&(l.flags|=4)};function oh(o,l){if(!Ut)switch(o.tailMode){case"hidden":l=o.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o.tail=null:f.sibling=null;break;case"collapsed":f=o.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function Gn(o){var l=o.alternate!==null&&o.alternate.child===o.child,f=0,y=0;if(l)for(var x=o.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags&14680064,y|=x.flags&14680064,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)f|=x.lanes|x.childLanes,y|=x.subtreeFlags,y|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=y,o.childLanes=f,l}function gF(o,l,f){var y=l.pendingProps;switch(Fv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(l),null;case 1:return yr(l.type)&&_m(),Gn(l),null;case 3:return y=l.stateNode,Yc(),jt(gr),jt(qn),Jv(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(o===null||o.child===null)&&(Sm(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Is!==null&&(Nx(Is),Is=null))),yx(o,l),Gn(l),null;case 5:Qv(l);var x=El(th.current);if(f=l.type,o!==null&&l.stateNode!=null)JS(o,l,f,y,x),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!y){if(l.stateNode===null)throw Error(n(166));return Gn(l),null}if(o=El(gi.current),Sm(l)){y=l.stateNode,f=l.type;var E=l.memoizedProps;switch(y[pi]=l,y[Qd]=E,o=(l.mode&1)!==0,f){case"dialog":kt("cancel",y),kt("close",y);break;case"iframe":case"object":case"embed":kt("load",y);break;case"video":case"audio":for(x=0;x<Gd.length;x++)kt(Gd[x],y);break;case"source":kt("error",y);break;case"img":case"image":case"link":kt("error",y),kt("load",y);break;case"details":kt("toggle",y);break;case"input":Jr(y,E),kt("invalid",y);break;case"select":y._wrapperState={wasMultiple:!!E.multiple},kt("invalid",y);break;case"textarea":Rr(y,E),kt("invalid",y)}En(f,E),x=null;for(var P in E)if(E.hasOwnProperty(P)){var B=E[P];P==="children"?typeof B=="string"?y.textContent!==B&&(E.suppressHydrationWarning!==!0&&ym(y.textContent,B,o),x=["children",B]):typeof B=="number"&&y.textContent!==""+B&&(E.suppressHydrationWarning!==!0&&ym(y.textContent,B,o),x=["children",""+B]):s.hasOwnProperty(P)&&B!=null&&P==="onScroll"&&kt("scroll",y)}switch(f){case"input":Je(y),Es(y,E,!0);break;case"textarea":Je(y),Xs(y);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(y.onclick=vm)}y=x,l.updateQueue=y,y!==null&&(l.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=wn(f)),o==="http://www.w3.org/1999/xhtml"?f==="script"?(o=P.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof y.is=="string"?o=P.createElement(f,{is:y.is}):(o=P.createElement(f),f==="select"&&(P=o,y.multiple?P.multiple=!0:y.size&&(P.size=y.size))):o=P.createElementNS(o,f),o[pi]=l,o[Qd]=y,XS(o,l,!1,!1),l.stateNode=o;e:{switch(P=Vo(f,y),f){case"dialog":kt("cancel",o),kt("close",o),x=y;break;case"iframe":case"object":case"embed":kt("load",o),x=y;break;case"video":case"audio":for(x=0;x<Gd.length;x++)kt(Gd[x],o);x=y;break;case"source":kt("error",o),x=y;break;case"img":case"image":case"link":kt("error",o),kt("load",o),x=y;break;case"details":kt("toggle",o),x=y;break;case"input":Jr(o,y),x=gn(o,y),kt("invalid",o);break;case"option":x=y;break;case"select":o._wrapperState={wasMultiple:!!y.multiple},x=ie({},y,{value:void 0}),kt("invalid",o);break;case"textarea":Rr(o,y),x=Oo(o,y),kt("invalid",o);break;default:x=y}En(f,x),B=x;for(E in B)if(B.hasOwnProperty(E)){var $=B[E];E==="style"?jr(o,$):E==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&xc(o,$)):E==="children"?typeof $=="string"?(f!=="textarea"||$!=="")&&Zr(o,$):typeof $=="number"&&Zr(o,""+$):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?$!=null&&E==="onScroll"&&kt("scroll",o):$!=null&&N(o,E,$,P))}switch(f){case"input":Je(o),Es(o,y,!1);break;case"textarea":Je(o),Xs(o);break;case"option":y.value!=null&&o.setAttribute("value",""+Se(y.value));break;case"select":o.multiple=!!y.multiple,E=y.value,E!=null?An(o,!!y.multiple,E,!1):y.defaultValue!=null&&An(o,!!y.multiple,y.defaultValue,!0);break;default:typeof x.onClick=="function"&&(o.onclick=vm)}switch(f){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}}y&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Gn(l),null;case 6:if(o&&l.stateNode!=null)ZS(o,l,o.memoizedProps,y);else{if(typeof y!="string"&&l.stateNode===null)throw Error(n(166));if(f=El(th.current),El(gi.current),Sm(l)){if(y=l.stateNode,f=l.memoizedProps,y[pi]=l,(E=y.nodeValue!==f)&&(o=Br,o!==null))switch(o.tag){case 3:ym(y.nodeValue,f,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&ym(y.nodeValue,f,(o.mode&1)!==0)}E&&(l.flags|=4)}else y=(f.nodeType===9?f:f.ownerDocument).createTextNode(y),y[pi]=l,l.stateNode=y}return Gn(l),null;case 13:if(jt(Ht),y=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ut&&zr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)nS(),qc(),l.flags|=98560,E=!1;else if(E=Sm(l),y!==null&&y.dehydrated!==null){if(o===null){if(!E)throw Error(n(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[pi]=l}else qc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gn(l),E=!1}else Is!==null&&(Nx(Is),Is=null),E=!0;if(!E)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(y=y!==null,y!==(o!==null&&o.memoizedState!==null)&&y&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(Ht.current&1)!==0?vn===0&&(vn=3):Rx())),l.updateQueue!==null&&(l.flags|=4),Gn(l),null);case 4:return Yc(),yx(o,l),o===null&&Kd(l.stateNode.containerInfo),Gn(l),null;case 10:return qv(l.type._context),Gn(l),null;case 17:return yr(l.type)&&_m(),Gn(l),null;case 19:if(jt(Ht),E=l.memoizedState,E===null)return Gn(l),null;if(y=(l.flags&128)!==0,P=E.rendering,P===null)if(y)oh(E,!1);else{if(vn!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(P=Rm(o),P!==null){for(l.flags|=128,oh(E,!1),y=P.updateQueue,y!==null&&(l.updateQueue=y,l.flags|=4),l.subtreeFlags=0,y=f,f=l.child;f!==null;)E=f,o=y,E.flags&=14680066,P=E.alternate,P===null?(E.childLanes=0,E.lanes=o,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,o=P.dependencies,E.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),f=f.sibling;return Nt(Ht,Ht.current&1|2),l.child}o=o.sibling}E.tail!==null&&Rt()>Zc&&(l.flags|=128,y=!0,oh(E,!1),l.lanes=4194304)}else{if(!y)if(o=Rm(P),o!==null){if(l.flags|=128,y=!0,f=o.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),oh(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!Ut)return Gn(l),null}else 2*Rt()-E.renderingStartTime>Zc&&f!==1073741824&&(l.flags|=128,y=!0,oh(E,!1),l.lanes=4194304);E.isBackwards?(P.sibling=l.child,l.child=P):(f=E.last,f!==null?f.sibling=P:l.child=P,E.last=P)}return E.tail!==null?(l=E.tail,E.rendering=l,E.tail=l.sibling,E.renderingStartTime=Rt(),l.sibling=null,f=Ht.current,Nt(Ht,y?f&1|2:f&1),l):(Gn(l),null);case 22:case 23:return Ax(),y=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==y&&(l.flags|=8192),y&&(l.mode&1)!==0?($r&1073741824)!==0&&(Gn(l),l.subtreeFlags&6&&(l.flags|=8192)):Gn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function yF(o,l){switch(Fv(l),l.tag){case 1:return yr(l.type)&&_m(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Yc(),jt(gr),jt(qn),Jv(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Qv(l),null;case 13:if(jt(Ht),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));qc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return jt(Ht),null;case 4:return Yc(),null;case 10:return qv(l.type._context),null;case 22:case 23:return Ax(),null;case 24:return null;default:return null}}var Um=!1,Kn=!1,vF=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Xc(o,l){var f=o.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){Jt(o,l,y)}else f.current=null}function vx(o,l,f){try{f()}catch(y){Jt(o,l,y)}}var e1=!1;function xF(o,l){if(Av=Qi,o=kT(),Ev(o)){if("selectionStart"in o)var f={start:o.selectionStart,end:o.selectionEnd};else e:{f=(f=o.ownerDocument)&&f.defaultView||window;var y=f.getSelection&&f.getSelection();if(y&&y.rangeCount!==0){f=y.anchorNode;var x=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break e}var P=0,B=-1,$=-1,X=0,ae=0,ue=o,oe=null;t:for(;;){for(var _e;ue!==f||x!==0&&ue.nodeType!==3||(B=P+x),ue!==E||y!==0&&ue.nodeType!==3||($=P+y),ue.nodeType===3&&(P+=ue.nodeValue.length),(_e=ue.firstChild)!==null;)oe=ue,ue=_e;for(;;){if(ue===o)break t;if(oe===f&&++X===x&&(B=P),oe===E&&++ae===y&&($=P),(_e=ue.nextSibling)!==null)break;ue=oe,oe=ue.parentNode}ue=_e}f=B===-1||$===-1?null:{start:B,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(Rv={focusedElem:o,selectionRange:f},Qi=!1,Ee=l;Ee!==null;)if(l=Ee,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ee=o;else for(;Ee!==null;){l=Ee;try{var Te=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Ce=Te.memoizedProps,rn=Te.memoizedState,G=l.stateNode,q=G.getSnapshotBeforeUpdate(l.elementType===l.type?Ce:Ns(l.type,Ce),rn);G.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(de){Jt(l,l.return,de)}if(o=l.sibling,o!==null){o.return=l.return,Ee=o;break}Ee=l.return}return Te=e1,e1=!1,Te}function ah(o,l,f){var y=l.updateQueue;if(y=y!==null?y.lastEffect:null,y!==null){var x=y=y.next;do{if((x.tag&o)===o){var E=x.destroy;x.destroy=void 0,E!==void 0&&vx(l,f,E)}x=x.next}while(x!==y)}}function Bm(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&o)===o){var y=f.create;f.destroy=y()}f=f.next}while(f!==l)}}function xx(o){var l=o.ref;if(l!==null){var f=o.stateNode;switch(o.tag){case 5:o=f;break;default:o=f}typeof l=="function"?l(o):l.current=o}}function t1(o){var l=o.alternate;l!==null&&(o.alternate=null,t1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[pi],delete l[Qd],delete l[Mv],delete l[tF],delete l[nF])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function n1(o){return o.tag===5||o.tag===3||o.tag===4}function r1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||n1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function _x(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(o,l):f.insertBefore(o,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(o,f)):(l=f,l.appendChild(o)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=vm));else if(y!==4&&(o=o.child,o!==null))for(_x(o,l,f),o=o.sibling;o!==null;)_x(o,l,f),o=o.sibling}function wx(o,l,f){var y=o.tag;if(y===5||y===6)o=o.stateNode,l?f.insertBefore(o,l):f.appendChild(o);else if(y!==4&&(o=o.child,o!==null))for(wx(o,l,f),o=o.sibling;o!==null;)wx(o,l,f),o=o.sibling}var jn=null,Ps=!1;function Jo(o,l,f){for(f=f.child;f!==null;)s1(o,l,f),f=f.sibling}function s1(o,l,f){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(ll,f)}catch{}switch(f.tag){case 5:Kn||Xc(f,l);case 6:var y=jn,x=Ps;jn=null,Jo(o,l,f),jn=y,Ps=x,jn!==null&&(Ps?(o=jn,f=f.stateNode,o.nodeType===8?o.parentNode.removeChild(f):o.removeChild(f)):jn.removeChild(f.stateNode));break;case 18:jn!==null&&(Ps?(o=jn,f=f.stateNode,o.nodeType===8?Dv(o.parentNode,f):o.nodeType===1&&Dv(o,f),zo(o)):Dv(jn,f.stateNode));break;case 4:y=jn,x=Ps,jn=f.stateNode.containerInfo,Ps=!0,Jo(o,l,f),jn=y,Ps=x;break;case 0:case 11:case 14:case 15:if(!Kn&&(y=f.updateQueue,y!==null&&(y=y.lastEffect,y!==null))){x=y=y.next;do{var E=x,P=E.destroy;E=E.tag,P!==void 0&&((E&2)!==0||(E&4)!==0)&&vx(f,l,P),x=x.next}while(x!==y)}Jo(o,l,f);break;case 1:if(!Kn&&(Xc(f,l),y=f.stateNode,typeof y.componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(B){Jt(f,l,B)}Jo(o,l,f);break;case 21:Jo(o,l,f);break;case 22:f.mode&1?(Kn=(y=Kn)||f.memoizedState!==null,Jo(o,l,f),Kn=y):Jo(o,l,f);break;default:Jo(o,l,f)}}function i1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var f=o.stateNode;f===null&&(f=o.stateNode=new vF),l.forEach(function(y){var x=NF.bind(null,o,y);f.has(y)||(f.add(y),y.then(x,x))})}}function As(o,l){var f=l.deletions;if(f!==null)for(var y=0;y<f.length;y++){var x=f[y];try{var E=o,P=l,B=P;e:for(;B!==null;){switch(B.tag){case 5:jn=B.stateNode,Ps=!1;break e;case 3:jn=B.stateNode.containerInfo,Ps=!0;break e;case 4:jn=B.stateNode.containerInfo,Ps=!0;break e}B=B.return}if(jn===null)throw Error(n(160));s1(E,P,x),jn=null,Ps=!1;var $=x.alternate;$!==null&&($.return=null),x.return=null}catch(X){Jt(x,l,X)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)o1(l,o),l=l.sibling}function o1(o,l){var f=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(As(l,o),vi(o),y&4){try{ah(3,o,o.return),Bm(3,o)}catch(Ce){Jt(o,o.return,Ce)}try{ah(5,o,o.return)}catch(Ce){Jt(o,o.return,Ce)}}break;case 1:As(l,o),vi(o),y&512&&f!==null&&Xc(f,f.return);break;case 5:if(As(l,o),vi(o),y&512&&f!==null&&Xc(f,f.return),o.flags&32){var x=o.stateNode;try{Zr(x,"")}catch(Ce){Jt(o,o.return,Ce)}}if(y&4&&(x=o.stateNode,x!=null)){var E=o.memoizedProps,P=f!==null?f.memoizedProps:E,B=o.type,$=o.updateQueue;if(o.updateQueue=null,$!==null)try{B==="input"&&E.type==="radio"&&E.name!=null&&ir(x,E),Vo(B,P);var X=Vo(B,E);for(P=0;P<$.length;P+=2){var ae=$[P],ue=$[P+1];ae==="style"?jr(x,ue):ae==="dangerouslySetInnerHTML"?xc(x,ue):ae==="children"?Zr(x,ue):N(x,ae,ue,X)}switch(B){case"input":or(x,E);break;case"textarea":vc(x,E);break;case"select":var oe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var _e=E.value;_e!=null?An(x,!!E.multiple,_e,!1):oe!==!!E.multiple&&(E.defaultValue!=null?An(x,!!E.multiple,E.defaultValue,!0):An(x,!!E.multiple,E.multiple?[]:"",!1))}x[Qd]=E}catch(Ce){Jt(o,o.return,Ce)}}break;case 6:if(As(l,o),vi(o),y&4){if(o.stateNode===null)throw Error(n(162));x=o.stateNode,E=o.memoizedProps;try{x.nodeValue=E}catch(Ce){Jt(o,o.return,Ce)}}break;case 3:if(As(l,o),vi(o),y&4&&f!==null&&f.memoizedState.isDehydrated)try{zo(l.containerInfo)}catch(Ce){Jt(o,o.return,Ce)}break;case 4:As(l,o),vi(o);break;case 13:As(l,o),vi(o),x=o.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Tx=Rt())),y&4&&i1(o);break;case 22:if(ae=f!==null&&f.memoizedState!==null,o.mode&1?(Kn=(X=Kn)||ae,As(l,o),Kn=X):As(l,o),vi(o),y&8192){if(X=o.memoizedState!==null,(o.stateNode.isHidden=X)&&!ae&&(o.mode&1)!==0)for(Ee=o,ae=o.child;ae!==null;){for(ue=Ee=ae;Ee!==null;){switch(oe=Ee,_e=oe.child,oe.tag){case 0:case 11:case 14:case 15:ah(4,oe,oe.return);break;case 1:Xc(oe,oe.return);var Te=oe.stateNode;if(typeof Te.componentWillUnmount=="function"){y=oe,f=oe.return;try{l=y,Te.props=l.memoizedProps,Te.state=l.memoizedState,Te.componentWillUnmount()}catch(Ce){Jt(y,f,Ce)}}break;case 5:Xc(oe,oe.return);break;case 22:if(oe.memoizedState!==null){c1(ue);continue}}_e!==null?(_e.return=oe,Ee=_e):c1(ue)}ae=ae.sibling}e:for(ae=null,ue=o;;){if(ue.tag===5){if(ae===null){ae=ue;try{x=ue.stateNode,X?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(B=ue.stateNode,$=ue.memoizedProps.style,P=$!=null&&$.hasOwnProperty("display")?$.display:null,B.style.display=es("display",P))}catch(Ce){Jt(o,o.return,Ce)}}}else if(ue.tag===6){if(ae===null)try{ue.stateNode.nodeValue=X?"":ue.memoizedProps}catch(Ce){Jt(o,o.return,Ce)}}else if((ue.tag!==22&&ue.tag!==23||ue.memoizedState===null||ue===o)&&ue.child!==null){ue.child.return=ue,ue=ue.child;continue}if(ue===o)break e;for(;ue.sibling===null;){if(ue.return===null||ue.return===o)break e;ae===ue&&(ae=null),ue=ue.return}ae===ue&&(ae=null),ue.sibling.return=ue.return,ue=ue.sibling}}break;case 19:As(l,o),vi(o),y&4&&i1(o);break;case 21:break;default:As(l,o),vi(o)}}function vi(o){var l=o.flags;if(l&2){try{e:{for(var f=o.return;f!==null;){if(n1(f)){var y=f;break e}f=f.return}throw Error(n(160))}switch(y.tag){case 5:var x=y.stateNode;y.flags&32&&(Zr(x,""),y.flags&=-33);var E=r1(o);wx(o,E,x);break;case 3:case 4:var P=y.stateNode.containerInfo,B=r1(o);_x(o,B,P);break;default:throw Error(n(161))}}catch($){Jt(o,o.return,$)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function _F(o,l,f){Ee=o,a1(o)}function a1(o,l,f){for(var y=(o.mode&1)!==0;Ee!==null;){var x=Ee,E=x.child;if(x.tag===22&&y){var P=x.memoizedState!==null||Um;if(!P){var B=x.alternate,$=B!==null&&B.memoizedState!==null||Kn;B=Um;var X=Kn;if(Um=P,(Kn=$)&&!X)for(Ee=x;Ee!==null;)P=Ee,$=P.child,P.tag===22&&P.memoizedState!==null?u1(x):$!==null?($.return=P,Ee=$):u1(x);for(;E!==null;)Ee=E,a1(E),E=E.sibling;Ee=x,Um=B,Kn=X}l1(o)}else(x.subtreeFlags&8772)!==0&&E!==null?(E.return=x,Ee=E):l1(o)}}function l1(o){for(;Ee!==null;){var l=Ee;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Kn||Bm(5,l);break;case 1:var y=l.stateNode;if(l.flags&4&&!Kn)if(f===null)y.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:Ns(l.type,f.memoizedProps);y.componentDidUpdate(x,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=l.updateQueue;E!==null&&cS(l,E,y);break;case 3:var P=l.updateQueue;if(P!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}cS(l,P,f)}break;case 5:var B=l.stateNode;if(f===null&&l.flags&4){f=B;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&f.focus();break;case"img":$.src&&(f.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var X=l.alternate;if(X!==null){var ae=X.memoizedState;if(ae!==null){var ue=ae.dehydrated;ue!==null&&zo(ue)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kn||l.flags&512&&xx(l)}catch(oe){Jt(l,l.return,oe)}}if(l===o){Ee=null;break}if(f=l.sibling,f!==null){f.return=l.return,Ee=f;break}Ee=l.return}}function c1(o){for(;Ee!==null;){var l=Ee;if(l===o){Ee=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Ee=f;break}Ee=l.return}}function u1(o){for(;Ee!==null;){var l=Ee;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Bm(4,l)}catch($){Jt(l,f,$)}break;case 1:var y=l.stateNode;if(typeof y.componentDidMount=="function"){var x=l.return;try{y.componentDidMount()}catch($){Jt(l,x,$)}}var E=l.return;try{xx(l)}catch($){Jt(l,E,$)}break;case 5:var P=l.return;try{xx(l)}catch($){Jt(l,P,$)}}}catch($){Jt(l,l.return,$)}if(l===o){Ee=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Ee=B;break}Ee=l.return}}var wF=Math.ceil,zm=L.ReactCurrentDispatcher,Ex=L.ReactCurrentOwner,ls=L.ReactCurrentBatchConfig,ft=0,Tn=null,un=null,Dn=0,$r=0,Jc=Go(0),vn=0,lh=null,Tl=0,$m=0,bx=0,ch=null,xr=null,Tx=0,Zc=1/0,oo=null,Wm=!1,Sx=null,Zo=null,qm=!1,ea=null,Hm=0,uh=0,Cx=null,Gm=-1,Km=0;function lr(){return(ft&6)!==0?Rt():Gm!==-1?Gm:Gm=Rt()}function ta(o){return(o.mode&1)===0?1:(ft&2)!==0&&Dn!==0?Dn&-Dn:sF.transition!==null?(Km===0&&(Km=Rd()),Km):(o=ot,o!==0||(o=window.event,o=o===void 0?16:Nc(o.type)),o)}function Rs(o,l,f,y){if(50<uh)throw uh=0,Cx=null,Error(n(185));hl(o,f,y),((ft&2)===0||o!==Tn)&&(o===Tn&&((ft&2)===0&&($m|=f),vn===4&&na(o,Dn)),_r(o,y),f===1&&ft===0&&(l.mode&1)===0&&(Zc=Rt()+500,Em&&Yo()))}function _r(o,l){var f=o.callbackNode;dl(o,l);var y=Gi(o,o===Tn?Dn:0);if(y===0)f!==null&&wc(f),o.callbackNode=null,o.callbackPriority=0;else if(l=y&-y,o.callbackPriority!==l){if(f!=null&&wc(f),l===1)o.tag===0?rF(h1.bind(null,o)):XT(h1.bind(null,o)),Z4(function(){(ft&6)===0&&Yo()}),f=null;else{switch(ii(y)){case 1:f=Ec;break;case 4:f=Nd;break;case 16:f=al;break;case 536870912:f=bc;break;default:f=al}f=_1(f,d1.bind(null,o))}o.callbackPriority=l,o.callbackNode=f}}function d1(o,l){if(Gm=-1,Km=0,(ft&6)!==0)throw Error(n(327));var f=o.callbackNode;if(eu()&&o.callbackNode!==f)return null;var y=Gi(o,o===Tn?Dn:0);if(y===0)return null;if((y&30)!==0||(y&o.expiredLanes)!==0||l)l=Ym(o,y);else{l=y;var x=ft;ft|=2;var E=m1();(Tn!==o||Dn!==l)&&(oo=null,Zc=Rt()+500,Cl(o,l));do try{TF();break}catch(B){f1(o,B)}while(!0);Wv(),zm.current=E,ft=x,un!==null?l=0:(Tn=null,Dn=0,l=vn)}if(l!==0){if(l===2&&(x=Ad(o),x!==0&&(y=x,l=Ix(o,x))),l===1)throw f=lh,Cl(o,0),na(o,y),_r(o,Rt()),f;if(l===6)na(o,y);else{if(x=o.current.alternate,(y&30)===0&&!EF(x)&&(l=Ym(o,y),l===2&&(E=Ad(o),E!==0&&(y=E,l=Ix(o,E))),l===1))throw f=lh,Cl(o,0),na(o,y),_r(o,Rt()),f;switch(o.finishedWork=x,o.finishedLanes=y,l){case 0:case 1:throw Error(n(345));case 2:Il(o,xr,oo);break;case 3:if(na(o,y),(y&130023424)===y&&(l=Tx+500-Rt(),10<l)){if(Gi(o,0)!==0)break;if(x=o.suspendedLanes,(x&y)!==y){lr(),o.pingedLanes|=o.suspendedLanes&x;break}o.timeoutHandle=jv(Il.bind(null,o,xr,oo),l);break}Il(o,xr,oo);break;case 4:if(na(o,y),(y&4194240)===y)break;for(l=o.eventTimes,x=-1;0<y;){var P=31-Or(y);E=1<<P,P=l[P],P>x&&(x=P),y&=~E}if(y=x,y=Rt()-y,y=(120>y?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*wF(y/1960))-y,10<y){o.timeoutHandle=jv(Il.bind(null,o,xr,oo),y);break}Il(o,xr,oo);break;case 5:Il(o,xr,oo);break;default:throw Error(n(329))}}}return _r(o,Rt()),o.callbackNode===f?d1.bind(null,o):null}function Ix(o,l){var f=ch;return o.current.memoizedState.isDehydrated&&(Cl(o,l).flags|=256),o=Ym(o,l),o!==2&&(l=xr,xr=f,l!==null&&Nx(l)),o}function Nx(o){xr===null?xr=o:xr.push.apply(xr,o)}function EF(o){for(var l=o;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var y=0;y<f.length;y++){var x=f[y],E=x.getSnapshot;x=x.value;try{if(!Cs(E(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function na(o,l){for(l&=~bx,l&=~$m,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var f=31-Or(l),y=1<<f;o[f]=-1,l&=~y}}function h1(o){if((ft&6)!==0)throw Error(n(327));eu();var l=Gi(o,0);if((l&1)===0)return _r(o,Rt()),null;var f=Ym(o,l);if(o.tag!==0&&f===2){var y=Ad(o);y!==0&&(l=y,f=Ix(o,y))}if(f===1)throw f=lh,Cl(o,0),na(o,l),_r(o,Rt()),f;if(f===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Il(o,xr,oo),_r(o,Rt()),null}function Px(o,l){var f=ft;ft|=1;try{return o(l)}finally{ft=f,ft===0&&(Zc=Rt()+500,Em&&Yo())}}function Sl(o){ea!==null&&ea.tag===0&&(ft&6)===0&&eu();var l=ft;ft|=1;var f=ls.transition,y=ot;try{if(ls.transition=null,ot=1,o)return o()}finally{ot=y,ls.transition=f,ft=l,(ft&6)===0&&Yo()}}function Ax(){$r=Jc.current,jt(Jc)}function Cl(o,l){o.finishedWork=null,o.finishedLanes=0;var f=o.timeoutHandle;if(f!==-1&&(o.timeoutHandle=-1,J4(f)),un!==null)for(f=un.return;f!==null;){var y=f;switch(Fv(y),y.tag){case 1:y=y.type.childContextTypes,y!=null&&_m();break;case 3:Yc(),jt(gr),jt(qn),Jv();break;case 5:Qv(y);break;case 4:Yc();break;case 13:jt(Ht);break;case 19:jt(Ht);break;case 10:qv(y.type._context);break;case 22:case 23:Ax()}f=f.return}if(Tn=o,un=o=ra(o.current,null),Dn=$r=l,vn=0,lh=null,bx=$m=Tl=0,xr=ch=null,wl!==null){for(l=0;l<wl.length;l++)if(f=wl[l],y=f.interleaved,y!==null){f.interleaved=null;var x=y.next,E=f.pending;if(E!==null){var P=E.next;E.next=x,y.next=P}f.pending=y}wl=null}return o}function f1(o,l){do{var f=un;try{if(Wv(),km.current=Om,jm){for(var y=Gt.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}jm=!1}if(bl=0,bn=yn=Gt=null,nh=!1,rh=0,Ex.current=null,f===null||f.return===null){vn=1,lh=l,un=null;break}e:{var E=o,P=f.return,B=f,$=l;if(l=Dn,B.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ae=B,ue=ae.tag;if((ae.mode&1)===0&&(ue===0||ue===11||ue===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var _e=VS(P);if(_e!==null){_e.flags&=-257,FS(_e,P,B,E,l),_e.mode&1&&LS(E,X,l),l=_e,$=X;var Te=l.updateQueue;if(Te===null){var Ce=new Set;Ce.add($),l.updateQueue=Ce}else Te.add($);break e}else{if((l&1)===0){LS(E,X,l),Rx();break e}$=Error(n(426))}}else if(Ut&&B.mode&1){var rn=VS(P);if(rn!==null){(rn.flags&65536)===0&&(rn.flags|=256),FS(rn,P,B,E,l),zv(Qc($,B));break e}}E=$=Qc($,B),vn!==4&&(vn=2),ch===null?ch=[E]:ch.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,l&=-l,E.lanes|=l;var G=MS(E,$,l);lS(E,G);break e;case 1:B=$;var q=E.type,Q=E.stateNode;if((E.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Zo===null||!Zo.has(Q)))){E.flags|=65536,l&=-l,E.lanes|=l;var de=OS(E,B,l);lS(E,de);break e}}E=E.return}while(E!==null)}g1(f)}catch(Ne){l=Ne,un===f&&f!==null&&(un=f=f.return);continue}break}while(!0)}function m1(){var o=zm.current;return zm.current=Om,o===null?Om:o}function Rx(){(vn===0||vn===3||vn===2)&&(vn=4),Tn===null||(Tl&268435455)===0&&($m&268435455)===0||na(Tn,Dn)}function Ym(o,l){var f=ft;ft|=2;var y=m1();(Tn!==o||Dn!==l)&&(oo=null,Cl(o,l));do try{bF();break}catch(x){f1(o,x)}while(!0);if(Wv(),ft=f,zm.current=y,un!==null)throw Error(n(261));return Tn=null,Dn=0,vn}function bF(){for(;un!==null;)p1(un)}function TF(){for(;un!==null&&!ol();)p1(un)}function p1(o){var l=x1(o.alternate,o,$r);o.memoizedProps=o.pendingProps,l===null?g1(o):un=l,Ex.current=null}function g1(o){var l=o;do{var f=l.alternate;if(o=l.return,(l.flags&32768)===0){if(f=gF(f,l,$r),f!==null){un=f;return}}else{if(f=yF(f,l),f!==null){f.flags&=32767,un=f;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{vn=6,un=null;return}}if(l=l.sibling,l!==null){un=l;return}un=l=o}while(l!==null);vn===0&&(vn=5)}function Il(o,l,f){var y=ot,x=ls.transition;try{ls.transition=null,ot=1,SF(o,l,f,y)}finally{ls.transition=x,ot=y}return null}function SF(o,l,f,y){do eu();while(ea!==null);if((ft&6)!==0)throw Error(n(327));f=o.finishedWork;var x=o.finishedLanes;if(f===null)return null;if(o.finishedWork=null,o.finishedLanes=0,f===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var E=f.lanes|f.childLanes;if(yv(o,E),o===Tn&&(un=Tn=null,Dn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||qm||(qm=!0,_1(al,function(){return eu(),null})),E=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||E){E=ls.transition,ls.transition=null;var P=ot;ot=1;var B=ft;ft|=4,Ex.current=null,xF(o,f),o1(f,o),q4(Rv),Qi=!!Av,Rv=Av=null,o.current=f,_F(f),Hi(),ft=B,ot=P,ls.transition=E}else o.current=f;if(qm&&(qm=!1,ea=o,Hm=x),E=o.pendingLanes,E===0&&(Zo=null),nm(f.stateNode),_r(o,Rt()),l!==null)for(y=o.onRecoverableError,f=0;f<l.length;f++)x=l[f],y(x.value,{componentStack:x.stack,digest:x.digest});if(Wm)throw Wm=!1,o=Sx,Sx=null,o;return(Hm&1)!==0&&o.tag!==0&&eu(),E=o.pendingLanes,(E&1)!==0?o===Cx?uh++:(uh=0,Cx=o):uh=0,Yo(),null}function eu(){if(ea!==null){var o=ii(Hm),l=ls.transition,f=ot;try{if(ls.transition=null,ot=16>o?16:o,ea===null)var y=!1;else{if(o=ea,ea=null,Hm=0,(ft&6)!==0)throw Error(n(331));var x=ft;for(ft|=4,Ee=o.current;Ee!==null;){var E=Ee,P=E.child;if((Ee.flags&16)!==0){var B=E.deletions;if(B!==null){for(var $=0;$<B.length;$++){var X=B[$];for(Ee=X;Ee!==null;){var ae=Ee;switch(ae.tag){case 0:case 11:case 15:ah(8,ae,E)}var ue=ae.child;if(ue!==null)ue.return=ae,Ee=ue;else for(;Ee!==null;){ae=Ee;var oe=ae.sibling,_e=ae.return;if(t1(ae),ae===X){Ee=null;break}if(oe!==null){oe.return=_e,Ee=oe;break}Ee=_e}}}var Te=E.alternate;if(Te!==null){var Ce=Te.child;if(Ce!==null){Te.child=null;do{var rn=Ce.sibling;Ce.sibling=null,Ce=rn}while(Ce!==null)}}Ee=E}}if((E.subtreeFlags&2064)!==0&&P!==null)P.return=E,Ee=P;else e:for(;Ee!==null;){if(E=Ee,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:ah(9,E,E.return)}var G=E.sibling;if(G!==null){G.return=E.return,Ee=G;break e}Ee=E.return}}var q=o.current;for(Ee=q;Ee!==null;){P=Ee;var Q=P.child;if((P.subtreeFlags&2064)!==0&&Q!==null)Q.return=P,Ee=Q;else e:for(P=q;Ee!==null;){if(B=Ee,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:Bm(9,B)}}catch(Ne){Jt(B,B.return,Ne)}if(B===P){Ee=null;break e}var de=B.sibling;if(de!==null){de.return=B.return,Ee=de;break e}Ee=B.return}}if(ft=x,Yo(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(ll,o)}catch{}y=!0}return y}finally{ot=f,ls.transition=l}}return!1}function y1(o,l,f){l=Qc(f,l),l=MS(o,l,1),o=Xo(o,l,1),l=lr(),o!==null&&(hl(o,1,l),_r(o,l))}function Jt(o,l,f){if(o.tag===3)y1(o,o,f);else for(;l!==null;){if(l.tag===3){y1(l,o,f);break}else if(l.tag===1){var y=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Zo===null||!Zo.has(y))){o=Qc(f,o),o=OS(l,o,1),l=Xo(l,o,1),o=lr(),l!==null&&(hl(l,1,o),_r(l,o));break}}l=l.return}}function CF(o,l,f){var y=o.pingCache;y!==null&&y.delete(l),l=lr(),o.pingedLanes|=o.suspendedLanes&f,Tn===o&&(Dn&f)===f&&(vn===4||vn===3&&(Dn&130023424)===Dn&&500>Rt()-Tx?Cl(o,0):bx|=f),_r(o,l)}function v1(o,l){l===0&&((o.mode&1)===0?l=1:(l=Fo,Fo<<=1,(Fo&130023424)===0&&(Fo=4194304)));var f=lr();o=ro(o,l),o!==null&&(hl(o,l,f),_r(o,f))}function IF(o){var l=o.memoizedState,f=0;l!==null&&(f=l.retryLane),v1(o,f)}function NF(o,l){var f=0;switch(o.tag){case 13:var y=o.stateNode,x=o.memoizedState;x!==null&&(f=x.retryLane);break;case 19:y=o.stateNode;break;default:throw Error(n(314))}y!==null&&y.delete(l),v1(o,f)}var x1;x1=function(o,l,f){if(o!==null)if(o.memoizedProps!==l.pendingProps||gr.current)vr=!0;else{if((o.lanes&f)===0&&(l.flags&128)===0)return vr=!1,pF(o,l,f);vr=(o.flags&131072)!==0}else vr=!1,Ut&&(l.flags&1048576)!==0&&JT(l,Tm,l.index);switch(l.lanes=0,l.tag){case 2:var y=l.type;Fm(o,l),o=l.pendingProps;var x=zc(l,qn.current);Kc(l,f),x=tx(null,l,y,o,x,f);var E=nx();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,yr(y)?(E=!0,wm(l)):E=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Kv(l),x.updater=Lm,l.stateNode=x,x._reactInternals=l,lx(l,y,o,f),l=hx(null,l,y,!0,E,f)):(l.tag=0,Ut&&E&&Vv(l),ar(null,l,x,f),l=l.child),l;case 16:y=l.elementType;e:{switch(Fm(o,l),o=l.pendingProps,x=y._init,y=x(y._payload),l.type=y,x=l.tag=AF(y),o=Ns(y,o),x){case 0:l=dx(null,l,y,o,f);break e;case 1:l=qS(null,l,y,o,f);break e;case 11:l=US(null,l,y,o,f);break e;case 14:l=BS(null,l,y,Ns(y.type,o),f);break e}throw Error(n(306,y,""))}return l;case 0:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:Ns(y,x),dx(o,l,y,x,f);case 1:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:Ns(y,x),qS(o,l,y,x,f);case 3:e:{if(HS(l),o===null)throw Error(n(387));y=l.pendingProps,E=l.memoizedState,x=E.element,aS(o,l),Am(l,y,null,f);var P=l.memoizedState;if(y=P.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){x=Qc(Error(n(423)),l),l=GS(o,l,y,f,x);break e}else if(y!==x){x=Qc(Error(n(424)),l),l=GS(o,l,y,f,x);break e}else for(zr=Ho(l.stateNode.containerInfo.firstChild),Br=l,Ut=!0,Is=null,f=iS(l,null,y,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(qc(),y===x){l=io(o,l,f);break e}ar(o,l,y,f)}l=l.child}return l;case 5:return uS(l),o===null&&Bv(l),y=l.type,x=l.pendingProps,E=o!==null?o.memoizedProps:null,P=x.children,kv(y,x)?P=null:E!==null&&kv(y,E)&&(l.flags|=32),WS(o,l),ar(o,l,P,f),l.child;case 6:return o===null&&Bv(l),null;case 13:return KS(o,l,f);case 4:return Yv(l,l.stateNode.containerInfo),y=l.pendingProps,o===null?l.child=Hc(l,null,y,f):ar(o,l,y,f),l.child;case 11:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:Ns(y,x),US(o,l,y,x,f);case 7:return ar(o,l,l.pendingProps,f),l.child;case 8:return ar(o,l,l.pendingProps.children,f),l.child;case 12:return ar(o,l,l.pendingProps.children,f),l.child;case 10:e:{if(y=l.type._context,x=l.pendingProps,E=l.memoizedProps,P=x.value,Nt(Im,y._currentValue),y._currentValue=P,E!==null)if(Cs(E.value,P)){if(E.children===x.children&&!gr.current){l=io(o,l,f);break e}}else for(E=l.child,E!==null&&(E.return=l);E!==null;){var B=E.dependencies;if(B!==null){P=E.child;for(var $=B.firstContext;$!==null;){if($.context===y){if(E.tag===1){$=so(-1,f&-f),$.tag=2;var X=E.updateQueue;if(X!==null){X=X.shared;var ae=X.pending;ae===null?$.next=$:($.next=ae.next,ae.next=$),X.pending=$}}E.lanes|=f,$=E.alternate,$!==null&&($.lanes|=f),Hv(E.return,f,l),B.lanes|=f;break}$=$.next}}else if(E.tag===10)P=E.type===l.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(n(341));P.lanes|=f,B=P.alternate,B!==null&&(B.lanes|=f),Hv(P,f,l),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===l){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}ar(o,l,x.children,f),l=l.child}return l;case 9:return x=l.type,y=l.pendingProps.children,Kc(l,f),x=os(x),y=y(x),l.flags|=1,ar(o,l,y,f),l.child;case 14:return y=l.type,x=Ns(y,l.pendingProps),x=Ns(y.type,x),BS(o,l,y,x,f);case 15:return zS(o,l,l.type,l.pendingProps,f);case 17:return y=l.type,x=l.pendingProps,x=l.elementType===y?x:Ns(y,x),Fm(o,l),l.tag=1,yr(y)?(o=!0,wm(l)):o=!1,Kc(l,f),jS(l,y,x),lx(l,y,x,f),hx(null,l,y,!0,o,f);case 19:return QS(o,l,f);case 22:return $S(o,l,f)}throw Error(n(156,l.tag))};function _1(o,l){return Id(o,l)}function PF(o,l,f,y){this.tag=o,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(o,l,f,y){return new PF(o,l,f,y)}function kx(o){return o=o.prototype,!(!o||!o.isReactComponent)}function AF(o){if(typeof o=="function")return kx(o)?1:0;if(o!=null){if(o=o.$$typeof,o===U)return 11;if(o===xe)return 14}return 2}function ra(o,l){var f=o.alternate;return f===null?(f=cs(o.tag,l,o.key,o.mode),f.elementType=o.elementType,f.type=o.type,f.stateNode=o.stateNode,f.alternate=o,o.alternate=f):(f.pendingProps=l,f.type=o.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=o.flags&14680064,f.childLanes=o.childLanes,f.lanes=o.lanes,f.child=o.child,f.memoizedProps=o.memoizedProps,f.memoizedState=o.memoizedState,f.updateQueue=o.updateQueue,l=o.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=o.sibling,f.index=o.index,f.ref=o.ref,f}function Qm(o,l,f,y,x,E){var P=2;if(y=o,typeof o=="function")kx(o)&&(P=1);else if(typeof o=="string")P=5;else e:switch(o){case j:return Nl(f.children,x,E,l);case R:P=8,x|=8;break;case M:return o=cs(12,f,l,x|2),o.elementType=M,o.lanes=E,o;case O:return o=cs(13,f,l,x),o.elementType=O,o.lanes=E,o;case re:return o=cs(19,f,l,x),o.elementType=re,o.lanes=E,o;case le:return Xm(f,x,E,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case F:P=10;break e;case V:P=9;break e;case U:P=11;break e;case xe:P=14;break e;case he:P=16,y=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=cs(P,f,l,x),l.elementType=o,l.type=y,l.lanes=E,l}function Nl(o,l,f,y){return o=cs(7,o,y,l),o.lanes=f,o}function Xm(o,l,f,y){return o=cs(22,o,y,l),o.elementType=le,o.lanes=f,o.stateNode={isHidden:!1},o}function jx(o,l,f){return o=cs(6,o,null,l),o.lanes=f,o}function Dx(o,l,f){return l=cs(4,o.children!==null?o.children:[],o.key,l),l.lanes=f,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function RF(o,l,f,y,x){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=y,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Mx(o,l,f,y,x,E,P,B,$){return o=new RF(o,l,f,B,$),l===1?(l=1,E===!0&&(l|=8)):l=0,E=cs(3,null,null,l),o.current=E,E.stateNode=o,E.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kv(E),o}function kF(o,l,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:y==null?null:""+y,children:o,containerInfo:l,implementation:f}}function w1(o){if(!o)return Ko;o=o._reactInternals;e:{if(Ts(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(yr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var f=o.type;if(yr(f))return YT(o,f,l)}return l}function E1(o,l,f,y,x,E,P,B,$){return o=Mx(f,y,!0,o,x,E,P,B,$),o.context=w1(null),f=o.current,y=lr(),x=ta(f),E=so(y,x),E.callback=l??null,Xo(f,E,x),o.current.lanes=x,hl(o,x,y),_r(o,y),o}function Jm(o,l,f,y){var x=l.current,E=lr(),P=ta(x);return f=w1(f),l.context===null?l.context=f:l.pendingContext=f,l=so(E,P),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=Xo(x,l,P),o!==null&&(Rs(o,x,P,E),Pm(o,x,P)),P}function Zm(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function b1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var f=o.retryLane;o.retryLane=f!==0&&f<l?f:l}}function Ox(o,l){b1(o,l),(o=o.alternate)&&b1(o,l)}function jF(){return null}var T1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Lx(o){this._internalRoot=o}ep.prototype.render=Lx.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Jm(o,l,null,null)},ep.prototype.unmount=Lx.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Sl(function(){Jm(null,o,null,null)}),l[Zi]=null}};function ep(o){this._internalRoot=o}ep.prototype.unstable_scheduleHydration=function(o){if(o){var l=Od();o={blockedOn:null,target:o,priority:l};for(var f=0;f<Lr.length&&l!==0&&l<Lr[f].priority;f++);Lr.splice(f,0,o),f===0&&Cc(o)}};function Vx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function tp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function S1(){}function DF(o,l,f,y,x){if(x){if(typeof y=="function"){var E=y;y=function(){var X=Zm(P);E.call(X)}}var P=E1(l,y,o,0,null,!1,!1,"",S1);return o._reactRootContainer=P,o[Zi]=P.current,Kd(o.nodeType===8?o.parentNode:o),Sl(),P}for(;x=o.lastChild;)o.removeChild(x);if(typeof y=="function"){var B=y;y=function(){var X=Zm($);B.call(X)}}var $=Mx(o,0,!1,null,null,!1,!1,"",S1);return o._reactRootContainer=$,o[Zi]=$.current,Kd(o.nodeType===8?o.parentNode:o),Sl(function(){Jm(l,$,f,y)}),$}function np(o,l,f,y,x){var E=f._reactRootContainer;if(E){var P=E;if(typeof x=="function"){var B=x;x=function(){var $=Zm(P);B.call($)}}Jm(l,P,o,x)}else P=DF(f,l,o,x,y);return Zm(P)}Dd=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var f=gt(l.pendingLanes);f!==0&&(jd(l,f|1),_r(l,Rt()),(ft&6)===0&&(Zc=Rt()+500,Yo()))}break;case 13:Sl(function(){var y=ro(o,1);if(y!==null){var x=lr();Rs(y,o,1,x)}}),Ox(o,1)}},Tc=function(o){if(o.tag===13){var l=ro(o,134217728);if(l!==null){var f=lr();Rs(l,o,134217728,f)}Ox(o,134217728)}},Md=function(o){if(o.tag===13){var l=ta(o),f=ro(o,l);if(f!==null){var y=lr();Rs(f,o,l,y)}Ox(o,l)}},Od=function(){return ot},Ld=function(o,l){var f=ot;try{return ot=o,l()}finally{ot=f}},ts=function(o,l,f){switch(l){case"input":if(or(o,f),l=f.name,f.type==="radio"&&l!=null){for(f=o;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var y=f[l];if(y!==o&&y.form===o.form){var x=xm(y);if(!x)throw Error(n(90));et(y),or(y,x)}}}break;case"textarea":vc(o,f);break;case"select":l=f.value,l!=null&&An(o,!!f.multiple,l,!1)}},ht=Px,_t=Sl;var MF={usingClientEntryPoint:!1,Events:[Xd,Uc,xm,ti,Me,Px]},dh={findFiberByHostInstance:yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OF={bundleType:dh.bundleType,version:dh.version,rendererPackageName:dh.rendererPackageName,rendererConfig:dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=tm(o),o===null?null:o.stateNode},findFiberByHostInstance:dh.findFiberByHostInstance||jF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{ll=rp.inject(OF),Mr=rp}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MF,wr.createPortal=function(o,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(l))throw Error(n(200));return kF(o,l,null,f)},wr.createRoot=function(o,l){if(!Vx(o))throw Error(n(299));var f=!1,y="",x=T1;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Mx(o,1,!1,null,null,f,!1,y,x),o[Zi]=l.current,Kd(o.nodeType===8?o.parentNode:o),new Lx(l)},wr.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=tm(l),o=o===null?null:o.stateNode,o},wr.flushSync=function(o){return Sl(o)},wr.hydrate=function(o,l,f){if(!tp(l))throw Error(n(200));return np(null,o,l,!0,f)},wr.hydrateRoot=function(o,l,f){if(!Vx(o))throw Error(n(405));var y=f!=null&&f.hydratedSources||null,x=!1,E="",P=T1;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(P=f.onRecoverableError)),l=E1(l,null,o,1,f??null,x,!1,E,P),o[Zi]=l.current,Kd(o),y)for(o=0;o<y.length;o++)f=y[o],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new ep(l)},wr.render=function(o,l,f){if(!tp(l))throw Error(n(200));return np(null,o,l,!1,f)},wr.unmountComponentAtNode=function(o){if(!tp(o))throw Error(n(40));return o._reactRootContainer?(Sl(function(){np(null,null,o,!1,function(){o._reactRootContainer=null,o[Zi]=null})}),!0):!1},wr.unstable_batchedUpdates=Px,wr.unstable_renderSubtreeIntoContainer=function(o,l,f,y){if(!tp(f))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return np(o,l,f,!1,y)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var D1;function AA(){if(D1)return zx.exports;D1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zx.exports=WF(),zx.exports}var M1;function qF(){if(M1)return ip;M1=1;var t=AA();return ip.createRoot=t.createRoot,ip.hydrateRoot=t.hydrateRoot,ip}var HF=qF(),w=I0();const fe=PA(w),N0=VF({__proto__:null,default:fe},[w]),GF=1,KF=1e6;let qx=0;function YF(){return qx=(qx+1)%Number.MAX_SAFE_INTEGER,qx.toString()}const Hx=new Map,O1=t=>{if(Hx.has(t))return;const e=setTimeout(()=>{Hx.delete(t),Nh({type:"REMOVE_TOAST",toastId:t})},KF);Hx.set(t,e)},QF=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,GF)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?O1(n):t.toasts.forEach(r=>{O1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Np=[];let Pp={toasts:[]};function Nh(t){Pp=QF(Pp,t),Np.forEach(e=>{e(Pp)})}function Ci({...t}){const e=YF(),n=s=>Nh({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Nh({type:"DISMISS_TOAST",toastId:e});return Nh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function ko(){const[t,e]=w.useState(Pp);return w.useEffect(()=>(Np.push(e),()=>{const n=Np.indexOf(e);n>-1&&Np.splice(n,1)}),[t]),{...t,toast:Ci,dismiss:n=>Nh({type:"DISMISS_TOAST",toastId:n})}}var Zu=AA();const RA=PA(Zu);function Re(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function L1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kA(...t){return e=>{let n=!1;const r=t.map(s=>{const i=L1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():L1(t[s],null)}}}}function dt(...t){return w.useCallback(kA(...t),t)}function XF(t,e){const n=w.createContext(e),r=i=>{const{children:a,...c}=i,d=w.useMemo(()=>c,Object.values(c));return u.jsx(n.Provider,{value:d,children:a})};r.displayName=t+"Provider";function s(i){const a=w.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Ks(t,e=[]){let n=[];function r(i,a){const c=w.createContext(a),d=n.length;n=[...n,a];const h=g=>{var A;const{scope:v,children:_,...C}=g,T=((A=v==null?void 0:v[t])==null?void 0:A[d])||c,S=w.useMemo(()=>C,Object.values(C));return u.jsx(T.Provider,{value:S,children:_})};h.displayName=i+"Provider";function m(g,v){var T;const _=((T=v==null?void 0:v[t])==null?void 0:T[d])||c,C=w.useContext(_);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[h,m]}const s=()=>{const i=n.map(a=>w.createContext(a));return function(c){const d=(c==null?void 0:c[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return s.scopeName=t,[r,JF(s,...e)]}function JF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:d,scopeName:h})=>{const g=d(i)[`__scope${h}`];return{...c,...g}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Vu(t){const e=e3(t),n=w.forwardRef((r,s)=>{const{children:i,...a}=r,c=w.Children.toArray(i),d=c.find(n3);if(d){const h=d.props.children,m=c.map(g=>g===d?w.Children.count(h)>1?w.Children.only(null):w.isValidElement(h)?h.props.children:null:g);return u.jsx(e,{...a,ref:s,children:w.isValidElement(h)?w.cloneElement(h,void 0,m):null})}return u.jsx(e,{...a,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ZF=Vu("Slot");function e3(t){const e=w.forwardRef((n,r)=>{const{children:s,...i}=n;if(w.isValidElement(s)){const a=s3(s),c=r3(i,s.props);return s.type!==w.Fragment&&(c.ref=r?kA(r,a):a),w.cloneElement(s,c)}return w.Children.count(s)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jA=Symbol("radix.slottable");function t3(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=jA,e}function n3(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jA}function r3(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{const d=i(...c);return s(...c),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function s3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Qg(t){const e=t+"CollectionProvider",[n,r]=Ks(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=T=>{const{scope:S,children:A}=T,k=fe.useRef(null),N=fe.useRef(new Map).current;return u.jsx(s,{scope:S,itemMap:N,collectionRef:k,children:A})};a.displayName=e;const c=t+"CollectionSlot",d=Vu(c),h=fe.forwardRef((T,S)=>{const{scope:A,children:k}=T,N=i(c,A),L=dt(S,N.collectionRef);return u.jsx(d,{ref:L,children:k})});h.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",v=Vu(m),_=fe.forwardRef((T,S)=>{const{scope:A,children:k,...N}=T,L=fe.useRef(null),z=dt(S,L),H=i(m,A);return fe.useEffect(()=>(H.itemMap.set(L,{ref:L,...N}),()=>void H.itemMap.delete(L))),u.jsx(v,{[g]:"",ref:z,children:k})});_.displayName=m;function C(T){const S=i(t+"CollectionConsumer",T);return fe.useCallback(()=>{const k=S.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((H,j)=>N.indexOf(H.ref.current)-N.indexOf(j.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:h,ItemSlot:_},C,r]}var i3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=i3.reduce((t,e)=>{const n=Vu(`Primitive.${e}`),r=w.forwardRef((s,i)=>{const{asChild:a,...c}=s,d=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(d,{...c,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function DA(t,e){t&&Zu.flushSync(()=>t.dispatchEvent(e))}function xs(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function o3(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var a3="DismissableLayer",W_="dismissableLayer.update",l3="dismissableLayer.pointerDownOutside",c3="dismissableLayer.focusOutside",V1,MA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ef=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...d}=t,h=w.useContext(MA),[m,g]=w.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=w.useState({}),C=dt(e,j=>g(j)),T=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),A=T.indexOf(S),k=m?T.indexOf(m):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,L=k>=A,z=d3(j=>{const R=j.target,M=[...h.branches].some(F=>F.contains(R));!L||M||(s==null||s(j),a==null||a(j),j.defaultPrevented||c==null||c())},v),H=h3(j=>{const R=j.target;[...h.branches].some(F=>F.contains(R))||(i==null||i(j),a==null||a(j),j.defaultPrevented||c==null||c())},v);return o3(j=>{k===h.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&c&&(j.preventDefault(),c()))},v),w.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(V1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),F1(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=V1)}},[m,v,n,h]),w.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),F1())},[m,h]),w.useEffect(()=>{const j=()=>_({});return document.addEventListener(W_,j),()=>document.removeEventListener(W_,j)},[]),u.jsx(ze.div,{...d,ref:C,style:{pointerEvents:N?L?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,H.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,z.onPointerDownCapture)})});Ef.displayName=a3;var u3="DismissableLayerBranch",OA=w.forwardRef((t,e)=>{const n=w.useContext(MA),r=w.useRef(null),s=dt(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ze.div,{...t,ref:s})});OA.displayName=u3;function d3(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let d=function(){LA(l3,n,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function h3(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&LA(c3,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F1(){const t=new CustomEvent(W_);document.dispatchEvent(t)}function LA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DA(s,i):s.dispatchEvent(i)}var f3=Ef,m3=OA,Fn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},p3="Portal",Xg=w.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=w.useState(!1);Fn(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?RA.createPortal(u.jsx(ze.div,{...r,ref:e}),a):null});Xg.displayName=p3;function g3(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var cc=t=>{const{present:e,children:n}=t,r=y3(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=dt(r.ref,v3(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};cc.displayName="Presence";function y3(t){const[e,n]=w.useState(),r=w.useRef(null),s=w.useRef(t),i=w.useRef("none"),a=t?"mounted":"unmounted",[c,d]=g3(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=op(r.current);i.current=c==="mounted"?h:"none"},[c]),Fn(()=>{const h=r.current,m=s.current;if(m!==t){const v=i.current,_=op(h);t?d("MOUNT"):_==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&v!==_?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,d]),Fn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=_=>{const T=op(r.current).includes(_.animationName);if(_.target===e&&T&&(d("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=_=>{_.target===e&&(i.current=op(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:w.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function op(t){return(t==null?void 0:t.animationName)||"none"}function v3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var x3=N0[" useInsertionEffect ".trim().toString()]||Fn;function ja({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,a]=_3({defaultProp:e,onChange:n}),c=t!==void 0,d=c?t:s;{const m=w.useRef(t!==void 0);w.useEffect(()=>{const g=m.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=w.useCallback(m=>{var g;if(c){const v=w3(m)?m(t):m;v!==t&&((g=a.current)==null||g.call(a,v))}else i(m)},[c,t,i,a]);return[d,h]}function _3({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),s=w.useRef(n),i=w.useRef(e);return x3(()=>{i.current=e},[e]),w.useEffect(()=>{var a;s.current!==n&&((a=i.current)==null||a.call(i,n),s.current=n)},[n,s]),[n,r,i]}function w3(t){return typeof t=="function"}var VA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),E3="VisuallyHidden",Jg=w.forwardRef((t,e)=>u.jsx(ze.span,{...t,ref:e,style:{...VA,...t.style}}));Jg.displayName=E3;var b3=Jg,P0="ToastProvider",[A0,T3,S3]=Qg("Toast"),[FA]=Ks("Toast",[S3]),[C3,Zg]=FA(P0),UA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:a}=t,[c,d]=w.useState(null),[h,m]=w.useState(0),g=w.useRef(!1),v=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${P0}\`. Expected non-empty \`string\`.`),u.jsx(A0.Provider,{scope:e,children:u.jsx(C3,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:h,viewport:c,onViewportChange:d,onToastAdd:w.useCallback(()=>m(_=>_+1),[]),onToastRemove:w.useCallback(()=>m(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:a})})};UA.displayName=P0;var BA="ToastViewport",I3=["F8"],q_="toast.viewportPause",H_="toast.viewportResume",zA=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=I3,label:s="Notifications ({hotkey})",...i}=t,a=Zg(BA,n),c=T3(n),d=w.useRef(null),h=w.useRef(null),m=w.useRef(null),g=w.useRef(null),v=dt(e,g,a.onViewportChange),_=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=a.toastCount>0;w.useEffect(()=>{const S=A=>{var N;r.length!==0&&r.every(L=>A[L]||A.code===L)&&((N=g.current)==null||N.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),w.useEffect(()=>{const S=d.current,A=g.current;if(C&&S&&A){const k=()=>{if(!a.isClosePausedRef.current){const H=new CustomEvent(q_);A.dispatchEvent(H),a.isClosePausedRef.current=!0}},N=()=>{if(a.isClosePausedRef.current){const H=new CustomEvent(H_);A.dispatchEvent(H),a.isClosePausedRef.current=!1}},L=H=>{!S.contains(H.relatedTarget)&&N()},z=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",k),S.addEventListener("focusout",L),S.addEventListener("pointermove",k),S.addEventListener("pointerleave",z),window.addEventListener("blur",k),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",k),S.removeEventListener("focusout",L),S.removeEventListener("pointermove",k),S.removeEventListener("pointerleave",z),window.removeEventListener("blur",k),window.removeEventListener("focus",N)}}},[C,a.isClosePausedRef]);const T=w.useCallback(({tabbingDirection:S})=>{const k=c().map(N=>{const L=N.ref.current,z=[L,...U3(L)];return S==="forwards"?z:z.reverse()});return(S==="forwards"?k.reverse():k).flat()},[c]);return w.useEffect(()=>{const S=g.current;if(S){const A=k=>{var z,H,j;const N=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!N){const R=document.activeElement,M=k.shiftKey;if(k.target===S&&M){(z=h.current)==null||z.focus();return}const U=T({tabbingDirection:M?"backwards":"forwards"}),O=U.findIndex(re=>re===R);Gx(U.slice(O+1))?k.preventDefault():M?(H=h.current)==null||H.focus():(j=m.current)==null||j.focus()}};return S.addEventListener("keydown",A),()=>S.removeEventListener("keydown",A)}},[c,T]),u.jsxs(m3,{ref:d,role:"region","aria-label":s.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&u.jsx(G_,{ref:h,onFocusFromOutsideViewport:()=>{const S=T({tabbingDirection:"forwards"});Gx(S)}}),u.jsx(A0.Slot,{scope:n,children:u.jsx(ze.ol,{tabIndex:-1,...i,ref:v})}),C&&u.jsx(G_,{ref:m,onFocusFromOutsideViewport:()=>{const S=T({tabbingDirection:"backwards"});Gx(S)}})]})});zA.displayName=BA;var $A="ToastFocusProxy",G_=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zg($A,n);return u.jsx(Jg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const c=a.relatedTarget;!((h=i.viewport)!=null&&h.contains(c))&&r()}})});G_.displayName=$A;var bf="Toast",N3="toast.swipeStart",P3="toast.swipeMove",A3="toast.swipeCancel",R3="toast.swipeEnd",WA=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...a}=t,[c,d]=ja({prop:r,defaultProp:s??!0,onChange:i,caller:bf});return u.jsx(cc,{present:n||c,children:u.jsx(D3,{open:c,...a,ref:e,onClose:()=>d(!1),onPause:xs(t.onPause),onResume:xs(t.onResume),onSwipeStart:Re(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Re(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});WA.displayName=bf;var[k3,j3]=FA(bf,{onClose(){}}),D3=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:a,onEscapeKeyDown:c,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:_,...C}=t,T=Zg(bf,n),[S,A]=w.useState(null),k=dt(e,re=>A(re)),N=w.useRef(null),L=w.useRef(null),z=s||T.duration,H=w.useRef(0),j=w.useRef(z),R=w.useRef(0),{onToastAdd:M,onToastRemove:F}=T,V=xs(()=>{var xe;(S==null?void 0:S.contains(document.activeElement))&&((xe=T.viewport)==null||xe.focus()),a()}),U=w.useCallback(re=>{!re||re===1/0||(window.clearTimeout(R.current),H.current=new Date().getTime(),R.current=window.setTimeout(V,re))},[V]);w.useEffect(()=>{const re=T.viewport;if(re){const xe=()=>{U(j.current),h==null||h()},he=()=>{const le=new Date().getTime()-H.current;j.current=j.current-le,window.clearTimeout(R.current),d==null||d()};return re.addEventListener(q_,he),re.addEventListener(H_,xe),()=>{re.removeEventListener(q_,he),re.removeEventListener(H_,xe)}}},[T.viewport,z,d,h,U]),w.useEffect(()=>{i&&!T.isClosePausedRef.current&&U(z)},[i,z,T.isClosePausedRef,U]),w.useEffect(()=>(M(),()=>F()),[M,F]);const O=w.useMemo(()=>S?XA(S):null,[S]);return T.viewport?u.jsxs(u.Fragment,{children:[O&&u.jsx(M3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),u.jsx(k3,{scope:n,onClose:V,children:Zu.createPortal(u.jsx(A0.ItemSlot,{scope:n,children:u.jsx(f3,{asChild:!0,onEscapeKeyDown:Re(c,()=>{T.isFocusedToastEscapeKeyDownRef.current||V(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":T.swipeDirection,...C,ref:k,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,re=>{re.key==="Escape"&&(c==null||c(re.nativeEvent),re.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Re(t.onPointerDown,re=>{re.button===0&&(N.current={x:re.clientX,y:re.clientY})}),onPointerMove:Re(t.onPointerMove,re=>{if(!N.current)return;const xe=re.clientX-N.current.x,he=re.clientY-N.current.y,le=!!L.current,Y=["left","right"].includes(T.swipeDirection),ee=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,ie=Y?ee(0,xe):0,W=Y?0:ee(0,he),Z=re.pointerType==="touch"?10:2,pe={x:ie,y:W},ge={originalEvent:re,delta:pe};le?(L.current=pe,ap(P3,g,ge,{discrete:!1})):U1(pe,T.swipeDirection,Z)?(L.current=pe,ap(N3,m,ge,{discrete:!1}),re.target.setPointerCapture(re.pointerId)):(Math.abs(xe)>Z||Math.abs(he)>Z)&&(N.current=null)}),onPointerUp:Re(t.onPointerUp,re=>{const xe=L.current,he=re.target;if(he.hasPointerCapture(re.pointerId)&&he.releasePointerCapture(re.pointerId),L.current=null,N.current=null,xe){const le=re.currentTarget,Y={originalEvent:re,delta:xe};U1(xe,T.swipeDirection,T.swipeThreshold)?ap(R3,_,Y,{discrete:!0}):ap(A3,v,Y,{discrete:!0}),le.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),M3=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zg(bf,e),[i,a]=w.useState(!1),[c,d]=w.useState(!1);return V3(()=>a(!0)),w.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:u.jsx(Xg,{asChild:!0,children:u.jsx(Jg,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},O3="ToastTitle",qA=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ze.div,{...r,ref:e})});qA.displayName=O3;var L3="ToastDescription",HA=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ze.div,{...r,ref:e})});HA.displayName=L3;var GA="ToastAction",KA=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(QA,{altText:n,asChild:!0,children:u.jsx(R0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${GA}\`. Expected non-empty \`string\`.`),null)});KA.displayName=GA;var YA="ToastClose",R0=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=j3(YA,n);return u.jsx(QA,{asChild:!0,children:u.jsx(ze.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,s.onClose)})})});R0.displayName=YA;var QA=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function XA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),F3(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...XA(r))}}),e}function ap(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?DA(s,i):s.dispatchEvent(i)}var U1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function V3(t=()=>{}){const e=xs(t);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function F3(t){return t.nodeType===t.ELEMENT_NODE}function U3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var B3=UA,JA=zA,ZA=WA,eR=qA,tR=HA,nR=KA,rR=R0;function sR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=sR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function iR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=sR(t))&&(r&&(r+=" "),r+=e);return r}const B1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,z1=iR,ey=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return z1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(h=>{const m=n==null?void 0:n[h],g=i==null?void 0:i[h];if(m===null)return null;const v=B1(m)||B1(g);return s[h][v]}),c=n&&Object.entries(n).reduce((h,m)=>{let[g,v]=m;return v===void 0||(h[g]=v),h},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:g,className:v,..._}=m;return Object.entries(_).every(C=>{let[T,S]=C;return Array.isArray(S)?S.includes({...i,...c}[T]):{...i,...c}[T]===S})?[...h,g,v]:h},[]);return z1(t,a,d,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oR=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...c},d)=>w.createElement("svg",{ref:d,...$3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:oR("lucide",s),...c},[...a.map(([h,m])=>w.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(W3,{ref:i,iconNode:e,className:oR(`lucide-${z3(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=De("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=De("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=De("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=De("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=De("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=De("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=De("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=De("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=De("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=De("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=De("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=De("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=De("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=De("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=De("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D0="-",d5=t=>{const e=f5(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(D0);return c[0]===""&&c.length!==1&&c.shift(),vR(c,e)||h5(a)},getConflictingClassGroupIds:(a,c)=>{const d=n[a]||[];return c&&r[a]?[...d,...r[a]]:d}}},vR=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?vR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(D0);return(a=e.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},q1=/^\[(.+)\]$/,h5=t=>{if(q1.test(t)){const e=q1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},f5=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return p5(Object.entries(t.classGroups),n).forEach(([i,a])=>{X_(a,r,i,e)}),r},X_=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:H1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(m5(s)){X_(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{X_(a,H1(e,i),n,r)})})},H1=(t,e)=>{let n=t;return e.split(D0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},m5=t=>t.isThemeGetter,p5=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,c])=>[e+a,c])):i);return[n,s]}):t,g5=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},xR="!",y5=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,a=c=>{const d=[];let h=0,m=0,g;for(let S=0;S<c.length;S++){let A=c[S];if(h===0){if(A===s&&(r||c.slice(S,S+i)===e)){d.push(c.slice(m,S)),m=S+i;continue}if(A==="/"){g=S;continue}}A==="["?h++:A==="]"&&h--}const v=d.length===0?c:c.substring(m),_=v.startsWith(xR),C=_?v.substring(1):v,T=g&&g>m?g-m:void 0;return{modifiers:d,hasImportantModifier:_,baseClassName:C,maybePostfixModifierPosition:T}};return n?c=>n({className:c,parseClassName:a}):a},v5=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},x5=t=>({cache:g5(t.cacheSize),parseClassName:y5(t),...d5(t)}),_5=/\s+/,w5=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],a=t.trim().split(_5);let c="";for(let d=a.length-1;d>=0;d-=1){const h=a[d],{modifiers:m,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:_}=n(h);let C=!!_,T=r(C?v.substring(0,_):v);if(!T){if(!C){c=h+(c.length>0?" "+c:c);continue}if(T=r(v),!T){c=h+(c.length>0?" "+c:c);continue}C=!1}const S=v5(m).join(":"),A=g?S+xR:S,k=A+T;if(i.includes(k))continue;i.push(k);const N=s(T,C);for(let L=0;L<N.length;++L){const z=N[L];i.push(A+z)}c=h+(c.length>0?" "+c:c)}return c};function E5(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_R(e))&&(r&&(r+=" "),r+=n);return r}const _R=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_R(t[r]))&&(n&&(n+=" "),n+=e);return n};function b5(t,...e){let n,r,s,i=a;function a(d){const h=e.reduce((m,g)=>g(m),t());return n=x5(h),r=n.cache.get,s=n.cache.set,i=c,c(d)}function c(d){const h=r(d);if(h)return h;const m=w5(d,n);return s(d,m),m}return function(){return i(E5.apply(null,arguments))}}const Dt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wR=/^\[(?:([a-z-]+):)?(.+)\]$/i,T5=/^\d+\/\d+$/,S5=new Set(["px","full","screen"]),C5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,I5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,P5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=t=>vu(t)||S5.has(t)||T5.test(t),ia=t=>nd(t,"length",V5),vu=t=>!!t&&!Number.isNaN(Number(t)),Kx=t=>nd(t,"number",vu),fh=t=>!!t&&Number.isInteger(Number(t)),R5=t=>t.endsWith("%")&&vu(t.slice(0,-1)),Ze=t=>wR.test(t),oa=t=>C5.test(t),k5=new Set(["length","size","percentage"]),j5=t=>nd(t,k5,ER),D5=t=>nd(t,"position",ER),M5=new Set(["image","url"]),O5=t=>nd(t,M5,U5),L5=t=>nd(t,"",F5),mh=()=>!0,nd=(t,e,n)=>{const r=wR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},V5=t=>I5.test(t)&&!N5.test(t),ER=()=>!1,F5=t=>P5.test(t),U5=t=>A5.test(t),B5=()=>{const t=Dt("colors"),e=Dt("spacing"),n=Dt("blur"),r=Dt("brightness"),s=Dt("borderColor"),i=Dt("borderRadius"),a=Dt("borderSpacing"),c=Dt("borderWidth"),d=Dt("contrast"),h=Dt("grayscale"),m=Dt("hueRotate"),g=Dt("invert"),v=Dt("gap"),_=Dt("gradientColorStops"),C=Dt("gradientColorStopPositions"),T=Dt("inset"),S=Dt("margin"),A=Dt("opacity"),k=Dt("padding"),N=Dt("saturate"),L=Dt("scale"),z=Dt("sepia"),H=Dt("skew"),j=Dt("space"),R=Dt("translate"),M=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Ze,e],U=()=>[Ze,e],O=()=>["",ao,ia],re=()=>["auto",vu,Ze],xe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],he=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Ze],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[vu,Ze];return{cacheSize:500,separator:":",theme:{colors:[mh],spacing:[ao,ia],blur:["none","",oa,Ze],brightness:W(),borderColor:[t],borderRadius:["none","","full",oa,Ze],borderSpacing:U(),borderWidth:O(),contrast:W(),grayscale:ee(),hueRotate:W(),invert:ee(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[R5,ia],inset:V(),margin:V(),opacity:W(),padding:U(),saturate:W(),scale:W(),sepia:ee(),skew:W(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[oa]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...xe(),Ze]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fh,Ze]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",fh,Ze]}],"grid-cols":[{"grid-cols":[mh]}],"col-start-end":[{col:["auto",{span:["full",fh,Ze]},Ze]}],"col-start":[{"col-start":re()}],"col-end":[{"col-end":re()}],"grid-rows":[{"grid-rows":[mh]}],"row-start-end":[{row:["auto",{span:[fh,Ze]},Ze]}],"row-start":[{"row-start":re()}],"row-end":[{"row-end":re()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[oa]},oa]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",oa,ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kx]}],"font-family":[{font:[mh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",vu,Kx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ao,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[A]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[A]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ao,ia]}],"underline-offset":[{"underline-offset":["auto",ao,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[A]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...xe(),D5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",j5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},O5]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[A]}],"border-style":[{border:[...he(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[A]}],"divide-style":[{divide:he()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...he()]}],"outline-offset":[{"outline-offset":[ao,Ze]}],"outline-w":[{outline:[ao,ia]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[A]}],"ring-offset-w":[{"ring-offset":[ao,ia]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",oa,L5]}],"shadow-color":[{shadow:[mh]}],opacity:[{opacity:[A]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",oa,Ze]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[g]}],saturate:[{saturate:[N]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[A]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[fh,Ze]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ao,ia,Kx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z5=b5(B5);function je(...t){return z5(iR(t))}const $5=B3,bR=w.forwardRef(({className:t,...e},n)=>u.jsx(JA,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bR.displayName=JA.displayName;const W5=ey("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TR=w.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(ZA,{ref:r,className:je(W5({variant:e}),t),...n}));TR.displayName=ZA.displayName;const q5=w.forwardRef(({className:t,...e},n)=>u.jsx(nR,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));q5.displayName=nR.displayName;const SR=w.forwardRef(({className:t,...e},n)=>u.jsx(rR,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Tf,{className:"h-4 w-4"})}));SR.displayName=rR.displayName;const CR=w.forwardRef(({className:t,...e},n)=>u.jsx(eR,{ref:n,className:je("text-sm font-semibold",t),...e}));CR.displayName=eR.displayName;const IR=w.forwardRef(({className:t,...e},n)=>u.jsx(tR,{ref:n,className:je("text-sm opacity-90",t),...e}));IR.displayName=tR.displayName;function H5(){const{toasts:t}=ko();return u.jsxs($5,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(TR,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(CR,{children:n}),r&&u.jsx(IR,{children:r})]}),s,u.jsx(SR,{})]},e)}),u.jsx(bR,{})]})}var G1=["light","dark"],G5="(prefers-color-scheme: dark)",K5=w.createContext(void 0),Y5={setTheme:t=>{},themes:[]},Q5=()=>{var t;return(t=w.useContext(K5))!=null?t:Y5};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:a,attrs:c,nonce:d})=>{let h=i==="system",m=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${c.map(C=>`'${C}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,g=s?G1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(C,T=!1,S=!0)=>{let A=a?a[C]:C,k=T?C+"|| ''":`'${A}'`,N="";return s&&S&&!T&&G1.includes(C)&&(N+=`d.style.colorScheme = '${C}';`),n==="class"?T||A?N+=`c.add(${k})`:N+="null":A&&(N+=`d[s](n,${k})`),N},_=t?`!function(){${m}${v(t)}}()`:r?`!function(){try{${m}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${G5}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${v(a?"x[e]":"e",!0)}}${h?"":"else{"+v(i,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${v(a?"x[e]":"e",!0)}}else{${v(i,!1,!1)};}${g}}catch(t){}}();`;return w.createElement("script",{nonce:d,dangerouslySetInnerHTML:{__html:_}})});var X5=t=>{switch(t){case"success":return e6;case"info":return n6;case"warning":return t6;case"error":return r6;default:return null}},J5=Array(12).fill(0),Z5=({visible:t,className:e})=>fe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},fe.createElement("div",{className:"sonner-spinner"},J5.map((n,r)=>fe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),e6=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),t6=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),n6=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),r6=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},fe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),s6=fe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},fe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),fe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),i6=()=>{let[t,e]=fe.useState(document.hidden);return fe.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},J_=1,o6=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:J_++,a=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:r}),{...d,...e,id:i,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,a,c=s.then(async h=>{if(a=["resolve",h],fe.isValidElement(h))i=!1,this.create({id:r,type:"default",message:h});else if(l6(h)&&!h.ok){i=!1;let m=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description;this.create({id:r,type:"error",message:m,description:g})}else if(n.success!==void 0){i=!1;let m=typeof n.success=="function"?await n.success(h):n.success,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"success",message:m,description:g})}}).catch(async h=>{if(a=["reject",h],n.error!==void 0){i=!1;let m=typeof n.error=="function"?await n.error(h):n.error,g=typeof n.description=="function"?await n.description(h):n.description;this.create({id:r,type:"error",message:m,description:g})}}).finally(()=>{var h;i&&(this.dismiss(r),r=void 0),(h=n.finally)==null||h.call(n)}),d=()=>new Promise((h,m)=>c.then(()=>a[0]==="reject"?m(a[1]):h(a[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||J_++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Er=new o6,a6=(t,e)=>{let n=(e==null?void 0:e.id)||J_++;return Er.addToast({title:t,...e,id:n}),n},l6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",c6=a6,u6=()=>Er.toasts,d6=()=>Er.getActiveToasts();Object.assign(c6,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:u6,getToasts:d6});function h6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}h6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lp(t){return t.label!==void 0}var f6=3,m6="32px",p6="16px",K1=4e3,g6=356,y6=14,v6=20,x6=200;function ks(...t){return t.filter(Boolean).join(" ")}function _6(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var w6=t=>{var e,n,r,s,i,a,c,d,h,m,g;let{invert:v,toast:_,unstyled:C,interacting:T,setHeights:S,visibleToasts:A,heights:k,index:N,toasts:L,expanded:z,removeToast:H,defaultRichColors:j,closeButton:R,style:M,cancelButtonStyle:F,actionButtonStyle:V,className:U="",descriptionClassName:O="",duration:re,position:xe,gap:he,loadingIcon:le,expandByDefault:Y,classNames:ee,icons:ie,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:Z}=t,[pe,ge]=fe.useState(null),[Pe,Ve]=fe.useState(null),[ce,Se]=fe.useState(!1),[Fe,We]=fe.useState(!1),[Je,et]=fe.useState(!1),[At,gn]=fe.useState(!1),[Jr,ir]=fe.useState(!1),[or,Es]=fe.useState(0),[Tt,Ft]=fe.useState(0),An=fe.useRef(_.duration||re||K1),Oo=fe.useRef(null),Rr=fe.useRef(null),vc=N===0,Xs=N+1<=A,wn=_.type,kr=_.dismissible!==!1,Js=_.className||"",xc=_.descriptionClassName||"",Zr=fe.useMemo(()=>k.findIndex(Me=>Me.toastId===_.id)||0,[k,_.id]),Zs=fe.useMemo(()=>{var Me;return(Me=_.closeButton)!=null?Me:R},[_.closeButton,R]),sl=fe.useMemo(()=>_.duration||re||K1,[_.duration,re]),es=fe.useRef(0),jr=fe.useRef(0),Lo=fe.useRef(0),En=fe.useRef(null),[Vo,ei]=xe.split("-"),Wi=fe.useMemo(()=>k.reduce((Me,ht,_t)=>_t>=Zr?Me:Me+ht.height,0),[k,Zr]),ts=i6(),bs=_.invert||v,It=wn==="loading";jr.current=fe.useMemo(()=>Zr*he+Wi,[Zr,Wi]),fe.useEffect(()=>{An.current=sl},[sl]),fe.useEffect(()=>{Se(!0)},[]),fe.useEffect(()=>{let Me=Rr.current;if(Me){let ht=Me.getBoundingClientRect().height;return Ft(ht),S(_t=>[{toastId:_.id,height:ht,position:_.position},..._t]),()=>S(_t=>_t.filter(Xt=>Xt.toastId!==_.id))}},[S,_.id]),fe.useLayoutEffect(()=>{if(!ce)return;let Me=Rr.current,ht=Me.style.height;Me.style.height="auto";let _t=Me.getBoundingClientRect().height;Me.style.height=ht,Ft(_t),S(Xt=>Xt.find(Bn=>Bn.toastId===_.id)?Xt.map(Bn=>Bn.toastId===_.id?{...Bn,height:_t}:Bn):[{toastId:_.id,height:_t,position:_.position},...Xt])},[ce,_.title,_.description,S,_.id]);let pr=fe.useCallback(()=>{We(!0),Es(jr.current),S(Me=>Me.filter(ht=>ht.toastId!==_.id)),setTimeout(()=>{H(_)},x6)},[_,H,S,jr]);fe.useEffect(()=>{if(_.promise&&wn==="loading"||_.duration===1/0||_.type==="loading")return;let Me;return z||T||Z&&ts?(()=>{if(Lo.current<es.current){let ht=new Date().getTime()-es.current;An.current=An.current-ht}Lo.current=new Date().getTime()})():An.current!==1/0&&(es.current=new Date().getTime(),Me=setTimeout(()=>{var ht;(ht=_.onAutoClose)==null||ht.call(_,_),pr()},An.current)),()=>clearTimeout(Me)},[z,T,_,wn,Z,ts,pr]),fe.useEffect(()=>{_.delete&&pr()},[pr,_.delete]);function ti(){var Me,ht,_t;return ie!=null&&ie.loading?fe.createElement("div",{className:ks(ee==null?void 0:ee.loader,(Me=_==null?void 0:_.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":wn==="loading"},ie.loading):le?fe.createElement("div",{className:ks(ee==null?void 0:ee.loader,(ht=_==null?void 0:_.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":wn==="loading"},le):fe.createElement(Z5,{className:ks(ee==null?void 0:ee.loader,(_t=_==null?void 0:_.classNames)==null?void 0:_t.loader),visible:wn==="loading"})}return fe.createElement("li",{tabIndex:0,ref:Rr,className:ks(U,Js,ee==null?void 0:ee.toast,(e=_==null?void 0:_.classNames)==null?void 0:e.toast,ee==null?void 0:ee.default,ee==null?void 0:ee[wn],(n=_==null?void 0:_.classNames)==null?void 0:n[wn]),"data-sonner-toast":"","data-rich-colors":(r=_.richColors)!=null?r:j,"data-styled":!(_.jsx||_.unstyled||C),"data-mounted":ce,"data-promise":!!_.promise,"data-swiped":Jr,"data-removed":Fe,"data-visible":Xs,"data-y-position":Vo,"data-x-position":ei,"data-index":N,"data-front":vc,"data-swiping":Je,"data-dismissible":kr,"data-type":wn,"data-invert":bs,"data-swipe-out":At,"data-swipe-direction":Pe,"data-expanded":!!(z||Y&&ce),style:{"--index":N,"--toasts-before":N,"--z-index":L.length-N,"--offset":`${Fe?or:jr.current}px`,"--initial-height":Y?"auto":`${Tt}px`,...M,..._.style},onDragEnd:()=>{et(!1),ge(null),En.current=null},onPointerDown:Me=>{It||!kr||(Oo.current=new Date,Es(jr.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(et(!0),En.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,ht,_t,Xt;if(At||!kr)return;En.current=null;let Bn=Number(((Me=Rr.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),zn=Number(((ht=Rr.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$n=new Date().getTime()-((_t=Oo.current)==null?void 0:_t.getTime()),ln=pe==="x"?Bn:zn,Dr=Math.abs(ln)/$n;if(Math.abs(ln)>=v6||Dr>.11){Es(jr.current),(Xt=_.onDismiss)==null||Xt.call(_,_),Ve(pe==="x"?Bn>0?"right":"left":zn>0?"down":"up"),pr(),gn(!0),ir(!1);return}et(!1),ge(null)},onPointerMove:Me=>{var ht,_t,Xt,Bn;if(!En.current||!kr||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let zn=Me.clientY-En.current.y,$n=Me.clientX-En.current.x,ln=(_t=t.swipeDirections)!=null?_t:_6(xe);!pe&&(Math.abs($n)>1||Math.abs(zn)>1)&&ge(Math.abs($n)>Math.abs(zn)?"x":"y");let Dr={x:0,y:0};pe==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&zn<0||ln.includes("bottom")&&zn>0)&&(Dr.y=zn):pe==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&$n<0||ln.includes("right")&&$n>0)&&(Dr.x=$n),(Math.abs(Dr.x)>0||Math.abs(Dr.y)>0)&&ir(!0),(Xt=Rr.current)==null||Xt.style.setProperty("--swipe-amount-x",`${Dr.x}px`),(Bn=Rr.current)==null||Bn.style.setProperty("--swipe-amount-y",`${Dr.y}px`)}},Zs&&!_.jsx?fe.createElement("button",{"aria-label":W,"data-disabled":It,"data-close-button":!0,onClick:It||!kr?()=>{}:()=>{var Me;pr(),(Me=_.onDismiss)==null||Me.call(_,_)},className:ks(ee==null?void 0:ee.closeButton,(s=_==null?void 0:_.classNames)==null?void 0:s.closeButton)},(i=ie==null?void 0:ie.close)!=null?i:s6):null,_.jsx||w.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:fe.createElement(fe.Fragment,null,wn||_.icon||_.promise?fe.createElement("div",{"data-icon":"",className:ks(ee==null?void 0:ee.icon,(a=_==null?void 0:_.classNames)==null?void 0:a.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||ti():null,_.type!=="loading"?_.icon||(ie==null?void 0:ie[wn])||X5(wn):null):null,fe.createElement("div",{"data-content":"",className:ks(ee==null?void 0:ee.content,(c=_==null?void 0:_.classNames)==null?void 0:c.content)},fe.createElement("div",{"data-title":"",className:ks(ee==null?void 0:ee.title,(d=_==null?void 0:_.classNames)==null?void 0:d.title)},typeof _.title=="function"?_.title():_.title),_.description?fe.createElement("div",{"data-description":"",className:ks(O,xc,ee==null?void 0:ee.description,(h=_==null?void 0:_.classNames)==null?void 0:h.description)},typeof _.description=="function"?_.description():_.description):null),w.isValidElement(_.cancel)?_.cancel:_.cancel&&lp(_.cancel)?fe.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||F,onClick:Me=>{var ht,_t;lp(_.cancel)&&kr&&((_t=(ht=_.cancel).onClick)==null||_t.call(ht,Me),pr())},className:ks(ee==null?void 0:ee.cancelButton,(m=_==null?void 0:_.classNames)==null?void 0:m.cancelButton)},_.cancel.label):null,w.isValidElement(_.action)?_.action:_.action&&lp(_.action)?fe.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||V,onClick:Me=>{var ht,_t;lp(_.action)&&((_t=(ht=_.action).onClick)==null||_t.call(ht,Me),!Me.defaultPrevented&&pr())},className:ks(ee==null?void 0:ee.actionButton,(g=_==null?void 0:_.classNames)==null?void 0:g.actionButton)},_.action.label):null))};function Y1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function E6(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",c=i?p6:m6;function d(h){["top","right","bottom","left"].forEach(m=>{n[`${a}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?d(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${a}-${h}`]=c:n[`${a}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):d(c)}),n}var b6=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:g,duration:v,style:_,visibleToasts:C=f6,toastOptions:T,dir:S=Y1(),gap:A=y6,loadingIcon:k,icons:N,containerAriaLabel:L="Notifications",pauseWhenPageIsHidden:z}=t,[H,j]=fe.useState([]),R=fe.useMemo(()=>Array.from(new Set([r].concat(H.filter(Z=>Z.position).map(Z=>Z.position)))),[H,r]),[M,F]=fe.useState([]),[V,U]=fe.useState(!1),[O,re]=fe.useState(!1),[xe,he]=fe.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=fe.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=fe.useRef(null),ie=fe.useRef(!1),W=fe.useCallback(Z=>{j(pe=>{var ge;return(ge=pe.find(Pe=>Pe.id===Z.id))!=null&&ge.delete||Er.dismiss(Z.id),pe.filter(({id:Pe})=>Pe!==Z.id)})},[]);return fe.useEffect(()=>Er.subscribe(Z=>{if(Z.dismiss){j(pe=>pe.map(ge=>ge.id===Z.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{RA.flushSync(()=>{j(pe=>{let ge=pe.findIndex(Pe=>Pe.id===Z.id);return ge!==-1?[...pe.slice(0,ge),{...pe[ge],...Z},...pe.slice(ge+1)]:[Z,...pe]})})})}),[]),fe.useEffect(()=>{if(m!=="system"){he(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?he("dark"):he("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:pe})=>{he(pe?"dark":"light")})}catch{Z.addListener(({matches:ge})=>{try{he(ge?"dark":"light")}catch(Pe){console.error(Pe)}})}},[m]),fe.useEffect(()=>{H.length<=1&&U(!1)},[H]),fe.useEffect(()=>{let Z=pe=>{var ge,Pe;s.every(Ve=>pe[Ve]||pe.code===Ve)&&(U(!0),(ge=le.current)==null||ge.focus()),pe.code==="Escape"&&(document.activeElement===le.current||(Pe=le.current)!=null&&Pe.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),fe.useEffect(()=>{if(le.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,ie.current=!1)}},[le.current]),fe.createElement("section",{ref:e,"aria-label":`${L} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Z,pe)=>{var ge;let[Pe,Ve]=Z.split("-");return H.length?fe.createElement("ol",{key:Z,dir:S==="auto"?Y1():S,tabIndex:-1,ref:le,className:c,"data-sonner-toaster":!0,"data-theme":xe,"data-y-position":Pe,"data-lifted":V&&H.length>1&&!i,"data-x-position":Ve,style:{"--front-toast-height":`${((ge=M[0])==null?void 0:ge.height)||0}px`,"--width":`${g6}px`,"--gap":`${A}px`,..._,...E6(d,h)},onBlur:ce=>{ie.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(ie.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,ee.current=ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{O||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||re(!0)},onPointerUp:()=>re(!1)},H.filter(ce=>!ce.position&&pe===0||ce.position===Z).map((ce,Se)=>{var Fe,We;return fe.createElement(w6,{key:ce.id,icons:N,index:Se,toast:ce,defaultRichColors:g,duration:(Fe=T==null?void 0:T.duration)!=null?Fe:v,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:n,visibleToasts:C,closeButton:(We=T==null?void 0:T.closeButton)!=null?We:a,interacting:O,position:Z,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,removeToast:W,toasts:H.filter(Je=>Je.position==ce.position),heights:M.filter(Je=>Je.position==ce.position),setHeights:F,expandByDefault:i,gap:A,loadingIcon:k,expanded:V,pauseWhenPageIsHidden:z,swipeDirections:t.swipeDirections})})):null}))});const T6=({...t})=>{const{theme:e="system"}=Q5();return u.jsx(b6,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var S6=N0[" useId ".trim().toString()]||(()=>{}),C6=0;function Ta(t){const[e,n]=w.useState(S6());return Fn(()=>{n(r=>r??String(C6++))},[t]),e?`radix-${e}`:""}const I6=["top","right","bottom","left"],Da=Math.min,Wr=Math.max,eg=Math.round,cp=Math.floor,Pi=t=>({x:t,y:t}),N6={left:"right",right:"left",bottom:"top",top:"bottom"},P6={start:"end",end:"start"};function Z_(t,e,n){return Wr(t,Da(e,n))}function _o(t,e){return typeof t=="function"?t(e):t}function wo(t){return t.split("-")[0]}function rd(t){return t.split("-")[1]}function M0(t){return t==="x"?"y":"x"}function O0(t){return t==="y"?"height":"width"}const A6=new Set(["top","bottom"]);function Ii(t){return A6.has(wo(t))?"y":"x"}function L0(t){return M0(Ii(t))}function R6(t,e,n){n===void 0&&(n=!1);const r=rd(t),s=L0(t),i=O0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=tg(a)),[a,tg(a)]}function k6(t){const e=tg(t);return[ew(t),e,ew(e)]}function ew(t){return t.replace(/start|end/g,e=>P6[e])}const Q1=["left","right"],X1=["right","left"],j6=["top","bottom"],D6=["bottom","top"];function M6(t,e,n){switch(t){case"top":case"bottom":return n?e?X1:Q1:e?Q1:X1;case"left":case"right":return e?j6:D6;default:return[]}}function O6(t,e,n,r){const s=rd(t);let i=M6(wo(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(ew)))),i}function tg(t){return t.replace(/left|right|bottom|top/g,e=>N6[e])}function L6(t){return{top:0,right:0,bottom:0,left:0,...t}}function NR(t){return typeof t!="number"?L6(t):{top:t,right:t,bottom:t,left:t}}function ng(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function J1(t,e,n){let{reference:r,floating:s}=t;const i=Ii(e),a=L0(e),c=O0(a),d=wo(e),h=i==="y",m=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[c]/2-s[c]/2;let _;switch(d){case"top":_={x:m,y:r.y-s.height};break;case"bottom":_={x:m,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:g};break;case"left":_={x:r.x-s.width,y:g};break;default:_={x:r.x,y:r.y}}switch(rd(e)){case"start":_[a]-=v*(n&&h?-1:1);break;case"end":_[a]+=v*(n&&h?-1:1);break}return _}const V6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:m,y:g}=J1(h,r,d),v=r,_={},C=0;for(let T=0;T<c.length;T++){const{name:S,fn:A}=c[T],{x:k,y:N,data:L,reset:z}=await A({x:m,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:_,rects:h,platform:a,elements:{reference:t,floating:e}});m=k??m,g=N??g,_={..._,[S]:{..._[S],...L}},z&&C<=50&&(C++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(h=z.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):z.rects),{x:m,y:g}=J1(h,v,d)),T=-1)}return{x:m,y:g,placement:v,strategy:s,middlewareData:_}};async function Hh(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:v=!1,padding:_=0}=_o(e,t),C=NR(_),S=c[v?g==="floating"?"reference":"floating":g],A=ng(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),k=g==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),L=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},z=ng(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:k,offsetParent:N,strategy:d}):k);return{top:(A.top-z.top+C.top)/L.y,bottom:(z.bottom-A.bottom+C.bottom)/L.y,left:(A.left-z.left+C.left)/L.x,right:(z.right-A.right+C.right)/L.x}}const F6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=_o(t,e)||{};if(h==null)return{};const g=NR(m),v={x:n,y:r},_=L0(s),C=O0(_),T=await a.getDimensions(h),S=_==="y",A=S?"top":"left",k=S?"bottom":"right",N=S?"clientHeight":"clientWidth",L=i.reference[C]+i.reference[_]-v[_]-i.floating[C],z=v[_]-i.reference[_],H=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let j=H?H[N]:0;(!j||!await(a.isElement==null?void 0:a.isElement(H)))&&(j=c.floating[N]||i.floating[C]);const R=L/2-z/2,M=j/2-T[C]/2-1,F=Da(g[A],M),V=Da(g[k],M),U=F,O=j-T[C]-V,re=j/2-T[C]/2+R,xe=Z_(U,re,O),he=!d.arrow&&rd(s)!=null&&re!==xe&&i.reference[C]/2-(re<U?F:V)-T[C]/2<0,le=he?re<U?re-U:re-O:0;return{[_]:v[_]+le,data:{[_]:xe,centerOffset:re-xe-le,...he&&{alignmentOffset:le}},reset:he}}}),U6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:T=!0,...S}=_o(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const A=wo(s),k=Ii(c),N=wo(c)===c,L=await(d.isRTL==null?void 0:d.isRTL(h.floating)),z=v||(N||!T?[tg(c)]:k6(c)),H=C!=="none";!v&&H&&z.push(...O6(c,T,C,L));const j=[c,...z],R=await Hh(e,S),M=[];let F=((r=i.flip)==null?void 0:r.overflows)||[];if(m&&M.push(R[A]),g){const re=R6(s,a,L);M.push(R[re[0]],R[re[1]])}if(F=[...F,{placement:s,overflows:M}],!M.every(re=>re<=0)){var V,U;const re=(((V=i.flip)==null?void 0:V.index)||0)+1,xe=j[re];if(xe&&(!(g==="alignment"?k!==Ii(xe):!1)||F.every(Y=>Y.overflows[0]>0&&Ii(Y.placement)===k)))return{data:{index:re,overflows:F},reset:{placement:xe}};let he=(U=F.filter(le=>le.overflows[0]<=0).sort((le,Y)=>le.overflows[1]-Y.overflows[1])[0])==null?void 0:U.placement;if(!he)switch(_){case"bestFit":{var O;const le=(O=F.filter(Y=>{if(H){const ee=Ii(Y.placement);return ee===k||ee==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ee=>ee>0).reduce((ee,ie)=>ee+ie,0)]).sort((Y,ee)=>Y[1]-ee[1])[0])==null?void 0:O[0];le&&(he=le);break}case"initialPlacement":he=c;break}if(s!==he)return{reset:{placement:he}}}return{}}}};function Z1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eC(t){return I6.some(e=>t[e]>=0)}const B6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=_o(t,e);switch(r){case"referenceHidden":{const i=await Hh(e,{...s,elementContext:"reference"}),a=Z1(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:eC(a)}}}case"escaped":{const i=await Hh(e,{...s,altBoundary:!0}),a=Z1(i,n.floating);return{data:{escapedOffsets:a,escaped:eC(a)}}}default:return{}}}}},PR=new Set(["left","top"]);async function z6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=wo(n),c=rd(n),d=Ii(n)==="y",h=PR.has(a)?-1:1,m=i&&d?-1:1,g=_o(e,t);let{mainAxis:v,crossAxis:_,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof C=="number"&&(_=c==="end"?C*-1:C),d?{x:_*m,y:v*h}:{x:v*h,y:_*m}}const $6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,d=await z6(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:a}}}}},W6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:A,y:k}=S;return{x:A,y:k}}},...d}=_o(t,e),h={x:n,y:r},m=await Hh(e,d),g=Ii(wo(s)),v=M0(g);let _=h[v],C=h[g];if(i){const S=v==="y"?"top":"left",A=v==="y"?"bottom":"right",k=_+m[S],N=_-m[A];_=Z_(k,_,N)}if(a){const S=g==="y"?"top":"left",A=g==="y"?"bottom":"right",k=C+m[S],N=C-m[A];C=Z_(k,C,N)}const T=c.fn({...e,[v]:_,[g]:C});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[v]:i,[g]:a}}}}}},q6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=_o(t,e),m={x:n,y:r},g=Ii(s),v=M0(g);let _=m[v],C=m[g];const T=_o(c,e),S=typeof T=="number"?{mainAxis:T,crossAxis:0}:{mainAxis:0,crossAxis:0,...T};if(d){const N=v==="y"?"height":"width",L=i.reference[v]-i.floating[N]+S.mainAxis,z=i.reference[v]+i.reference[N]-S.mainAxis;_<L?_=L:_>z&&(_=z)}if(h){var A,k;const N=v==="y"?"width":"height",L=PR.has(wo(s)),z=i.reference[g]-i.floating[N]+(L&&((A=a.offset)==null?void 0:A[g])||0)+(L?0:S.crossAxis),H=i.reference[g]+i.reference[N]+(L?0:((k=a.offset)==null?void 0:k[g])||0)-(L?S.crossAxis:0);C<z?C=z:C>H&&(C=H)}return{[v]:_,[g]:C}}}},H6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:d=()=>{},...h}=_o(t,e),m=await Hh(e,h),g=wo(s),v=rd(s),_=Ii(s)==="y",{width:C,height:T}=i.floating;let S,A;g==="top"||g==="bottom"?(S=g,A=v===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(A=g,S=v==="end"?"top":"bottom");const k=T-m.top-m.bottom,N=C-m.left-m.right,L=Da(T-m[S],k),z=Da(C-m[A],N),H=!e.middlewareData.shift;let j=L,R=z;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=N),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=k),H&&!v){const F=Wr(m.left,0),V=Wr(m.right,0),U=Wr(m.top,0),O=Wr(m.bottom,0);_?R=C-2*(F!==0||V!==0?F+V:Wr(m.left,m.right)):j=T-2*(U!==0||O!==0?U+O:Wr(m.top,m.bottom))}await d({...e,availableWidth:R,availableHeight:j});const M=await a.getDimensions(c.floating);return C!==M.width||T!==M.height?{reset:{rects:!0}}:{}}}};function ay(){return typeof window<"u"}function sd(t){return AR(t)?(t.nodeName||"").toLowerCase():"#document"}function Yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $i(t){var e;return(e=(AR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AR(t){return ay()?t instanceof Node||t instanceof Yr(t).Node:!1}function $s(t){return ay()?t instanceof Element||t instanceof Yr(t).Element:!1}function Fi(t){return ay()?t instanceof HTMLElement||t instanceof Yr(t).HTMLElement:!1}function tC(t){return!ay()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yr(t).ShadowRoot}const G6=new Set(["inline","contents"]);function Sf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ws(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!G6.has(s)}const K6=new Set(["table","td","th"]);function Y6(t){return K6.has(sd(t))}const Q6=[":popover-open",":modal"];function ly(t){return Q6.some(e=>{try{return t.matches(e)}catch{return!1}})}const X6=["transform","translate","scale","rotate","perspective"],J6=["transform","translate","scale","rotate","perspective","filter"],Z6=["paint","layout","strict","content"];function V0(t){const e=F0(),n=$s(t)?Ws(t):t;return X6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||J6.some(r=>(n.willChange||"").includes(r))||Z6.some(r=>(n.contain||"").includes(r))}function eU(t){let e=Ma(t);for(;Fi(e)&&!Uu(e);){if(V0(e))return e;if(ly(e))return null;e=Ma(e)}return null}function F0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const tU=new Set(["html","body","#document"]);function Uu(t){return tU.has(sd(t))}function Ws(t){return Yr(t).getComputedStyle(t)}function cy(t){return $s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ma(t){if(sd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tC(t)&&t.host||$i(t);return tC(e)?e.host:e}function RR(t){const e=Ma(t);return Uu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fi(e)&&Sf(e)?e:RR(e)}function Gh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RR(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=Yr(s);if(i){const c=tw(a);return e.concat(a,a.visualViewport||[],Sf(s)?s:[],c&&n?Gh(c):[])}return e.concat(s,Gh(s,[],n))}function tw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kR(t){const e=Ws(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fi(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=eg(n)!==i||eg(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function U0(t){return $s(t)?t:t.contextElement}function xu(t){const e=U0(t);if(!Fi(e))return Pi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kR(e);let a=(i?eg(n.width):n.width)/r,c=(i?eg(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const nU=Pi(0);function jR(t){const e=Yr(t);return!F0()||!e.visualViewport?nU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yr(t)?!1:e}function Ql(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=U0(t);let a=Pi(1);e&&(r?$s(r)&&(a=xu(r)):a=xu(t));const c=rU(i,n,r)?jR(i):Pi(0);let d=(s.left+c.x)/a.x,h=(s.top+c.y)/a.y,m=s.width/a.x,g=s.height/a.y;if(i){const v=Yr(i),_=r&&$s(r)?Yr(r):r;let C=v,T=tw(C);for(;T&&r&&_!==C;){const S=xu(T),A=T.getBoundingClientRect(),k=Ws(T),N=A.left+(T.clientLeft+parseFloat(k.paddingLeft))*S.x,L=A.top+(T.clientTop+parseFloat(k.paddingTop))*S.y;d*=S.x,h*=S.y,m*=S.x,g*=S.y,d+=N,h+=L,C=Yr(T),T=tw(C)}}return ng({width:m,height:g,x:d,y:h})}function B0(t,e){const n=cy(t).scrollLeft;return e?e.left+n:Ql($i(t)).left+n}function DR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:B0(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function sU(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=$i(r),c=e?ly(e.floating):!1;if(r===a||c&&i)return n;let d={scrollLeft:0,scrollTop:0},h=Pi(1);const m=Pi(0),g=Fi(r);if((g||!g&&!i)&&((sd(r)!=="body"||Sf(a))&&(d=cy(r)),Fi(r))){const _=Ql(r);h=xu(r),m.x=_.x+r.clientLeft,m.y=_.y+r.clientTop}const v=a&&!g&&!i?DR(a,d,!0):Pi(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:n.y*h.y-d.scrollTop*h.y+m.y+v.y}}function iU(t){return Array.from(t.getClientRects())}function oU(t){const e=$i(t),n=cy(t),r=t.ownerDocument.body,s=Wr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Wr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+B0(t);const c=-n.scrollTop;return Ws(r).direction==="rtl"&&(a+=Wr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}function aU(t,e){const n=Yr(t),r=$i(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,d=0;if(s){i=s.width,a=s.height;const h=F0();(!h||h&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}return{width:i,height:a,x:c,y:d}}const lU=new Set(["absolute","fixed"]);function cU(t,e){const n=Ql(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fi(t)?xu(t):Pi(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,d=s*i.x,h=r*i.y;return{width:a,height:c,x:d,y:h}}function nC(t,e,n){let r;if(e==="viewport")r=aU(t,n);else if(e==="document")r=oU($i(t));else if($s(e))r=cU(e,n);else{const s=jR(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return ng(r)}function MR(t,e){const n=Ma(t);return n===e||!$s(n)||Uu(n)?!1:Ws(n).position==="fixed"||MR(n,e)}function uU(t,e){const n=e.get(t);if(n)return n;let r=Gh(t,[],!1).filter(c=>$s(c)&&sd(c)!=="body"),s=null;const i=Ws(t).position==="fixed";let a=i?Ma(t):t;for(;$s(a)&&!Uu(a);){const c=Ws(a),d=V0(a);!d&&c.position==="fixed"&&(s=null),(i?!d&&!s:!d&&c.position==="static"&&!!s&&lU.has(s.position)||Sf(a)&&!d&&MR(t,a))?r=r.filter(m=>m!==a):s=c,a=Ma(a)}return e.set(t,r),r}function dU(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?ly(e)?[]:uU(e,this._c):[].concat(n),r],c=a[0],d=a.reduce((h,m)=>{const g=nC(e,m,s);return h.top=Wr(g.top,h.top),h.right=Da(g.right,h.right),h.bottom=Da(g.bottom,h.bottom),h.left=Wr(g.left,h.left),h},nC(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function hU(t){const{width:e,height:n}=kR(t);return{width:e,height:n}}function fU(t,e,n){const r=Fi(e),s=$i(e),i=n==="fixed",a=Ql(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=Pi(0);function h(){d.x=B0(s)}if(r||!r&&!i)if((sd(e)!=="body"||Sf(s))&&(c=cy(e)),r){const _=Ql(e,!0,i,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else s&&h();i&&!r&&s&&h();const m=s&&!r&&!i?DR(s,c):Pi(0),g=a.left+c.scrollLeft-d.x-m.x,v=a.top+c.scrollTop-d.y-m.y;return{x:g,y:v,width:a.width,height:a.height}}function Yx(t){return Ws(t).position==="static"}function rC(t,e){if(!Fi(t)||Ws(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $i(t)===n&&(n=n.ownerDocument.body),n}function OR(t,e){const n=Yr(t);if(ly(t))return n;if(!Fi(t)){let s=Ma(t);for(;s&&!Uu(s);){if($s(s)&&!Yx(s))return s;s=Ma(s)}return n}let r=rC(t,e);for(;r&&Y6(r)&&Yx(r);)r=rC(r,e);return r&&Uu(r)&&Yx(r)&&!V0(r)?n:r||eU(t)||n}const mU=async function(t){const e=this.getOffsetParent||OR,n=this.getDimensions,r=await n(t.floating);return{reference:fU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pU(t){return Ws(t).direction==="rtl"}const gU={convertOffsetParentRelativeRectToViewportRelativeRect:sU,getDocumentElement:$i,getClippingRect:dU,getOffsetParent:OR,getElementRects:mU,getClientRects:iU,getDimensions:hU,getScale:xu,isElement:$s,isRTL:pU};function LR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function yU(t,e){let n=null,r;const s=$i(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:m,top:g,width:v,height:_}=h;if(c||e(),!v||!_)return;const C=cp(g),T=cp(s.clientWidth-(m+v)),S=cp(s.clientHeight-(g+_)),A=cp(m),N={rootMargin:-C+"px "+-T+"px "+-S+"px "+-A+"px",threshold:Wr(0,Da(1,d))||1};let L=!0;function z(H){const j=H[0].intersectionRatio;if(j!==d){if(!L)return a();j?a(!1,j):r=setTimeout(()=>{a(!1,1e-7)},1e3)}j===1&&!LR(h,t.getBoundingClientRect())&&a(),L=!1}try{n=new IntersectionObserver(z,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(z,N)}n.observe(t)}return a(!0),i}function vU(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=U0(t),m=s||i?[...h?Gh(h):[],...Gh(e)]:[];m.forEach(A=>{s&&A.addEventListener("scroll",n,{passive:!0}),i&&A.addEventListener("resize",n)});const g=h&&c?yU(h,n):null;let v=-1,_=null;a&&(_=new ResizeObserver(A=>{let[k]=A;k&&k.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var N;(N=_)==null||N.observe(e)})),n()}),h&&!d&&_.observe(h),_.observe(e));let C,T=d?Ql(t):null;d&&S();function S(){const A=Ql(t);T&&!LR(T,A)&&n(),T=A,C=requestAnimationFrame(S)}return n(),()=>{var A;m.forEach(k=>{s&&k.removeEventListener("scroll",n),i&&k.removeEventListener("resize",n)}),g==null||g(),(A=_)==null||A.disconnect(),_=null,d&&cancelAnimationFrame(C)}}const xU=$6,_U=W6,wU=U6,EU=H6,bU=B6,sC=F6,TU=q6,SU=(t,e,n)=>{const r=new Map,s={platform:gU,...n},i={...s.platform,_c:r};return V6(t,e,{...s,platform:i})};var CU=typeof document<"u",IU=function(){},Ap=CU?w.useLayoutEffect:IU;function rg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!rg(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!rg(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function VR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function iC(t,e){const n=VR(t);return Math.round(e*n)/n}function Qx(t){const e=w.useRef(t);return Ap(()=>{e.current=t}),e}function NU(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,g]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,_]=w.useState(r);rg(v,r)||_(r);const[C,T]=w.useState(null),[S,A]=w.useState(null),k=w.useCallback(Y=>{Y!==H.current&&(H.current=Y,T(Y))},[]),N=w.useCallback(Y=>{Y!==j.current&&(j.current=Y,A(Y))},[]),L=i||C,z=a||S,H=w.useRef(null),j=w.useRef(null),R=w.useRef(m),M=d!=null,F=Qx(d),V=Qx(s),U=Qx(h),O=w.useCallback(()=>{if(!H.current||!j.current)return;const Y={placement:e,strategy:n,middleware:v};V.current&&(Y.platform=V.current),SU(H.current,j.current,Y).then(ee=>{const ie={...ee,isPositioned:U.current!==!1};re.current&&!rg(R.current,ie)&&(R.current=ie,Zu.flushSync(()=>{g(ie)}))})},[v,e,n,V,U]);Ap(()=>{h===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,g(Y=>({...Y,isPositioned:!1})))},[h]);const re=w.useRef(!1);Ap(()=>(re.current=!0,()=>{re.current=!1}),[]),Ap(()=>{if(L&&(H.current=L),z&&(j.current=z),L&&z){if(F.current)return F.current(L,z,O);O()}},[L,z,O,F,M]);const xe=w.useMemo(()=>({reference:H,floating:j,setReference:k,setFloating:N}),[k,N]),he=w.useMemo(()=>({reference:L,floating:z}),[L,z]),le=w.useMemo(()=>{const Y={position:n,left:0,top:0};if(!he.floating)return Y;const ee=iC(he.floating,m.x),ie=iC(he.floating,m.y);return c?{...Y,transform:"translate("+ee+"px, "+ie+"px)",...VR(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:ie}},[n,c,he.floating,m.x,m.y]);return w.useMemo(()=>({...m,update:O,refs:xe,elements:he,floatingStyles:le}),[m,O,xe,he,le])}const PU=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?sC({element:r.current,padding:s}).fn(n):{}:r?sC({element:r,padding:s}).fn(n):{}}}},AU=(t,e)=>({...xU(t),options:[t,e]}),RU=(t,e)=>({..._U(t),options:[t,e]}),kU=(t,e)=>({...TU(t),options:[t,e]}),jU=(t,e)=>({...wU(t),options:[t,e]}),DU=(t,e)=>({...EU(t),options:[t,e]}),MU=(t,e)=>({...bU(t),options:[t,e]}),OU=(t,e)=>({...PU(t),options:[t,e]});var LU="Arrow",FR=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ze.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});FR.displayName=LU;var VU=FR;function z0(t){const[e,n]=w.useState(void 0);return Fn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;a=h.inlineSize,c=h.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var $0="Popper",[UR,uy]=Ks($0),[FU,BR]=UR($0),zR=t=>{const{__scopePopper:e,children:n}=t,[r,s]=w.useState(null);return u.jsx(FU,{scope:e,anchor:r,onAnchorChange:s,children:n})};zR.displayName=$0;var $R="PopperAnchor",WR=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=BR($R,n),a=w.useRef(null),c=dt(e,a);return w.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:u.jsx(ze.div,{...s,ref:c})});WR.displayName=$R;var W0="PopperContent",[UU,BU]=UR(W0),qR=w.forwardRef((t,e)=>{var ce,Se,Fe,We,Je,et;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:_="optimized",onPlaced:C,...T}=t,S=BR(W0,n),[A,k]=w.useState(null),N=dt(e,At=>k(At)),[L,z]=w.useState(null),H=z0(L),j=(H==null?void 0:H.width)??0,R=(H==null?void 0:H.height)??0,M=r+(i!=="center"?"-"+i:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},V=Array.isArray(h)?h:[h],U=V.length>0,O={padding:F,boundary:V.filter($U),altBoundary:U},{refs:re,floatingStyles:xe,placement:he,isPositioned:le,middlewareData:Y}=NU({strategy:"fixed",placement:M,whileElementsMounted:(...At)=>vU(...At,{animationFrame:_==="always"}),elements:{reference:S.anchor},middleware:[AU({mainAxis:s+R,alignmentAxis:a}),d&&RU({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?kU():void 0,...O}),d&&jU({...O}),DU({...O,apply:({elements:At,rects:gn,availableWidth:Jr,availableHeight:ir})=>{const{width:or,height:Es}=gn.reference,Tt=At.floating.style;Tt.setProperty("--radix-popper-available-width",`${Jr}px`),Tt.setProperty("--radix-popper-available-height",`${ir}px`),Tt.setProperty("--radix-popper-anchor-width",`${or}px`),Tt.setProperty("--radix-popper-anchor-height",`${Es}px`)}}),L&&OU({element:L,padding:c}),WU({arrowWidth:j,arrowHeight:R}),v&&MU({strategy:"referenceHidden",...O})]}),[ee,ie]=KR(he),W=xs(C);Fn(()=>{le&&(W==null||W())},[le,W]);const Z=(ce=Y.arrow)==null?void 0:ce.x,pe=(Se=Y.arrow)==null?void 0:Se.y,ge=((Fe=Y.arrow)==null?void 0:Fe.centerOffset)!==0,[Pe,Ve]=w.useState();return Fn(()=>{A&&Ve(window.getComputedStyle(A).zIndex)},[A]),u.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...xe,transform:le?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(We=Y.transformOrigin)==null?void 0:We.x,(Je=Y.transformOrigin)==null?void 0:Je.y].join(" "),...((et=Y.hide)==null?void 0:et.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(UU,{scope:n,placedSide:ee,onArrowChange:z,arrowX:Z,arrowY:pe,shouldHideArrow:ge,children:u.jsx(ze.div,{"data-side":ee,"data-align":ie,...T,ref:N,style:{...T.style,animation:le?void 0:"none"}})})})});qR.displayName=W0;var HR="PopperArrow",zU={top:"bottom",right:"left",bottom:"top",left:"right"},GR=w.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=BU(HR,r),a=zU[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(VU,{...s,ref:n,style:{...s.style,display:"block"}})})});GR.displayName=HR;function $U(t){return t!==null}var WU=t=>({name:"transformOrigin",options:t,fn(e){var S,A,k;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[h,m]=KR(n),g={start:"0%",center:"50%",end:"100%"}[m],v=(((A=s.arrow)==null?void 0:A.x)??0)+c/2,_=(((k=s.arrow)==null?void 0:k.y)??0)+d/2;let C="",T="";return h==="bottom"?(C=a?g:`${v}px`,T=`${-d}px`):h==="top"?(C=a?g:`${v}px`,T=`${r.floating.height+d}px`):h==="right"?(C=`${-d}px`,T=a?g:`${_}px`):h==="left"&&(C=`${r.floating.width+d}px`,T=a?g:`${_}px`),{data:{x:C,y:T}}}});function KR(t){const[e,n="center"]=t.split("-");return[e,n]}var qU=zR,YR=WR,QR=qR,XR=GR,[dy]=Ks("Tooltip",[uy]),q0=uy(),JR="TooltipProvider",HU=700,oC="tooltip.open",[GU,ZR]=dy(JR),ek=t=>{const{__scopeTooltip:e,delayDuration:n=HU,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,a=w.useRef(!0),c=w.useRef(!1),d=w.useRef(0);return w.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),u.jsx(GU,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(d.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};ek.displayName=JR;var tk="Tooltip",[rae,hy]=dy(tk),nw="TooltipTrigger",KU=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hy(nw,n),i=ZR(nw,n),a=q0(n),c=w.useRef(null),d=dt(e,c,s.onTriggerChange),h=w.useRef(!1),m=w.useRef(!1),g=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),u.jsx(YR,{asChild:!0,...a,children:u.jsx(ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Re(t.onPointerMove,v=>{v.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Re(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Re(t.onBlur,s.onClose),onClick:Re(t.onClick,s.onClose)})})});KU.displayName=nw;var YU="TooltipPortal",[sae,QU]=dy(YU,{forceMount:void 0}),Bu="TooltipContent",nk=w.forwardRef((t,e)=>{const n=QU(Bu,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,a=hy(Bu,t.__scopeTooltip);return u.jsx(cc,{present:r||a.open,children:a.disableHoverableContent?u.jsx(rk,{side:s,...i,ref:e}):u.jsx(XU,{side:s,...i,ref:e})})}),XU=w.forwardRef((t,e)=>{const n=hy(Bu,t.__scopeTooltip),r=ZR(Bu,t.__scopeTooltip),s=w.useRef(null),i=dt(e,s),[a,c]=w.useState(null),{trigger:d,onClose:h}=n,m=s.current,{onPointerInTransitChange:g}=r,v=w.useCallback(()=>{c(null),g(!1)},[g]),_=w.useCallback((C,T)=>{const S=C.currentTarget,A={x:C.clientX,y:C.clientY},k=n9(A,S.getBoundingClientRect()),N=r9(A,k),L=s9(T.getBoundingClientRect()),z=o9([...N,...L]);c(z),g(!0)},[g]);return w.useEffect(()=>()=>v(),[v]),w.useEffect(()=>{if(d&&m){const C=S=>_(S,m),T=S=>_(S,d);return d.addEventListener("pointerleave",C),m.addEventListener("pointerleave",T),()=>{d.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",T)}}},[d,m,_,v]),w.useEffect(()=>{if(a){const C=T=>{const S=T.target,A={x:T.clientX,y:T.clientY},k=(d==null?void 0:d.contains(S))||(m==null?void 0:m.contains(S)),N=!i9(A,a);k?v():N&&(v(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,m,a,h,v]),u.jsx(rk,{...t,ref:i})}),[JU,ZU]=dy(tk,{isInside:!1}),e9=t3("TooltipContent"),rk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:a,...c}=t,d=hy(Bu,n),h=q0(n),{onClose:m}=d;return w.useEffect(()=>(document.addEventListener(oC,m),()=>document.removeEventListener(oC,m)),[m]),w.useEffect(()=>{if(d.trigger){const g=v=>{const _=v.target;_!=null&&_.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),u.jsx(Ef,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:u.jsxs(QR,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(e9,{children:r}),u.jsx(JU,{scope:n,isInside:!0,children:u.jsx(b3,{id:d.contentId,role:"tooltip",children:s||r})})]})})});nk.displayName=Bu;var sk="TooltipArrow",t9=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=q0(n);return ZU(sk,n).isInside?null:u.jsx(XR,{...s,...r,ref:e})});t9.displayName=sk;function n9(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function r9(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function s9(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function i9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i],d=e[a],h=c.x,m=c.y,g=d.x,v=d.y;m>r!=v>r&&n<(g-h)*(r-m)/(v-m)+h&&(s=!s)}return s}function o9(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),a9(e)}function a9(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],a=e[e.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],a=n[n.length-2];if((i.x-a.x)*(s.y-a.y)>=(i.y-a.y)*(s.x-a.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var l9=ek,ik=nk;const c9=l9,u9=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(ik,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));u9.displayName=ik.displayName;var fy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},my=typeof window>"u"||"Deno"in globalThis;function Os(){}function d9(t,e){return typeof t=="function"?t(e):t}function h9(t){return typeof t=="number"&&t>=0&&t!==1/0}function f9(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rw(t,e){return typeof t=="function"?t(e):t}function m9(t,e){return typeof t=="function"?t(e):t}function aC(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:c}=t;if(a){if(r){if(e.queryHash!==H0(a,e.options))return!1}else if(!Yh(e.queryKey,a))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||i&&!i(e))}function lC(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Kh(e.options.mutationKey)!==Kh(i))return!1}else if(!Yh(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function H0(t,e){return((e==null?void 0:e.queryKeyHashFn)||Kh)(t)}function Kh(t){return JSON.stringify(t,(e,n)=>sw(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yh(t[n],e[n])):!1}function ok(t,e){if(t===e)return t;const n=cC(t)&&cC(e);if(n||sw(t)&&sw(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),a=i.length,c=n?[]:{},d=new Set(r);let h=0;for(let m=0;m<a;m++){const g=n?m:i[m];(!n&&d.has(g)||n)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,h++):(c[g]=ok(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&h++)}return s===a&&h===s?t:c}return e}function cC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sw(t){if(!uC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!uC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function uC(t){return Object.prototype.toString.call(t)==="[object Object]"}function p9(t){return new Promise(e=>{setTimeout(e,t)})}function g9(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ok(t,e):e}function y9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function v9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var G0=Symbol();function ak(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===G0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fl,ya,Au,wA,x9=(wA=class extends fy{constructor(){super();pt(this,Fl);pt(this,ya);pt(this,Au);Qe(this,Au,e=>{if(!my&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,ya)||this.setEventListener(ne(this,Au))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,ya))==null||e.call(this),Qe(this,ya,void 0))}setEventListener(e){var n;Qe(this,Au,e),(n=ne(this,ya))==null||n.call(this),Qe(this,ya,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,Fl)!==e&&(Qe(this,Fl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,Fl)=="boolean"?ne(this,Fl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fl=new WeakMap,ya=new WeakMap,Au=new WeakMap,wA),lk=new x9,Ru,va,ku,EA,_9=(EA=class extends fy{constructor(){super();pt(this,Ru,!0);pt(this,va);pt(this,ku);Qe(this,ku,e=>{if(!my&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,va)||this.setEventListener(ne(this,ku))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,va))==null||e.call(this),Qe(this,va,void 0))}setEventListener(e){var n;Qe(this,ku,e),(n=ne(this,va))==null||n.call(this),Qe(this,va,e(this.setOnline.bind(this)))}setOnline(e){ne(this,Ru)!==e&&(Qe(this,Ru,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,Ru)}},Ru=new WeakMap,va=new WeakMap,ku=new WeakMap,EA),sg=new _9;function w9(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function E9(t){return Math.min(1e3*2**t,3e4)}function ck(t){return(t??"online")==="online"?sg.isOnline():!0}var uk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xx(t){return t instanceof uk}function dk(t){let e=!1,n=0,r=!1,s;const i=w9(),a=T=>{var S;r||(v(new uk(T)),(S=t.abort)==null||S.call(t))},c=()=>{e=!0},d=()=>{e=!1},h=()=>lk.isFocused()&&(t.networkMode==="always"||sg.isOnline())&&t.canRun(),m=()=>ck(t.networkMode)&&t.canRun(),g=T=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,T),s==null||s(),i.resolve(T))},v=T=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,T),s==null||s(),i.reject(T))},_=()=>new Promise(T=>{var S;s=A=>{(r||h())&&T(A)},(S=t.onPause)==null||S.call(t)}).then(()=>{var T;s=void 0,r||(T=t.onContinue)==null||T.call(t)}),C=()=>{if(r)return;let T;const S=n===0?t.initialPromise:void 0;try{T=S??t.fn()}catch(A){T=Promise.reject(A)}Promise.resolve(T).then(g).catch(A=>{var H;if(r)return;const k=t.retry??(my?0:3),N=t.retryDelay??E9,L=typeof N=="function"?N(n,A):N,z=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,A);if(e||!z){v(A);return}n++,(H=t.onFail)==null||H.call(t,n,A),p9(L).then(()=>h()?void 0:_()).then(()=>{e?v(A):C()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?C():_().then(C),i)}}var b9=t=>setTimeout(t,0);function T9(){let t=[],e=0,n=c=>{c()},r=c=>{c()},s=b9;const i=c=>{e?t.push(c):s(()=>{n(c)})},a=()=>{const c=t;t=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var ur=T9(),Ul,bA,hk=(bA=class{constructor(){pt(this,Ul)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h9(this.gcTime)&&Qe(this,Ul,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(my?1/0:300*1e3))}clearGcTimeout(){ne(this,Ul)&&(clearTimeout(ne(this,Ul)),Qe(this,Ul,void 0))}},Ul=new WeakMap,bA),ju,Bl,ds,zl,Xn,_f,$l,Ls,lo,TA,S9=(TA=class extends hk{constructor(n){super();pt(this,Ls);pt(this,ju);pt(this,Bl);pt(this,ds);pt(this,zl);pt(this,Xn);pt(this,_f);pt(this,$l);Qe(this,$l,!1),Qe(this,_f,n.defaultOptions),this.setOptions(n.options),this.observers=[],Qe(this,zl,n.client),Qe(this,ds,ne(this,zl).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Qe(this,ju,I9(this.options)),this.state=n.state??ne(this,ju),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=ne(this,Xn))==null?void 0:n.promise}setOptions(n){this.options={...ne(this,_f),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,ds).remove(this)}setData(n,r){const s=g9(this.state.data,n,this.options);return Yn(this,Ls,lo).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Yn(this,Ls,lo).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=ne(this,Xn))==null?void 0:s.promise;return(i=ne(this,Xn))==null||i.cancel(n),r?r.then(Os).catch(Os):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,ju))}isActive(){return this.observers.some(n=>m9(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===G0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>rw(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!f9(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,Xn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=ne(this,Xn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),ne(this,ds).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(ne(this,Xn)&&(ne(this,$l)?ne(this,Xn).cancel({revert:!0}):ne(this,Xn).cancelRetry()),this.scheduleGc()),ne(this,ds).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yn(this,Ls,lo).call(this,{type:"invalidate"})}fetch(n,r){var m,g,v;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Xn))return ne(this,Xn).continueRetry(),ne(this,Xn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const _=this.observers.find(C=>C.options.queryFn);_&&this.setOptions(_.options)}const s=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Qe(this,$l,!0),s.signal)})},a=()=>{const _=ak(this.options,r),T=(()=>{const S={client:ne(this,zl),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return Qe(this,$l,!1),this.options.persister?this.options.persister(_,T,this):_(T)},d=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,zl),state:this.state,fetchFn:a};return i(_),_})();(m=this.options.behavior)==null||m.onFetch(d,this),Qe(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&Yn(this,Ls,lo).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta});const h=_=>{var C,T,S,A;Xx(_)&&_.silent||Yn(this,Ls,lo).call(this,{type:"error",error:_}),Xx(_)||((T=(C=ne(this,ds).config).onError)==null||T.call(C,_,this),(A=(S=ne(this,ds).config).onSettled)==null||A.call(S,this.state.data,_,this)),this.scheduleGc()};return Qe(this,Xn,dk({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,abort:s.abort.bind(s),onSuccess:_=>{var C,T,S,A;if(_===void 0){h(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(k){h(k);return}(T=(C=ne(this,ds).config).onSuccess)==null||T.call(C,_,this),(A=(S=ne(this,ds).config).onSettled)==null||A.call(S,_,this.state.error,this),this.scheduleGc()},onError:h,onFail:(_,C)=>{Yn(this,Ls,lo).call(this,{type:"failed",failureCount:_,error:C})},onPause:()=>{Yn(this,Ls,lo).call(this,{type:"pause"})},onContinue:()=>{Yn(this,Ls,lo).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),ne(this,Xn).start()}},ju=new WeakMap,Bl=new WeakMap,ds=new WeakMap,zl=new WeakMap,Xn=new WeakMap,_f=new WeakMap,$l=new WeakMap,Ls=new WeakSet,lo=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...C9(s.data,this.options),fetchMeta:n.meta??null};case"success":return Qe(this,Bl,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Xx(i)&&i.revert&&ne(this,Bl)?{...ne(this,Bl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),ur.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),ne(this,ds).notify({query:this,type:"updated",action:n})})},TA);function C9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ck(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function I9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _i,SA,N9=(SA=class extends fy{constructor(e={}){super();pt(this,_i);this.config=e,Qe(this,_i,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??H0(s,n);let a=this.get(i);return a||(a=new S9({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){ne(this,_i).has(e.queryHash)||(ne(this,_i).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,_i).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,_i).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,_i).get(e)}getAll(){return[...ne(this,_i).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>aC(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>aC(e,r)):n}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_i=new WeakMap,SA),wi,cr,Wl,Ei,ca,CA,P9=(CA=class extends hk{constructor(n){super();pt(this,Ei);pt(this,wi);pt(this,cr);pt(this,Wl);this.mutationId=n.mutationId,Qe(this,cr,n.mutationCache),Qe(this,wi,[]),this.state=n.state||A9(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){ne(this,wi).includes(n)||(ne(this,wi).push(n),this.clearGcTimeout(),ne(this,cr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Qe(this,wi,ne(this,wi).filter(r=>r!==n)),this.scheduleGc(),ne(this,cr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){ne(this,wi).length||(this.state.status==="pending"?this.scheduleGc():ne(this,cr).remove(this))}continue(){var n;return((n=ne(this,Wl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,c,d,h,m,g,v,_,C,T,S,A,k,N,L,z,H,j,R,M;const r=()=>{Yn(this,Ei,ca).call(this,{type:"continue"})};Qe(this,Wl,dk({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(F,V)=>{Yn(this,Ei,ca).call(this,{type:"failed",failureCount:F,error:V})},onPause:()=>{Yn(this,Ei,ca).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,cr).canRun(this)}));const s=this.state.status==="pending",i=!ne(this,Wl).canStart();try{if(s)r();else{Yn(this,Ei,ca).call(this,{type:"pending",variables:n,isPaused:i}),await((c=(a=ne(this,cr).config).onMutate)==null?void 0:c.call(a,n,this));const V=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,n));V!==this.state.context&&Yn(this,Ei,ca).call(this,{type:"pending",context:V,variables:n,isPaused:i})}const F=await ne(this,Wl).start();return await((g=(m=ne(this,cr).config).onSuccess)==null?void 0:g.call(m,F,n,this.state.context,this)),await((_=(v=this.options).onSuccess)==null?void 0:_.call(v,F,n,this.state.context)),await((T=(C=ne(this,cr).config).onSettled)==null?void 0:T.call(C,F,null,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,F,null,n,this.state.context)),Yn(this,Ei,ca).call(this,{type:"success",data:F}),F}catch(F){try{throw await((N=(k=ne(this,cr).config).onError)==null?void 0:N.call(k,F,n,this.state.context,this)),await((z=(L=this.options).onError)==null?void 0:z.call(L,F,n,this.state.context)),await((j=(H=ne(this,cr).config).onSettled)==null?void 0:j.call(H,void 0,F,this.state.variables,this.state.context,this)),await((M=(R=this.options).onSettled)==null?void 0:M.call(R,void 0,F,n,this.state.context)),F}finally{Yn(this,Ei,ca).call(this,{type:"error",error:F})}}finally{ne(this,cr).runNext(this)}}},wi=new WeakMap,cr=new WeakMap,Wl=new WeakMap,Ei=new WeakSet,ca=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ur.batch(()=>{ne(this,wi).forEach(s=>{s.onMutationUpdate(n)}),ne(this,cr).notify({mutation:this,type:"updated",action:n})})},CA);function A9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var uo,Vs,wf,IA,R9=(IA=class extends fy{constructor(e={}){super();pt(this,uo);pt(this,Vs);pt(this,wf);this.config=e,Qe(this,uo,new Set),Qe(this,Vs,new Map),Qe(this,wf,0)}build(e,n,r){const s=new P9({mutationCache:this,mutationId:++sp(this,wf)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){ne(this,uo).add(e);const n=up(e);if(typeof n=="string"){const r=ne(this,Vs).get(n);r?r.push(e):ne(this,Vs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ne(this,uo).delete(e)){const n=up(e);if(typeof n=="string"){const r=ne(this,Vs).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&ne(this,Vs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=up(e);if(typeof n=="string"){const r=ne(this,Vs).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=up(e);if(typeof n=="string"){const s=(r=ne(this,Vs).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ur.batch(()=>{ne(this,uo).forEach(e=>{this.notify({type:"removed",mutation:e})}),ne(this,uo).clear(),ne(this,Vs).clear()})}getAll(){return Array.from(ne(this,uo))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>lC(n,r))}findAll(e={}){return this.getAll().filter(n=>lC(e,n))}notify(e){ur.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ur.batch(()=>Promise.all(e.map(n=>n.continue().catch(Os))))}},uo=new WeakMap,Vs=new WeakMap,wf=new WeakMap,IA);function up(t){var e;return(e=t.options.scope)==null?void 0:e.id}function dC(t){return{onFetch:(e,n)=>{var m,g,v,_,C;const r=e.options,s=(v=(g=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,i=((_=e.state.data)==null?void 0:_.pages)||[],a=((C=e.state.data)==null?void 0:C.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let T=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},A=ak(e.options,e.fetchOptions),k=async(N,L,z)=>{if(T)return Promise.reject();if(L==null&&N.pages.length)return Promise.resolve(N);const j=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:L,direction:z?"backward":"forward",meta:e.options.meta};return S(V),V})(),R=await A(j),{maxPages:M}=e.options,F=z?v9:y9;return{pages:F(N.pages,R,M),pageParams:F(N.pageParams,L,M)}};if(s&&i.length){const N=s==="backward",L=N?k9:hC,z={pages:i,pageParams:a},H=L(r,z);c=await k(z,H,N)}else{const N=t??i.length;do{const L=d===0?a[0]??r.initialPageParam:hC(r,c);if(d>0&&L==null)break;c=await k(c,L),d++}while(d<N)}return c};e.options.persister?e.fetchFn=()=>{var T,S;return(S=(T=e.options).persister)==null?void 0:S.call(T,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function hC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function k9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Zt,xa,_a,Du,Mu,wa,Ou,Lu,NA,j9=(NA=class{constructor(t={}){pt(this,Zt);pt(this,xa);pt(this,_a);pt(this,Du);pt(this,Mu);pt(this,wa);pt(this,Ou);pt(this,Lu);Qe(this,Zt,t.queryCache||new N9),Qe(this,xa,t.mutationCache||new R9),Qe(this,_a,t.defaultOptions||{}),Qe(this,Du,new Map),Qe(this,Mu,new Map),Qe(this,wa,0)}mount(){sp(this,wa)._++,ne(this,wa)===1&&(Qe(this,Ou,lk.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Zt).onFocus())})),Qe(this,Lu,sg.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Zt).onOnline())})))}unmount(){var t,e;sp(this,wa)._--,ne(this,wa)===0&&((t=ne(this,Ou))==null||t.call(this),Qe(this,Ou,void 0),(e=ne(this,Lu))==null||e.call(this),Qe(this,Lu,void 0))}isFetching(t){return ne(this,Zt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,xa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Zt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=ne(this,Zt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(rw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return ne(this,Zt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=ne(this,Zt).get(r.queryHash),i=s==null?void 0:s.state.data,a=d9(e,i);if(a!==void 0)return ne(this,Zt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return ur.batch(()=>ne(this,Zt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Zt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,Zt);ur.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,Zt);return ur.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=ur.batch(()=>ne(this,Zt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Os).catch(Os)}invalidateQueries(t,e={}){return ur.batch(()=>(ne(this,Zt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=ur.batch(()=>ne(this,Zt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Os)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Os)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,Zt).build(this,e);return n.isStaleByTime(rw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Os).catch(Os)}fetchInfiniteQuery(t){return t.behavior=dC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Os).catch(Os)}ensureInfiniteQueryData(t){return t.behavior=dC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sg.isOnline()?ne(this,xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Zt)}getMutationCache(){return ne(this,xa)}getDefaultOptions(){return ne(this,_a)}setDefaultOptions(t){Qe(this,_a,t)}setQueryDefaults(t,e){ne(this,Du).set(Kh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,Du).values()],n={};return e.forEach(r=>{Yh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){ne(this,Mu).set(Kh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,Mu).values()],n={};return e.forEach(r=>{Yh(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,_a).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=H0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===G0&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,_a).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,Zt).clear(),ne(this,xa).clear()}},Zt=new WeakMap,xa=new WeakMap,_a=new WeakMap,Du=new WeakMap,Mu=new WeakMap,wa=new WeakMap,Ou=new WeakMap,Lu=new WeakMap,NA),D9=w.createContext(void 0),M9=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(D9.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}var Ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ea||(Ea={}));const fC="popstate";function O9(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return iw("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ig(s)}return V9(e,n,null,t)}function an(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fk(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L9(){return Math.random().toString(36).substr(2,8)}function mC(t,e){return{usr:t.state,key:t.key,idx:e}}function iw(t,e,n,r){return n===void 0&&(n=null),Qh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?id(e):e,{state:n,key:e&&e.key||r||L9()})}function ig(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function id(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function V9(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=Ea.Pop,d=null,h=m();h==null&&(h=0,a.replaceState(Qh({},a.state,{idx:h}),""));function m(){return(a.state||{idx:null}).idx}function g(){c=Ea.Pop;let S=m(),A=S==null?null:S-h;h=S,d&&d({action:c,location:T.location,delta:A})}function v(S,A){c=Ea.Push;let k=iw(T.location,S,A);h=m()+1;let N=mC(k,h),L=T.createHref(k);try{a.pushState(N,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(L)}i&&d&&d({action:c,location:T.location,delta:1})}function _(S,A){c=Ea.Replace;let k=iw(T.location,S,A);h=m();let N=mC(k,h),L=T.createHref(k);a.replaceState(N,"",L),i&&d&&d({action:c,location:T.location,delta:0})}function C(S){let A=s.location.origin!=="null"?s.location.origin:s.location.href,k=typeof S=="string"?S:ig(S);return k=k.replace(/ $/,"%20"),an(A,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,A)}let T={get action(){return c},get location(){return t(s,a)},listen(S){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(fC,g),d=S,()=>{s.removeEventListener(fC,g),d=null}},createHref(S){return e(s,S)},createURL:C,encodeLocation(S){let A=C(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:_,go(S){return a.go(S)}};return T}var pC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pC||(pC={}));function F9(t,e,n){return n===void 0&&(n="/"),U9(t,e,n)}function U9(t,e,n,r){let s=typeof e=="string"?id(e):e,i=K0(s.pathname||"/",n);if(i==null)return null;let a=mk(t);B9(a);let c=null;for(let d=0;c==null&&d<a.length;++d){let h=Z9(i);c=Q9(a[d],h)}return c}function mk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};d.relativePath.startsWith("/")&&(an(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=Sa([r,d.relativePath]),m=n.concat(d);i.children&&i.children.length>0&&(an(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),mk(i.children,e,m,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:K9(h,i.index),routesMeta:m})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let d of pk(i.path))s(i,a,d)}),e}function pk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=pk(r.join("/")),c=[];return c.push(...a.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...a),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function B9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Y9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const z9=/^:[\w-]+$/,$9=3,W9=2,q9=1,H9=10,G9=-2,gC=t=>t==="*";function K9(t,e){let n=t.split("/"),r=n.length;return n.some(gC)&&(r+=G9),e&&(r+=W9),n.filter(s=>!gC(s)).reduce((s,i)=>s+(z9.test(i)?$9:i===""?q9:H9),r)}function Y9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Q9(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",g=X9({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!g)return null;Object.assign(s,g.params),a.push({params:s,pathname:Sa([i,g.pathname]),pathnameBase:rB(Sa([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Sa([i,g.pathnameBase]))}return a}function X9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=J9(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,m,g)=>{let{paramName:v,isOptional:_}=m;if(v==="*"){let T=c[g]||"";a=i.slice(0,i.length-T.length).replace(/(.)\/+$/,"$1")}const C=c[g];return _&&!C?h[v]=void 0:h[v]=(C||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:a,pattern:t}}function J9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fk(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Z9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fk(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function K0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function eB(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?id(t):t;return{pathname:n?n.startsWith("/")?n:tB(n,e):e,search:sB(r),hash:iB(s)}}function tB(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nB(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Y0(t,e){let n=nB(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Q0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=id(t):(s=Qh({},t),an(!s.pathname||!s.pathname.includes("?"),Jx("?","pathname","search",s)),an(!s.pathname||!s.pathname.includes("#"),Jx("#","pathname","hash",s)),an(!s.search||!s.search.includes("#"),Jx("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let g=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}c=g>=0?e[g]:"/"}let d=eB(s,c),h=a&&a!=="/"&&a.endsWith("/"),m=(i||a===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const Sa=t=>t.join("/").replace(/\/\/+/g,"/"),rB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oB(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gk=["post","put","patch","delete"];new Set(gk);const aB=["get",...gk];new Set(aB);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}const X0=w.createContext(null),lB=w.createContext(null),Ha=w.createContext(null),py=w.createContext(null),jo=w.createContext({outlet:null,matches:[],isDataRoute:!1}),yk=w.createContext(null);function cB(t,e){let{relative:n}=e===void 0?{}:e;od()||an(!1);let{basename:r,navigator:s}=w.useContext(Ha),{hash:i,pathname:a,search:c}=xk(t,{relative:n}),d=a;return r!=="/"&&(d=a==="/"?r:Sa([r,a])),s.createHref({pathname:d,search:c,hash:i})}function od(){return w.useContext(py)!=null}function Ga(){return od()||an(!1),w.useContext(py).location}function vk(t){w.useContext(Ha).static||w.useLayoutEffect(t)}function uc(){let{isDataRoute:t}=w.useContext(jo);return t?EB():uB()}function uB(){od()||an(!1);let t=w.useContext(X0),{basename:e,future:n,navigator:r}=w.useContext(Ha),{matches:s}=w.useContext(jo),{pathname:i}=Ga(),a=JSON.stringify(Y0(s,n.v7_relativeSplatPath)),c=w.useRef(!1);return vk(()=>{c.current=!0}),w.useCallback(function(h,m){if(m===void 0&&(m={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=Q0(h,JSON.parse(a),i,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Sa([e,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[e,r,a,i,t])}function J0(){let{matches:t}=w.useContext(jo),e=t[t.length-1];return e?e.params:{}}function xk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Ha),{matches:s}=w.useContext(jo),{pathname:i}=Ga(),a=JSON.stringify(Y0(s,r.v7_relativeSplatPath));return w.useMemo(()=>Q0(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function dB(t,e){return hB(t,e)}function hB(t,e,n,r){od()||an(!1);let{navigator:s}=w.useContext(Ha),{matches:i}=w.useContext(jo),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=Ga(),m;if(e){var g;let S=typeof e=="string"?id(e):e;d==="/"||(g=S.pathname)!=null&&g.startsWith(d)||an(!1),m=S}else m=h;let v=m.pathname||"/",_=v;if(d!=="/"){let S=d.replace(/^\//,"").split("/");_="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=F9(t,{pathname:_}),T=yB(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:Sa([d,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?d:Sa([d,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&T?w.createElement(py.Provider,{value:{location:Xh({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ea.Pop}},T):T}function fB(){let t=wB(),e=oB(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:s},n):null,null)}const mB=w.createElement(fB,null);class pB extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(jo.Provider,{value:this.props.routeContext},w.createElement(yk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gB(t){let{routeContext:e,match:n,children:r}=t,s=w.useContext(X0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(jo.Provider,{value:e},r)}function yB(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let m=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);m>=0||an(!1),a=a.slice(0,Math.min(a.length,m+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:v,errors:_}=n,C=g.route.loader&&v[g.route.id]===void 0&&(!_||_[g.route.id]===void 0);if(g.route.lazy||C){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((m,g,v)=>{let _,C=!1,T=null,S=null;n&&(_=c&&g.route.id?c[g.route.id]:void 0,T=g.route.errorElement||mB,d&&(h<0&&v===0?(bB("route-fallback"),C=!0,S=null):h===v&&(C=!0,S=g.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,v+1)),k=()=>{let N;return _?N=T:C?N=S:g.route.Component?N=w.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=m,w.createElement(gB,{match:g,routeContext:{outlet:m,matches:A,isDataRoute:n!=null},children:N})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?w.createElement(pB,{location:n.location,revalidation:n.revalidation,component:T,error:_,children:k(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):k()},null)}var _k=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(_k||{}),wk=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(wk||{});function vB(t){let e=w.useContext(X0);return e||an(!1),e}function xB(t){let e=w.useContext(lB);return e||an(!1),e}function _B(t){let e=w.useContext(jo);return e||an(!1),e}function Ek(t){let e=_B(),n=e.matches[e.matches.length-1];return n.route.id||an(!1),n.route.id}function wB(){var t;let e=w.useContext(yk),n=xB(),r=Ek();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EB(){let{router:t}=vB(_k.UseNavigateStable),e=Ek(wk.UseNavigateStable),n=w.useRef(!1);return vk(()=>{n.current=!0}),w.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xh({fromRouteId:e},i)))},[t,e])}const yC={};function bB(t,e,n){yC[t]||(yC[t]=!0)}function TB(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bk(t){let{to:e,replace:n,state:r,relative:s}=t;od()||an(!1);let{future:i,static:a}=w.useContext(Ha),{matches:c}=w.useContext(jo),{pathname:d}=Ga(),h=uc(),m=Q0(e,Y0(c,i.v7_relativeSplatPath),d,s==="path"),g=JSON.stringify(m);return w.useEffect(()=>h(JSON.parse(g),{replace:n,state:r,relative:s}),[h,g,s,n,r]),null}function Bt(t){an(!1)}function SB(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ea.Pop,navigator:i,static:a=!1,future:c}=t;od()&&an(!1);let d=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:i,static:a,future:Xh({v7_relativeSplatPath:!1},c)}),[d,c,i,a]);typeof r=="string"&&(r=id(r));let{pathname:m="/",search:g="",hash:v="",state:_=null,key:C="default"}=r,T=w.useMemo(()=>{let S=K0(m,d);return S==null?null:{location:{pathname:S,search:g,hash:v,state:_,key:C},navigationType:s}},[d,m,g,v,_,C,s]);return T==null?null:w.createElement(Ha.Provider,{value:h},w.createElement(py.Provider,{children:n,value:T}))}function CB(t){let{children:e,location:n}=t;return dB(ow(e),n)}new Promise(()=>{});function ow(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,s)=>{if(!w.isValidElement(r))return;let i=[...e,s];if(r.type===w.Fragment){n.push.apply(n,ow(r.props.children,i));return}r.type!==Bt&&an(!1),!r.props.index||!r.props.children||an(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ow(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aw(){return aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aw.apply(this,arguments)}function IB(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function NB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PB(t,e){return t.button===0&&(!e||e==="_self")&&!NB(t)}const AB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RB="6";try{window.__reactRouterVersion=RB}catch{}const kB="startTransition",vC=N0[kB];function jB(t){let{basename:e,children:n,future:r,window:s}=t,i=w.useRef();i.current==null&&(i.current=O9({window:s,v5Compat:!0}));let a=i.current,[c,d]=w.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},m=w.useCallback(g=>{h&&vC?vC(()=>d(g)):d(g)},[d,h]);return w.useLayoutEffect(()=>a.listen(m),[a,m]),w.useEffect(()=>TB(r),[r]),w.createElement(SB,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const DB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=w.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:d,to:h,preventScrollReset:m,viewTransition:g}=e,v=IB(e,AB),{basename:_}=w.useContext(Ha),C,T=!1;if(typeof h=="string"&&MB.test(h)&&(C=h,DB))try{let N=new URL(window.location.href),L=h.startsWith("//")?new URL(N.protocol+h):new URL(h),z=K0(L.pathname,_);L.origin===N.origin&&z!=null?h=z+L.search+L.hash:T=!0}catch{}let S=cB(h,{relative:s}),A=OB(h,{replace:a,state:c,target:d,preventScrollReset:m,relative:s,viewTransition:g});function k(N){r&&r(N),N.defaultPrevented||A(N)}return w.createElement("a",aw({},v,{href:C||S,onClick:T||i?r:k,ref:n,target:d}))});var xC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xC||(xC={}));var _C;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_C||(_C={}));function OB(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,d=uc(),h=Ga(),m=xk(t,{relative:a});return w.useCallback(g=>{if(PB(g,n)){g.preventDefault();let v=r!==void 0?r:ig(h)===ig(m);d(t,{replace:v,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[h,d,m,r,s,n,t,i,a,c])}const LB=()=>{};var wC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=function(t,e){if(!t)throw ad(e)},ad=function(t){return new Error("Firebase Database ("+Tk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},VB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],d=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,d=s+2<t.length,h=d?t[s+2]:0,m=i>>2,g=(i&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;d||(_=64,a||(v=64)),r.push(n[m],n[g],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||h==null||g==null)throw new FB;const v=i<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),g!==64){const C=h<<6&192|g;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ck=function(t){const e=Sk(t);return Z0.encodeByteArray(e,!0)},og=function(t){return Ck(t).replace(/\./g,"")},ag=function(t){try{return Z0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UB(t){return Ik(void 0,t)}function Ik(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!BB(n)||(t[n]=Ik(t[n],e[n]));return t}function BB(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=()=>zB().__FIREBASE_DEFAULTS__,WB=()=>{if(typeof process>"u"||typeof wC>"u")return;const t=wC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ag(t[1]);return e&&JSON.parse(e)},gy=()=>{try{return LB()||$B()||WB()||qB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nk=t=>{var e,n;return(n=(e=gy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Pk=t=>{const e=Nk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ak=()=>{var t;return(t=gy())==null?void 0:t.config},Rk=t=>{var e;return(e=gy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[og(JSON.stringify(n)),og(JSON.stringify(a)),""].join(".")}const Ah={};function HB(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ah))Ah[e]?t.emulator.push(e):t.prod.push(e);return t}function GB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let EC=!1;function nE(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||Ah[t]===e||Ah[t]||EC)return;Ah[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",i=HB().prod.length>0;function a(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{EC=!0,a()},v}function m(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=GB(r),_=n("text"),C=document.getElementById(_)||document.createElement("span"),T=n("learnmore"),S=document.getElementById(T)||document.createElement("a"),A=n("preprendIcon"),k=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),m(S,T);const L=h();d(k,A),N.append(k,C,S,L),document.body.appendChild(N)}i?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sr())}function KB(){var e;const t=(e=gy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Dk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QB(){const t=sr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XB(){return Tk.NODE_ADMIN===!0}function JB(){return!KB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ok(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function ZB(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="FirebaseError";class Ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ez,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dc.prototype.create)}}class dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?tz(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new Ys(s,c,r)}}function tz(t,e){return t.replace(nz,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nz=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t){return JSON.parse(t)}function On(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Jh(ag(i[0])||""),n=Jh(ag(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},rz=function(t){const e=Lk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},sz=function(t){const e=Lk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function zu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function lw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lg(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(bC(i)&&bC(a)){if(!Eo(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _h(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function wh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let g=0;g<16;g++)r[g]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let g=0;g<16;g++)r[g]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let g=16;g<80;g++){const v=r[g-3]^r[g-8]^r[g-14]^r[g-16];r[g]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],a=this.chain_[2],c=this.chain_[3],d=this.chain_[4],h,m;for(let g=0;g<80;g++){g<40?g<20?(h=c^i&(a^c),m=1518500249):(h=i^a^c,m=1859775393):g<60?(h=i&a|c&(i|a),m=2400959708):(h=i^a^c,m=3395469782);const v=(s<<5|s>>>27)+h+d+m+r[g]&4294967295;d=c,c=a,a=(i<<30|i>>>2)&4294967295,i=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let a=this.inbuf_;for(;s<n;){if(a===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[a]=e.charCodeAt(s),++a,++s,a===this.blockSize){this.compress_(i),a=0;break}}else for(;s<n;)if(i[a]=e[s],++a,++s,a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function oz(t,e){const n=new az(t,e);return n.subscribe.bind(n)}class az{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lz(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Zx),s.error===void 0&&(s.error=Zx),s.complete===void 0&&(s.complete=Zx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zx(){}function cz(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,ye(r<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(r)-56320;s=65536+(i<<10)+a}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yy=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=1e3,hz=2,fz=14400*1e3,mz=.5;function TC(t,e=dz,n=hz){const r=e*Math.pow(n,t),s=Math.round(mz*r*(Math.random()-.5)*2);return Math.min(fz,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class _s{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yz(e))try{this.getOrInitializeService({instanceIdentifier:Al})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Al){return this.instances.has(e)}getOptions(e=Al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Al){return this.component?this.component.multipleInstances?e:Al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gz(t){return t===Al?void 0:t}function yz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pz(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const xz={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},_z=rt.INFO,wz={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},Ez=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=wz[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cf{constructor(e){this.name=e,this._logLevel=_z,this._logHandler=Ez,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const bz=(t,e)=>e.some(n=>t instanceof n);let SC,CC;function Tz(){return SC||(SC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sz(){return CC||(CC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vk=new WeakMap,cw=new WeakMap,Fk=new WeakMap,e_=new WeakMap,sE=new WeakMap;function Cz(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Ca(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Vk.set(n,t)}).catch(()=>{}),sE.set(e,t),e}function Iz(t){if(cw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});cw.set(t,e)}let uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nz(t){uw=t(uw)}function Pz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(t_(this),e,...n);return Fk.set(r,e.sort?e.sort():[e]),Ca(r)}:Sz().includes(t)?function(...e){return t.apply(t_(this),e),Ca(Vk.get(this))}:function(...e){return Ca(t.apply(t_(this),e))}}function Az(t){return typeof t=="function"?Pz(t):(t instanceof IDBTransaction&&Iz(t),bz(t,Tz())?new Proxy(t,uw):t)}function Ca(t){if(t instanceof IDBRequest)return Cz(t);if(e_.has(t))return e_.get(t);const e=Az(t);return e!==t&&(e_.set(t,e),sE.set(e,t)),e}const t_=t=>sE.get(t);function Uk(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=Ca(a);return r&&a.addEventListener("upgradeneeded",d=>{r(Ca(a.result),d.oldVersion,d.newVersion,Ca(a.transaction),d)}),n&&a.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Rz=["get","getKey","getAll","getAllKeys","count"],kz=["put","add","delete","clear"],n_=new Map;function IC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(n_.get(e))return n_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=kz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Rz.includes(n)))return;const i=async function(a,...c){const d=this.transaction(a,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),s&&d.done]))[0]};return n_.set(e,i),i}Nz(t=>({...t,get:(e,n,r)=>IC(e,n)||t.get(e,n,r),has:(e,n)=>!!IC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dz(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Dz(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dw="@firebase/app",NC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Cf("@firebase/app"),Mz="@firebase/app-compat",Oz="@firebase/analytics-compat",Lz="@firebase/analytics",Vz="@firebase/app-check-compat",Fz="@firebase/app-check",Uz="@firebase/auth",Bz="@firebase/auth-compat",zz="@firebase/database",$z="@firebase/data-connect",Wz="@firebase/database-compat",qz="@firebase/functions",Hz="@firebase/functions-compat",Gz="@firebase/installations",Kz="@firebase/installations-compat",Yz="@firebase/messaging",Qz="@firebase/messaging-compat",Xz="@firebase/performance",Jz="@firebase/performance-compat",Zz="@firebase/remote-config",e8="@firebase/remote-config-compat",t8="@firebase/storage",n8="@firebase/storage-compat",r8="@firebase/firestore",s8="@firebase/ai",i8="@firebase/firestore-compat",o8="firebase",a8="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw="[DEFAULT]",l8={[dw]:"fire-core",[Mz]:"fire-core-compat",[Lz]:"fire-analytics",[Oz]:"fire-analytics-compat",[Fz]:"fire-app-check",[Vz]:"fire-app-check-compat",[Uz]:"fire-auth",[Bz]:"fire-auth-compat",[zz]:"fire-rtdb",[$z]:"fire-data-connect",[Wz]:"fire-rtdb-compat",[qz]:"fire-fn",[Hz]:"fire-fn-compat",[Gz]:"fire-iid",[Kz]:"fire-iid-compat",[Yz]:"fire-fcm",[Qz]:"fire-fcm-compat",[Xz]:"fire-perf",[Jz]:"fire-perf-compat",[Zz]:"fire-rc",[e8]:"fire-rc-compat",[t8]:"fire-gcs",[n8]:"fire-gcs-compat",[r8]:"fire-fst",[i8]:"fire-fst-compat",[s8]:"fire-vertex","fire-js":"fire-js",[o8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Map,c8=new Map,fw=new Map;function PC(t,e){try{t.container.addComponent(e)}catch(n){bo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(fw.has(e))return bo.debug(`There were multiple attempts to register component ${e}.`),!1;fw.set(e,t);for(const n of cg.values())PC(n,t);for(const n of c8.values())PC(n,t);return!0}function Ya(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ia=new dc("app","Firebase",u8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=a8;function Bk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hw,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ia.create("bad-app-name",{appName:String(s)});if(n||(n=Ak()),!n)throw Ia.create("no-options");const i=cg.get(s);if(i){if(Eo(n,i.options)&&Eo(r,i.config))return i;throw Ia.create("duplicate-app",{appName:s})}const a=new vz(s);for(const d of fw.values())a.addComponent(d);const c=new d8(n,r,a);return cg.set(s,c),c}function vy(t=hw){const e=cg.get(t);if(!e&&t===hw&&Ak())return Bk();if(!e)throw Ia.create("no-app",{appName:t});return e}function Pr(t,e,n){let r=l8[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bo.warn(a.join(" "));return}qs(new _s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8="firebase-heartbeat-database",f8=1,Zh="firebase-heartbeat-store";let r_=null;function zk(){return r_||(r_=Uk(h8,f8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ia.create("idb-open",{originalErrorMessage:t.message})})),r_}async function m8(t){try{const n=(await zk()).transaction(Zh),r=await n.objectStore(Zh).get($k(t));return await n.done,r}catch(e){if(e instanceof Ys)bo.warn(e.message);else{const n=Ia.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bo.warn(n.message)}}}async function AC(t,e){try{const r=(await zk()).transaction(Zh,"readwrite");await r.objectStore(Zh).put(e,$k(t)),await r.done}catch(n){if(n instanceof Ys)bo.warn(n.message);else{const r=Ia.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bo.warn(r.message)}}}function $k(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=1024,g8=30;class y8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>g8){const a=_8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RC(),{heartbeatsToSend:r,unsentEntries:s}=v8(this._heartbeatsCache.heartbeats),i=og(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return bo.warn(n),""}}}function RC(){return new Date().toISOString().substring(0,10)}function v8(t,e=p8){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),kC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),kC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class x8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mk()?Ok().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await m8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return AC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kC(t){return og(JSON.stringify({version:2,heartbeats:t})).length}function _8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t){qs(new _s("platform-logger",e=>new jz(e),"PRIVATE")),qs(new _s("heartbeat",e=>new y8(e),"PRIVATE")),Pr(dw,NC,t),Pr(dw,NC,"esm2020"),Pr("fire-js","")}w8("");function Wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E8=Wk,qk=new dc("auth","Firebase",Wk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=new Cf("@firebase/auth");function b8(t,...e){ug.logLevel<=rt.WARN&&ug.warn(`Auth (${hc}): ${t}`,...e)}function Rp(t,...e){ug.logLevel<=rt.ERROR&&ug.error(`Auth (${hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,...e){throw iE(t,...e)}function Ai(t,...e){return iE(t,...e)}function Hk(t,e,n){const r={...E8(),[e]:n};return new dc("auth","Firebase",r).create(e,{appName:t.name})}function yo(t){return Hk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qk.create(t,...e)}function Ue(t,e,...n){if(!t)throw iE(e,...n)}function fo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rp(e),new Error(e)}function To(t,e){t||fo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function T8(){return jC()==="http:"||jC()==="https:"}function jC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T8()||jk()||"connection"in navigator)?navigator.onLine:!0}function C8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,To(n>e,"Short delay should be less than long delay!"),this.isMobile=rE()||Dk()}get(){return S8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){To(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],P8=new If(3e4,6e4);function Qa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Xa(t,e,n,r,s={}){return Kk(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=ld({key:t.config.apiKey,...a}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...i};return YB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(h.credentials="include"),Gk.fetch()(await Yk(t,t.config.apiHost,n,c),h)})}async function Kk(t,e,n){t._canInitEmulator=!1;const r={...I8,...e};try{const s=new R8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw dp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw dp(t,"credential-already-in-use",a);if(d==="EMAIL_EXISTS")throw dp(t,"email-already-in-use",a);if(d==="USER_DISABLED")throw dp(t,"user-disabled",a);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Hk(t,m,h);Hs(t,m)}}catch(s){if(s instanceof Ys)throw s;Hs(t,"network-request-failed",{message:String(s)})}}async function Nf(t,e,n,r,s={}){const i=await Xa(t,e,n,r,s);return"mfaPendingCredential"in i&&Hs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function Yk(t,e,n,r){const s=`${e}${n}?${r}`,i=t,a=i.config.emulator?oE(t.config,s):`${t.config.apiScheme}://${s}`;return N8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function A8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class R8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),P8.get())})}}function dp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Ai(t,e,r);return s.customData._tokenResponse=n,s}function DC(t){return t!==void 0&&t.enterprise!==void 0}class k8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return A8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function j8(t,e){return Xa(t,"GET","/v2/recaptchaConfig",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e){return Xa(t,"POST","/v1/accounts:delete",e)}async function dg(t,e){return Xa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M8(t,e=!1){const n=qt(t),r=await n.getIdToken(e),s=aE(r);Ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rh(s_(s.auth_time)),issuedAtTime:Rh(s_(s.iat)),expirationTime:Rh(s_(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function s_(t){return Number(t)*1e3}function aE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rp("JWT malformed, contained fewer than 3 sections"),null;try{const s=ag(n);return s?JSON.parse(s):(Rp("Failed to decode base64 JWT payload"),null)}catch(s){return Rp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function MC(t){const e=aE(t);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ys&&O8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(t){var g;const e=t.auth,n=await t.getIdToken(),r=await ef(t,dg(e,{idToken:n}));Ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(g=s.providerUserInfo)!=null&&g.length?Qk(s.providerUserInfo):[],a=F8(t.providerData,i),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pw(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,m)}async function V8(t){const e=qt(t);await hg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Qk(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e){const n=await Kk(t,{},async()=>{const r=ld({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=await Yk(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(d.credentials="include"),Gk.fetch()(a,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B8(t,e){return Xa(t,"POST","/v2/accounts:revokeToken",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const n=MC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await U8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new _u;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(Ue(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(Ue(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return fo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t,e){Ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Us{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new L8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ef(this,this.stsTokenManager.getToken(this.auth,e));return Ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M8(this,e)}reload(){return V8(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Us({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(yo(this.auth));const e=await this.getIdToken();return await ef(this,D8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:_,providerData:C,stsTokenManager:T}=n;Ue(g&&T,e,"internal-error");const S=_u.fromJSON(this.name,T);Ue(typeof g=="string",e,"internal-error"),aa(r,e.name),aa(s,e.name),Ue(typeof v=="boolean",e,"internal-error"),Ue(typeof _=="boolean",e,"internal-error"),aa(i,e.name),aa(a,e.name),aa(c,e.name),aa(d,e.name),aa(h,e.name),aa(m,e.name);const A=new Us({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:_,photoURL:a,phoneNumber:i,tenantId:c,stsTokenManager:S,createdAt:h,lastLoginAt:m});return C&&Array.isArray(C)&&(A.providerData=C.map(k=>({...k}))),d&&(A._redirectEventId=d),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new _u;s.updateFromServerResponse(n);const i=new Us({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Qk(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new _u;c.updateFromIdToken(r);const d=new Us({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new Map;function mo(t){To(t instanceof Function,"Expected a class definition");let e=OC.get(t);return e?(To(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xk.type="NONE";const LC=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n){return`firebase:${t}:${e}:${n}`}class wu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=kp(this.userKey,s.apiKey,i),this.fullPersistenceKey=kp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dg(this.auth,{idToken:e}).catch(()=>{});return n?Us._fromGetAccountInfoResponse(this.auth,n,e):null}return Us._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wu(mo(LC),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||mo(LC);const a=kp(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const m=await h._get(a);if(m){let g;if(typeof m=="string"){const v=await dg(e,{idToken:m}).catch(()=>{});if(!v)break;g=await Us._fromGetAccountInfoResponse(e,v,m)}else g=Us._fromJSON(e,m);h!==i&&(c=g),i=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!d.length?new wu(i,e,r):(i=d[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(a)}catch{}})),new wu(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rj(e))return"Blackberry";if(sj(e))return"Webos";if(Zk(e))return"Safari";if((e.includes("chrome/")||ej(e))&&!e.includes("edge/"))return"Chrome";if(nj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jk(t=sr()){return/firefox\//i.test(t)}function Zk(t=sr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ej(t=sr()){return/crios\//i.test(t)}function tj(t=sr()){return/iemobile/i.test(t)}function nj(t=sr()){return/android/i.test(t)}function rj(t=sr()){return/blackberry/i.test(t)}function sj(t=sr()){return/webos/i.test(t)}function lE(t=sr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z8(t=sr()){var e;return lE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $8(){return QB()&&document.documentMode===10}function ij(t=sr()){return lE(t)||nj(t)||sj(t)||rj(t)||/windows phone/i.test(t)||tj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e=[]){let n;switch(t){case"Browser":n=VC(sr());break;case"Worker":n=`${VC(sr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const d=e(i);a(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(t,e={}){return Xa(t,"GET","/v2/passwordPolicy",Qa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=6;class G8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??H8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FC(this),this.idTokenSubscription=new FC(this),this.beforeStateQueue=new W8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mo(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dg(this,{idToken:e}),r=await Us._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(qr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(yo(this));const n=e?qt(e):null;return n&&Ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(yo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(yo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q8(this),n=new G8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mo(e)||this._popupRedirectResolver;Ue(n,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{a=!0,d()}}else{const d=e.addObserver(n);return()=>{a=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&b8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fc(t){return qt(t)}class FC{constructor(e){this.auth=e,this.observer=null,this.addObserver=oz(n=>this.observer=n)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y8(t){xy=t}function aj(t){return xy.loadJS(t)}function Q8(){return xy.recaptchaEnterpriseScript}function X8(){return xy.gapiScript}function J8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Z8{constructor(){this.enterprise=new e$}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class e${ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const t$="recaptcha-enterprise",lj="NO_RECAPTCHA";class n${constructor(e){this.type=t$,this.auth=fc(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{j8(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new k8(d);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,a(h.siteKey)}}).catch(d=>{c(d)})})}function s(i,a,c){const d=window.grecaptcha;DC(d)?d.enterprise.ready(()=>{d.enterprise.execute(i,{action:e}).then(h=>{a(h)}).catch(()=>{a(lj)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z8().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&DC(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Q8();d.length!==0&&(d+=c),aj(d).then(()=>{s(c,i,a)}).catch(h=>{a(h)})}}).catch(c=>{a(c)})})}}async function UC(t,e,n,r=!1,s=!1){const i=new n$(t);let a;if(s)a=lj;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:a}):Object.assign(c,{captchaResponse:a}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function gw(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await UC(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await UC(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r$(t,e){const n=Ya(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Eo(i,e??{}))return s;Hs(s,"already-initialized")}return n.initialize({options:e})}function s$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mo);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function i$(t,e,n){const r=fc(t);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=cj(e),{host:a,port:c}=o$(e),d=c===null?"":`:${c}`,h={url:`${i}//${a}${d}/`},m=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Eo(h,r.config.emulator)&&Eo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Ka(a)?(tE(`${i}//${a}${d}`),nE("Auth",!0)):a$()}function cj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function o$(t){const e=cj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:BC(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:BC(a)}}}function BC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function a$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fo("not implemented")}_getIdTokenResponse(e){return fo("not implemented")}_linkToIdToken(e,n){return fo("not implemented")}_getReauthenticationResolver(e){return fo("not implemented")}}async function l$(t,e){return Xa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e){return Nf(t,"POST","/v1/accounts:signInWithPassword",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}async function d$(t,e){return Nf(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends cE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new tf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new tf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gw(e,n,"signInWithPassword",c$);case"emailLink":return u$(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gw(e,r,"signUpPassword",l$);case"emailLink":return d$(e,{idToken:n,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return Nf(t,"POST","/v1/accounts:signInWithIdp",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$="http://localhost";class Xl extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const a=new Xl(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:h$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ld(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m$(t){const e=_h(wh(t)).link,n=e?_h(wh(e)).deep_link_id:null,r=_h(wh(t)).deep_link_id;return(r?_h(wh(r)).link:null)||r||n||e||t}class uE{constructor(e){const n=_h(wh(e)),r=n.apiKey??null,s=n.oobCode??null,i=f$(n.mode??null);Ue(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m$(e);try{return new uE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this.providerId=cd.PROVIDER_ID}static credential(e,n){return tf._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uE.parseLink(n);return Ue(r,"argument-error"),tf._fromEmailAndCode(e,r.code,r.tenantId)}}cd.PROVIDER_ID="password";cd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends uj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa extends Pf{constructor(){super("facebook.com")}static credential(e){return Xl._fromParams({providerId:fa.PROVIDER_ID,signInMethod:fa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fa.credentialFromTaggedObject(e)}static credentialFromError(e){return fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fa.credential(e.oauthAccessToken)}catch{return null}}}fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xl._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ma.credential(n,r)}catch{return null}}}ma.GOOGLE_SIGN_IN_METHOD="google.com";ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Pf{constructor(){super("github.com")}static credential(e){return Xl._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pa.credential(e.oauthAccessToken)}catch{return null}}}pa.GITHUB_SIGN_IN_METHOD="github.com";pa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Pf{constructor(){super("twitter.com")}static credential(e,n){return Xl._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ga.credential(n,r)}catch{return null}}}ga.TWITTER_SIGN_IN_METHOD="twitter.com";ga.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p$(t,e){return Nf(t,"POST","/v1/accounts:signUp",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Us._fromIdTokenResponse(e,r,s),a=zC(r);return new Jl({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zC(r);return new Jl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends Ys{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fg(e,n,r,s)}}function dj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(t,i,e,r):i})}async function g$(t,e,n=!1){const r=await ef(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(yo(r));const s="reauthenticate";try{const i=await ef(t,dj(r,s,e,t),n);Ue(i.idToken,r,"internal-error");const a=aE(i.idToken);Ue(a,r,"internal-error");const{sub:c}=a;return Ue(t.uid===c,r,"user-mismatch"),Jl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Hs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hj(t,e,n=!1){if(qr(t.app))return Promise.reject(yo(t));const r="signIn",s=await dj(t,r,e),i=await Jl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function v$(t,e){return hj(fc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(t){const e=fc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x$(t,e,n){if(qr(t.app))return Promise.reject(yo(t));const r=fc(t),a=await gw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p$).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&fj(t),d}),c=await Jl._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function _$(t,e,n){return qr(t.app)?Promise.reject(yo(t)):v$(qt(t),cd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fj(t),r})}function w$(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function E$(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function b$(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}function T$(t){return qt(t).signOut()}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=1e3,C$=10;class pj extends mj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ij(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,d)=>{this.notifyListeners(a,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);$8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,C$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}pj.type="LOCAL";const I$=pj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj extends mj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gj.type="SESSION";const yj=gj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _y(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async h=>h(n.origin,i)),d=await N$(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_y.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,d)=>{const h=dE("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(m),i=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(v.data.response);break;default:clearTimeout(m),clearTimeout(i),d(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function A$(t){Ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function R$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function j$(){return vj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="firebaseLocalStorageDb",D$=1,pg="firebaseLocalStorage",_j="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wy(t,e){return t.transaction([pg],e?"readwrite":"readonly").objectStore(pg)}function M$(){const t=indexedDB.deleteDatabase(xj);return new Af(t).toPromise()}function yw(){const t=indexedDB.open(xj,D$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pg,{keyPath:_j})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pg)?e(r):(r.close(),await M$(),e(await yw()))})})}async function $C(t,e,n){const r=wy(t,!0).put({[_j]:e,value:n});return new Af(r).toPromise()}async function O$(t,e){const n=wy(t,!1).get(e),r=await new Af(n).toPromise();return r===void 0?null:r.value}function WC(t,e){const n=wy(t,!0).delete(e);return new Af(n).toPromise()}const L$=800,V$=3;class wj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_y._getInstance(j$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await R$(),!this.activeServiceWorker)return;this.sender=new P$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yw();return await $C(e,mg,"1"),await WC(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$C(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=wy(s,!1).getAll();return new Af(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wj.type="LOCAL";const F$=wj;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(t,e){return e?mo(e):(Ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends cE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function B$(t){return hj(t.auth,new hE(t),t.bypassAuthState)}function z$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),y$(n,new hE(t),t.bypassAuthState)}async function $$(t){const{auth:e,user:n}=t;return Ue(n,e,"internal-error"),g$(n,new hE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B$;case"linkViaPopup":case"linkViaRedirect":return $$;case"reauthViaPopup":case"reauthViaRedirect":return z$;default:Hs(this.auth,"internal-error")}}resolve(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$=new If(2e3,1e4);class uu extends Ej{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,uu.currentPopupAction&&uu.currentPopupAction.cancel(),uu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){To(this.filter.length===1,"Popup operations only handle one event");const e=dE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,W$.get())};e()}}uu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="pendingRedirect",jp=new Map;class H$ extends Ej{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jp.get(this.auth._key());if(!e){try{const r=await G$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jp.set(this.auth._key(),e)}return this.bypassAuthState||jp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G$(t,e){const n=Q$(e),r=Y$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function K$(t,e){jp.set(t._key(),e)}function Y$(t){return mo(t._redirectPersistence)}function Q$(t){return kp(q$,t.config.apiKey,t.name)}async function X$(t,e,n=!1){if(qr(t.app))return Promise.reject(yo(t));const r=fc(t),s=U$(r,e),a=await new H$(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=600*1e3;class Z${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bj(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J$&&this.cachedEventUids.clear(),this.cachedEventUids.has(qC(e))}saveEventToCache(e){this.cachedEventUids.add(qC(e)),this.lastProcessedEventTime=Date.now()}}function qC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tW(t,e={}){return Xa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rW=/^https?/;async function sW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tW(t);for(const n of e)try{if(iW(n))return}catch{}Hs(t,"unauthorized-domain")}function iW(t){const e=mw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!rW.test(n))return!1;if(nW.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new If(3e4,6e4);function HC(){const t=Ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aW(t){return new Promise((e,n)=>{var s,i,a;function r(){HC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HC(),n(Ai(t,"network-request-failed"))},timeout:oW.get()})}if((i=(s=Ri().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Ri().gapi)!=null&&a.load)r();else{const c=J8("iframefcb");return Ri()[c]=()=>{gapi.load?r():n(Ai(t,"network-request-failed"))},aj(`${X8()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Dp=null,e})}let Dp=null;function lW(t){return Dp=Dp||aW(t),Dp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cW=new If(5e3,15e3),uW="__/auth/iframe",dW="emulator/auth/iframe",hW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mW(t){const e=t.config;Ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oE(e,dW):`https://${t.config.authDomain}/${uW}`,r={apiKey:e.apiKey,appName:t.name,v:hc},s=fW.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ld(r).slice(1)}`}async function pW(t){const e=await lW(t),n=Ri().gapi;return Ue(n,t,"internal-error"),e.open({where:document.body,url:mW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hW,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=Ai(t,"network-request-failed"),c=Ri().setTimeout(()=>{i(a)},cW.get());function d(){Ri().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yW=500,vW=600,xW="_blank",_W="http://localhost";class GC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wW(t,e,n,r=yW,s=vW){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...gW,width:r.toString(),height:s.toString(),top:i,left:a},h=sr().toLowerCase();n&&(c=ej(h)?xW:n),Jk(h)&&(e=e||_W,d.scrollbars="yes");const m=Object.entries(d).reduce((v,[_,C])=>`${v}${_}=${C},`,"");if(z8(h)&&c!=="_self")return EW(e||"",c),new GC(null);const g=window.open(e||"",c,m);Ue(g,t,"popup-blocked");try{g.focus()}catch{}return new GC(g)}function EW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW="__/auth/handler",TW="emulator/auth/handler",SW=encodeURIComponent("fac");async function KC(t,e,n,r,s,i){Ue(t.config.authDomain,t,"auth-domain-config-required"),Ue(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:hc,eventId:s};if(e instanceof uj){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",lw(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))a[m]=g}if(e instanceof Pf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(a.scopes=m.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await t._getAppCheckToken(),h=d?`#${SW}=${encodeURIComponent(d)}`:"";return`${CW(t)}?${ld(c).slice(1)}${h}`}function CW({config:t}){return t.emulator?oE(t,TW):`https://${t.authDomain}/${bW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="webStorageSupport";class IW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yj,this._completeRedirectFn=X$,this._overrideRedirectResult=K$}async _openPopup(e,n,r,s){var a;To((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await KC(e,n,r,mw(),s);return wW(e,i,dE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await KC(e,n,r,mw(),s);return A$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(To(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pW(e),r=new Z$(e);return n.register("authEvent",s=>(Ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(i_,{type:i_},s=>{var a;const i=(a=s==null?void 0:s[0])==null?void 0:a[i_];i!==void 0&&n(!!i),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ij()||Zk()||lE()}}const NW=IW;var YC="@firebase/auth",QC="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RW(t){qs(new _s("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;Ue(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oj(t)},h=new K8(r,s,i,d);return s$(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new _s("auth-internal",e=>{const n=fc(e.getProvider("auth").getImmediate());return(r=>new PW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pr(YC,QC,AW(t)),Pr(YC,QC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW=300,jW=Rk("authIdTokenMaxAge")||kW;let XC=null;const DW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jW)return;const s=n==null?void 0:n.token;XC!==s&&(XC=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MW(t=vy()){const e=Ya(t,"auth");if(e.isInitialized())return e.getImmediate();const n=r$(t,{popupRedirectResolver:NW,persistence:[F$,I$,yj]}),r=Rk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=DW(i.toString());E$(n,a,()=>a(n.currentUser)),w$(n,c=>a(c))}}const s=Nk("auth");return s&&i$(n,`http://${s}`),n}function OW(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Ai("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",OW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RW("Browser");var LW="firebase",VW="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr(LW,VW,"app");const Tj="@firebase/installations",fE="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e4,Cj=`w:${fE}`,Ij="FIS_v2",FW="https://firebaseinstallations.googleapis.com/v1",UW=3600*1e3,BW="installations",zW="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zl=new dc(BW,zW,$W);function Nj(t){return t instanceof Ys&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj({projectId:t}){return`${FW}/projects/${t}/installations`}function Aj(t){return{token:t.token,requestStatus:2,expiresIn:qW(t.expiresIn),creationTime:Date.now()}}async function Rj(t,e){const r=(await e.json()).error;return Zl.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kj({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function WW(t,{refreshToken:e}){const n=kj(t);return n.append("Authorization",HW(e)),n}async function jj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function qW(t){return Number(t.replace("s","000"))}function HW(t){return`${Ij} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Pj(t),s=kj(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={fid:n,authVersion:Ij,appId:t.appId,sdkVersion:Cj},c={method:"POST",headers:s,body:JSON.stringify(a)},d=await jj(()=>fetch(r,c));if(d.ok){const h=await d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:Aj(h.authToken)}}else throw await Rj("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=/^[cdef][\w-]{21}$/,vw="";function QW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=XW(t);return YW.test(n)?n:vw}catch{return vw}}function XW(t){return KW(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=new Map;function Oj(t,e){const n=Ey(t);Lj(n,e),JW(n,e)}function Lj(t,e){const n=Mj.get(t);if(n)for(const r of n)r(e)}function JW(t,e){const n=ZW();n&&n.postMessage({key:t,fid:e}),eq()}let Dl=null;function ZW(){return!Dl&&"BroadcastChannel"in self&&(Dl=new BroadcastChannel("[Firebase] FID Change"),Dl.onmessage=t=>{Lj(t.data.key,t.data.fid)}),Dl}function eq(){Mj.size===0&&Dl&&(Dl.close(),Dl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="firebase-installations-database",nq=1,ec="firebase-installations-store";let o_=null;function mE(){return o_||(o_=Uk(tq,nq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ec)}}})),o_}async function gg(t,e){const n=Ey(t),s=(await mE()).transaction(ec,"readwrite"),i=s.objectStore(ec),a=await i.get(n);return await i.put(e,n),await s.done,(!a||a.fid!==e.fid)&&Oj(t,e.fid),e}async function Vj(t){const e=Ey(t),r=(await mE()).transaction(ec,"readwrite");await r.objectStore(ec).delete(e),await r.done}async function by(t,e){const n=Ey(t),s=(await mE()).transaction(ec,"readwrite"),i=s.objectStore(ec),a=await i.get(n),c=e(a);return c===void 0?await i.delete(n):await i.put(c,n),await s.done,c&&(!a||a.fid!==c.fid)&&Oj(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(t){let e;const n=await by(t.appConfig,r=>{const s=rq(r),i=sq(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===vw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function rq(t){const e=t||{fid:QW(),registrationStatus:0};return Fj(e)}function sq(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Zl.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=iq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oq(t)}:{installationEntry:e}}async function iq(t,e){try{const n=await GW(t,e);return gg(t.appConfig,n)}catch(n){throw Nj(n)&&n.customData.serverCode===409?await Vj(t.appConfig):await gg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oq(t){let e=await JC(t.appConfig);for(;e.registrationStatus===1;)await Dj(100),e=await JC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await pE(t);return r||n}return e}function JC(t){return by(t,e=>{if(!e)throw Zl.create("installation-not-found");return Fj(e)})}function Fj(t){return aq(t)?{fid:t.fid,registrationStatus:0}:t}function aq(t){return t.registrationStatus===1&&t.registrationTime+Sj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lq({appConfig:t,heartbeatServiceProvider:e},n){const r=cq(t,n),s=WW(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const a={installation:{sdkVersion:Cj,appId:t.appId}},c={method:"POST",headers:s,body:JSON.stringify(a)},d=await jj(()=>fetch(r,c));if(d.ok){const h=await d.json();return Aj(h)}else throw await Rj("Generate Auth Token",d)}function cq(t,{fid:e}){return`${Pj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(t,e=!1){let n;const r=await by(t.appConfig,i=>{if(!Uj(i))throw Zl.create("not-registered");const a=i.authToken;if(!e&&hq(a))return i;if(a.requestStatus===1)return n=uq(t,e),i;{if(!navigator.onLine)throw Zl.create("app-offline");const c=mq(i);return n=dq(t,c),c}});return n?await n:r.authToken}async function uq(t,e){let n=await ZC(t.appConfig);for(;n.authToken.requestStatus===1;)await Dj(100),n=await ZC(t.appConfig);const r=n.authToken;return r.requestStatus===0?gE(t,e):r}function ZC(t){return by(t,e=>{if(!Uj(e))throw Zl.create("not-registered");const n=e.authToken;return pq(n)?{...e,authToken:{requestStatus:0}}:e})}async function dq(t,e){try{const n=await lq(t,e),r={...e,authToken:n};return await gg(t.appConfig,r),n}catch(n){if(Nj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Vj(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await gg(t.appConfig,r)}throw n}}function Uj(t){return t!==void 0&&t.registrationStatus===2}function hq(t){return t.requestStatus===2&&!fq(t)}function fq(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+UW}function mq(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function pq(t){return t.requestStatus===1&&t.requestTime+Sj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq(t){const e=t,{installationEntry:n,registrationPromise:r}=await pE(e);return r?r.catch(console.error):gE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yq(t,e=!1){const n=t;return await vq(n),(await gE(n,e)).token}async function vq(t){const{registrationPromise:e}=await pE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t){if(!t||!t.options)throw a_("App Configuration");if(!t.name)throw a_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw a_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function a_(t){return Zl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="installations",_q="installations-internal",wq=t=>{const e=t.getProvider("app").getImmediate(),n=xq(e),r=Ya(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Eq=t=>{const e=t.getProvider("app").getImmediate(),n=Ya(e,Bj).getImmediate();return{getId:()=>gq(n),getToken:s=>yq(n,s)}};function bq(){qs(new _s(Bj,wq,"PUBLIC")),qs(new _s(_q,Eq,"PRIVATE"))}bq();Pr(Tj,fE);Pr(Tj,fE,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="analytics",Tq="firebase_id",Sq="origin",Cq=60*1e3,Iq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yE="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Cf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qr=new dc("analytics","Analytics",Nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){if(!t.startsWith(yE)){const e=Qr.create("invalid-gtag-resource",{gtagURL:t});return fr.warn(e.message),""}return t}function zj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Aq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Rq(t,e){const n=Aq("firebase-js-sdk-policy",{createScriptURL:Pq}),r=document.createElement("script"),s=`${yE}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function kq(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jq(t,e,n,r,s,i){const a=r[s];try{if(a)await e[a];else{const d=(await zj(n)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(c){fr.error(c)}t("config",s,i)}async function Dq(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let a=s.send_to;Array.isArray(a)||(a=[a]);const c=await zj(n);for(const d of a){const h=c.find(g=>g.measurementId===d),m=h&&e[h.appId];if(m)i.push(m);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){fr.error(i)}}function Mq(t,e,n,r){async function s(i,...a){try{if(i==="event"){const[c,d]=a;await Dq(t,e,n,c,d)}else if(i==="config"){const[c,d]=a;await jq(t,e,n,r,c,d)}else if(i==="consent"){const[c,d]=a;t("consent",c,d)}else if(i==="get"){const[c,d,h]=a;t("get",c,d,h)}else if(i==="set"){const[c]=a;t("set",c)}else t(i,...a)}catch(c){fr.error(c)}}return s}function Oq(t,e,n,r,s){let i=function(...a){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=Mq(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function Lq(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yE)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=30,Fq=1e3;class Uq{constructor(e={},n=Fq){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const $j=new Uq;function Bq(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zq(t){var a;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Bq(n)},s=Iq.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let c="";try{const d=await i.json();(a=d.error)!=null&&a.message&&(c=d.error.message)}catch{}throw Qr.create("config-fetch-failed",{httpStatus:i.status,responseMessage:c})}return i.json()}async function $q(t,e=$j,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Qr.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Qr.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Hq;return setTimeout(async()=>{c.abort()},Cq),Wj({appId:r,apiKey:s,measurementId:i},a,c,e)}async function Wj(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=$j){var c;const{appId:i,measurementId:a}=t;try{await Wq(r,e)}catch(d){if(a)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:a};throw d}try{const d=await zq(t);return s.deleteThrottleMetadata(i),d}catch(d){const h=d;if(!qq(h)){if(s.deleteThrottleMetadata(i),a)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:a};throw d}const m=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?TC(n,s.intervalMillis,Vq):TC(n,s.intervalMillis),g={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return s.setThrottleMetadata(i,g),fr.debug(`Calling attemptFetch again in ${m} millis`),Wj(t,g,r,s)}}function Wq(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function qq(t){if(!(t instanceof Ys)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Hq{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Gq(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,a={...r,send_to:i};t("event",n,a)}}async function Kq(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yq(){if(Mk())try{await Ok()}catch(t){return fr.warn(Qr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return fr.warn(Qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Qq(t,e,n,r,s,i,a){const c=$q(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>fr.error(v)),e.push(c);const d=Yq().then(v=>{if(v)return r.getId()}),[h,m]=await Promise.all([c,d]);Lq(i)||Rq(i,h.measurementId),s("js",new Date);const g=(a==null?void 0:a.config)??{};return g[Sq]="firebase",g.update=!0,m!=null&&(g[Tq]=m),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.app=e}_delete(){return delete bu[this.app.options.appId],Promise.resolve()}}let bu={},eI=[];const tI={};let l_="dataLayer",Jq="gtag",nI,vE,rI=!1;function Zq(){const t=[];if(jk()&&t.push("This is a browser extension environment."),ZB()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Qr.create("invalid-analytics-context",{errorInfo:e});fr.warn(n.message)}}function e7(t,e,n){Zq();const r=t.options.appId;if(!r)throw Qr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qr.create("no-api-key");if(bu[r]!=null)throw Qr.create("already-exists",{id:r});if(!rI){kq(l_);const{wrappedGtag:i,gtagCore:a}=Oq(bu,eI,tI,l_,Jq);vE=i,nI=a,rI=!0}return bu[r]=Qq(t,eI,tI,e,nI,l_,n),new Xq(t)}function t7(t=vy()){t=qt(t);const e=Ya(t,yg);return e.isInitialized()?e.getImmediate():n7(t)}function n7(t,e={}){const n=Ya(t,yg);if(n.isInitialized()){const s=n.getImmediate();if(Eo(e,n.getOptions()))return s;throw Qr.create("already-initialized")}return n.initialize({options:e})}function r7(t,e,n){t=qt(t),Kq(vE,bu[t.app.options.appId],e,n).catch(r=>fr.error(r))}function s7(t,e,n,r){t=qt(t),Gq(vE,bu[t.app.options.appId],e,n,r).catch(s=>fr.error(s))}const sI="@firebase/analytics",iI="0.10.19";function i7(){qs(new _s(yg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return e7(r,s,n)},"PUBLIC")),qs(new _s("analytics-internal",t,"PRIVATE")),Pr(sI,iI),Pr(sI,iI,"esm2020");function t(e){try{const n=e.getProvider(yg).getImmediate();return{logEvent:(r,s,i)=>s7(n,r,s,i),setUserProperties:(r,s)=>r7(n,r,s)}}catch(n){throw Qr.create("interop-component-reg-failed",{reason:n})}}}i7();var oI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Na,qj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,R){function M(){}M.prototype=R.prototype,j.F=R.prototype,j.prototype=new M,j.prototype.constructor=j,j.D=function(F,V,U){for(var O=Array(arguments.length-2),re=2;re<arguments.length;re++)O[re-2]=arguments[re];return R.prototype[V].apply(F,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,R,M){M||(M=0);const F=Array(16);if(typeof R=="string")for(var V=0;V<16;++V)F[V]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(V=0;V<16;++V)F[V]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=j.g[0],M=j.g[1],V=j.g[2];let U=j.g[3],O;O=R+(U^M&(V^U))+F[0]+3614090360&4294967295,R=M+(O<<7&4294967295|O>>>25),O=U+(V^R&(M^V))+F[1]+3905402710&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(M^U&(R^M))+F[2]+606105819&4294967295,V=U+(O<<17&4294967295|O>>>15),O=M+(R^V&(U^R))+F[3]+3250441966&4294967295,M=V+(O<<22&4294967295|O>>>10),O=R+(U^M&(V^U))+F[4]+4118548399&4294967295,R=M+(O<<7&4294967295|O>>>25),O=U+(V^R&(M^V))+F[5]+1200080426&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(M^U&(R^M))+F[6]+2821735955&4294967295,V=U+(O<<17&4294967295|O>>>15),O=M+(R^V&(U^R))+F[7]+4249261313&4294967295,M=V+(O<<22&4294967295|O>>>10),O=R+(U^M&(V^U))+F[8]+1770035416&4294967295,R=M+(O<<7&4294967295|O>>>25),O=U+(V^R&(M^V))+F[9]+2336552879&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(M^U&(R^M))+F[10]+4294925233&4294967295,V=U+(O<<17&4294967295|O>>>15),O=M+(R^V&(U^R))+F[11]+2304563134&4294967295,M=V+(O<<22&4294967295|O>>>10),O=R+(U^M&(V^U))+F[12]+1804603682&4294967295,R=M+(O<<7&4294967295|O>>>25),O=U+(V^R&(M^V))+F[13]+4254626195&4294967295,U=R+(O<<12&4294967295|O>>>20),O=V+(M^U&(R^M))+F[14]+2792965006&4294967295,V=U+(O<<17&4294967295|O>>>15),O=M+(R^V&(U^R))+F[15]+1236535329&4294967295,M=V+(O<<22&4294967295|O>>>10),O=R+(V^U&(M^V))+F[1]+4129170786&4294967295,R=M+(O<<5&4294967295|O>>>27),O=U+(M^V&(R^M))+F[6]+3225465664&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^M&(U^R))+F[11]+643717713&4294967295,V=U+(O<<14&4294967295|O>>>18),O=M+(U^R&(V^U))+F[0]+3921069994&4294967295,M=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(M^V))+F[5]+3593408605&4294967295,R=M+(O<<5&4294967295|O>>>27),O=U+(M^V&(R^M))+F[10]+38016083&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^M&(U^R))+F[15]+3634488961&4294967295,V=U+(O<<14&4294967295|O>>>18),O=M+(U^R&(V^U))+F[4]+3889429448&4294967295,M=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(M^V))+F[9]+568446438&4294967295,R=M+(O<<5&4294967295|O>>>27),O=U+(M^V&(R^M))+F[14]+3275163606&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^M&(U^R))+F[3]+4107603335&4294967295,V=U+(O<<14&4294967295|O>>>18),O=M+(U^R&(V^U))+F[8]+1163531501&4294967295,M=V+(O<<20&4294967295|O>>>12),O=R+(V^U&(M^V))+F[13]+2850285829&4294967295,R=M+(O<<5&4294967295|O>>>27),O=U+(M^V&(R^M))+F[2]+4243563512&4294967295,U=R+(O<<9&4294967295|O>>>23),O=V+(R^M&(U^R))+F[7]+1735328473&4294967295,V=U+(O<<14&4294967295|O>>>18),O=M+(U^R&(V^U))+F[12]+2368359562&4294967295,M=V+(O<<20&4294967295|O>>>12),O=R+(M^V^U)+F[5]+4294588738&4294967295,R=M+(O<<4&4294967295|O>>>28),O=U+(R^M^V)+F[8]+2272392833&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^M)+F[11]+1839030562&4294967295,V=U+(O<<16&4294967295|O>>>16),O=M+(V^U^R)+F[14]+4259657740&4294967295,M=V+(O<<23&4294967295|O>>>9),O=R+(M^V^U)+F[1]+2763975236&4294967295,R=M+(O<<4&4294967295|O>>>28),O=U+(R^M^V)+F[4]+1272893353&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^M)+F[7]+4139469664&4294967295,V=U+(O<<16&4294967295|O>>>16),O=M+(V^U^R)+F[10]+3200236656&4294967295,M=V+(O<<23&4294967295|O>>>9),O=R+(M^V^U)+F[13]+681279174&4294967295,R=M+(O<<4&4294967295|O>>>28),O=U+(R^M^V)+F[0]+3936430074&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^M)+F[3]+3572445317&4294967295,V=U+(O<<16&4294967295|O>>>16),O=M+(V^U^R)+F[6]+76029189&4294967295,M=V+(O<<23&4294967295|O>>>9),O=R+(M^V^U)+F[9]+3654602809&4294967295,R=M+(O<<4&4294967295|O>>>28),O=U+(R^M^V)+F[12]+3873151461&4294967295,U=R+(O<<11&4294967295|O>>>21),O=V+(U^R^M)+F[15]+530742520&4294967295,V=U+(O<<16&4294967295|O>>>16),O=M+(V^U^R)+F[2]+3299628645&4294967295,M=V+(O<<23&4294967295|O>>>9),O=R+(V^(M|~U))+F[0]+4096336452&4294967295,R=M+(O<<6&4294967295|O>>>26),O=U+(M^(R|~V))+F[7]+1126891415&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~M))+F[14]+2878612391&4294967295,V=U+(O<<15&4294967295|O>>>17),O=M+(U^(V|~R))+F[5]+4237533241&4294967295,M=V+(O<<21&4294967295|O>>>11),O=R+(V^(M|~U))+F[12]+1700485571&4294967295,R=M+(O<<6&4294967295|O>>>26),O=U+(M^(R|~V))+F[3]+2399980690&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~M))+F[10]+4293915773&4294967295,V=U+(O<<15&4294967295|O>>>17),O=M+(U^(V|~R))+F[1]+2240044497&4294967295,M=V+(O<<21&4294967295|O>>>11),O=R+(V^(M|~U))+F[8]+1873313359&4294967295,R=M+(O<<6&4294967295|O>>>26),O=U+(M^(R|~V))+F[15]+4264355552&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~M))+F[6]+2734768916&4294967295,V=U+(O<<15&4294967295|O>>>17),O=M+(U^(V|~R))+F[13]+1309151649&4294967295,M=V+(O<<21&4294967295|O>>>11),O=R+(V^(M|~U))+F[4]+4149444226&4294967295,R=M+(O<<6&4294967295|O>>>26),O=U+(M^(R|~V))+F[11]+3174756917&4294967295,U=R+(O<<10&4294967295|O>>>22),O=V+(R^(U|~M))+F[2]+718787259&4294967295,V=U+(O<<15&4294967295|O>>>17),O=M+(U^(V|~R))+F[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,j.g[2]=j.g[2]+V&4294967295,j.g[3]=j.g[3]+U&4294967295}r.prototype.v=function(j,R){R===void 0&&(R=j.length);const M=R-this.blockSize,F=this.C;let V=this.h,U=0;for(;U<R;){if(V==0)for(;U<=M;)s(this,j,U),U+=this.blockSize;if(typeof j=="string"){for(;U<R;)if(F[V++]=j.charCodeAt(U++),V==this.blockSize){s(this,F),V=0;break}}else for(;U<R;)if(F[V++]=j[U++],V==this.blockSize){s(this,F),V=0;break}}this.h=V,this.o+=R},r.prototype.A=function(){var j=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;R=this.o*8;for(var M=j.length-8;M<j.length;++M)j[M]=R&255,R/=256;for(this.v(j),j=Array(16),R=0,M=0;M<4;++M)for(let F=0;F<32;F+=8)j[R++]=this.g[M]>>>F&255;return j};function i(j,R){var M=c;return Object.prototype.hasOwnProperty.call(M,j)?M[j]:M[j]=R(j)}function a(j,R){this.h=R;const M=[];let F=!0;for(let V=j.length-1;V>=0;V--){const U=j[V]|0;F&&U==R||(M[V]=U,F=!1)}this.g=M}var c={};function d(j){return-128<=j&&j<128?i(j,function(R){return new a([R|0],R<0?-1:0)}):new a([j|0],j<0?-1:0)}function h(j){if(isNaN(j)||!isFinite(j))return g;if(j<0)return S(h(-j));const R=[];let M=1;for(let F=0;j>=M;F++)R[F]=j/M|0,M*=4294967296;return new a(R,0)}function m(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return S(m(j.substring(1),R));if(j.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=h(Math.pow(R,8));let F=g;for(let U=0;U<j.length;U+=8){var V=Math.min(8,j.length-U);const O=parseInt(j.substring(U,U+V),R);V<8?(V=h(Math.pow(R,V)),F=F.j(V).add(h(O))):(F=F.j(M),F=F.add(h(O)))}return F}var g=d(0),v=d(1),_=d(16777216);t=a.prototype,t.m=function(){if(T(this))return-S(this).m();let j=0,R=1;for(let M=0;M<this.g.length;M++){const F=this.i(M);j+=(F>=0?F:4294967296+F)*R,R*=4294967296}return j},t.toString=function(j){if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(C(this))return"0";if(T(this))return"-"+S(this).toString(j);const R=h(Math.pow(j,6));var M=this;let F="";for(;;){const V=L(M,R).g;M=A(M,V.j(R));let U=((M.g.length>0?M.g[0]:M.h)>>>0).toString(j);if(M=V,C(M))return U+F;for(;U.length<6;)U="0"+U;F=U+F}},t.i=function(j){return j<0?0:j<this.g.length?this.g[j]:this.h};function C(j){if(j.h!=0)return!1;for(let R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function T(j){return j.h==-1}t.l=function(j){return j=A(this,j),T(j)?-1:C(j)?0:1};function S(j){const R=j.g.length,M=[];for(let F=0;F<R;F++)M[F]=~j.g[F];return new a(M,~j.h).add(v)}t.abs=function(){return T(this)?S(this):this},t.add=function(j){const R=Math.max(this.g.length,j.g.length),M=[];let F=0;for(let V=0;V<=R;V++){let U=F+(this.i(V)&65535)+(j.i(V)&65535),O=(U>>>16)+(this.i(V)>>>16)+(j.i(V)>>>16);F=O>>>16,U&=65535,O&=65535,M[V]=O<<16|U}return new a(M,M[M.length-1]&-2147483648?-1:0)};function A(j,R){return j.add(S(R))}t.j=function(j){if(C(this)||C(j))return g;if(T(this))return T(j)?S(this).j(S(j)):S(S(this).j(j));if(T(j))return S(this.j(S(j)));if(this.l(_)<0&&j.l(_)<0)return h(this.m()*j.m());const R=this.g.length+j.g.length,M=[];for(var F=0;F<2*R;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<j.g.length;V++){const U=this.i(F)>>>16,O=this.i(F)&65535,re=j.i(V)>>>16,xe=j.i(V)&65535;M[2*F+2*V]+=O*xe,k(M,2*F+2*V),M[2*F+2*V+1]+=U*xe,k(M,2*F+2*V+1),M[2*F+2*V+1]+=O*re,k(M,2*F+2*V+1),M[2*F+2*V+2]+=U*re,k(M,2*F+2*V+2)}for(j=0;j<R;j++)M[j]=M[2*j+1]<<16|M[2*j];for(j=R;j<2*R;j++)M[j]=0;return new a(M,0)};function k(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function N(j,R){this.g=j,this.h=R}function L(j,R){if(C(R))throw Error("division by zero");if(C(j))return new N(g,g);if(T(j))return R=L(S(j),R),new N(S(R.g),S(R.h));if(T(R))return R=L(j,S(R)),new N(S(R.g),R.h);if(j.g.length>30){if(T(j)||T(R))throw Error("slowDivide_ only works with positive integers.");for(var M=v,F=R;F.l(j)<=0;)M=z(M),F=z(F);var V=H(M,1),U=H(F,1);for(F=H(F,2),M=H(M,2);!C(F);){var O=U.add(F);O.l(j)<=0&&(V=V.add(M),U=O),F=H(F,1),M=H(M,1)}return R=A(j,V.j(R)),new N(V,R)}for(V=g;j.l(R)>=0;){for(M=Math.max(1,Math.floor(j.m()/R.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),U=h(M),O=U.j(R);T(O)||O.l(j)>0;)M-=F,U=h(M),O=U.j(R);C(U)&&(U=v),V=V.add(U),j=A(j,O)}return new N(V,j)}t.B=function(j){return L(this,j).h},t.and=function(j){const R=Math.max(this.g.length,j.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)&j.i(F);return new a(M,this.h&j.h)},t.or=function(j){const R=Math.max(this.g.length,j.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)|j.i(F);return new a(M,this.h|j.h)},t.xor=function(j){const R=Math.max(this.g.length,j.g.length),M=[];for(let F=0;F<R;F++)M[F]=this.i(F)^j.i(F);return new a(M,this.h^j.h)};function z(j){const R=j.g.length+1,M=[];for(let F=0;F<R;F++)M[F]=j.i(F)<<1|j.i(F-1)>>>31;return new a(M,j.h)}function H(j,R){const M=R>>5;R%=32;const F=j.g.length-M,V=[];for(let U=0;U<F;U++)V[U]=R>0?j.i(U+M)>>>R|j.i(U+M+1)<<32-R:j.i(U+M);return new a(V,j.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qj=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=m,Na=a}).apply(typeof oI<"u"?oI:typeof self<"u"?self:typeof window<"u"?window:{});var hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hj,Eh,Gj,Mp,xw,Kj,Yj,Qj;(function(){var t,e=Object.defineProperty;function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof hp=="object"&&hp];for(var b=0;b<p.length;++b){var I=p[b];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(p,b){if(b)e:{var I=r;p=p.split(".");for(var D=0;D<p.length-1;D++){var K=p[D];if(!(K in I))break e;I=I[K]}p=p[p.length-1],D=I[p],b=b(D),b!=D&&b!=null&&e(I,p,{configurable:!0,writable:!0,value:b})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(b){var I=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&I.push([D,b[D]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function d(p,b,I){return p.call.apply(p.bind,arguments)}function h(p,b,I){return h=d,h.apply(null,arguments)}function m(p,b){var I=Array.prototype.slice.call(arguments,1);return function(){var D=I.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function g(p,b){function I(){}I.prototype=b.prototype,p.Z=b.prototype,p.prototype=new I,p.prototype.constructor=p,p.Ob=function(D,K,J){for(var me=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)me[Ge-2]=arguments[Ge];return b.prototype[K].apply(D,me)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function _(p){const b=p.length;if(b>0){const I=Array(b);for(let D=0;D<b;D++)I[D]=p[D];return I}return[]}function C(p,b){for(let D=1;D<arguments.length;D++){const K=arguments[D];var I=typeof K;if(I=I!="object"?I:K?Array.isArray(K)?"array":I:"null",I=="array"||I=="object"&&typeof K.length=="number"){I=p.length||0;const J=K.length||0;p.length=I+J;for(let me=0;me<J;me++)p[I+me]=K[me]}else p.push(K)}}class T{constructor(b,I){this.i=b,this.j=I,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function S(p){a.setTimeout(()=>{throw p},0)}function A(){var p=j;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class k{constructor(){this.h=this.g=null}add(b,I){const D=N.get();D.set(b,I),this.h?this.h.next=D:this.g=D,this.h=D}}var N=new T(()=>new L,p=>p.reset());class L{constructor(){this.next=this.g=this.h=null}set(b,I){this.h=b,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let z,H=!1,j=new k,R=()=>{const p=Promise.resolve(void 0);z=()=>{p.then(M)}};function M(){for(var p;p=A();){try{p.h.call(p.g)}catch(I){S(I)}var b=N;b.j(p),b.h<100&&(b.h++,p.next=b.g,b.g=p)}H=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const I=()=>{};a.addEventListener("test",I,b),a.removeEventListener("test",I,b)}catch{}return p})();function O(p){return/^[\s\xa0]*$/.test(p)}function re(p,b){V.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,b)}g(re,V),re.prototype.init=function(p,b){const I=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget,b||(I=="mouseover"?b=p.fromElement:I=="mouseout"&&(b=p.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),he=0;function le(p,b,I,D,K){this.listener=p,this.proxy=null,this.src=b,this.type=I,this.capture=!!D,this.ha=K,this.key=++he,this.da=this.fa=!1}function Y(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function ee(p,b,I){for(const D in p)b.call(I,p[D],D,p)}function ie(p,b){for(const I in p)b.call(void 0,p[I],I,p)}function W(p){const b={};for(const I in p)b[I]=p[I];return b}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(p,b){let I,D;for(let K=1;K<arguments.length;K++){D=arguments[K];for(I in D)p[I]=D[I];for(let J=0;J<Z.length;J++)I=Z[J],Object.prototype.hasOwnProperty.call(D,I)&&(p[I]=D[I])}}function ge(p){this.src=p,this.g={},this.h=0}ge.prototype.add=function(p,b,I,D,K){const J=p.toString();p=this.g[J],p||(p=this.g[J]=[],this.h++);const me=Ve(p,b,D,K);return me>-1?(b=p[me],I||(b.fa=!1)):(b=new le(b,this.src,J,!!D,K),b.fa=I,p.push(b)),b};function Pe(p,b){const I=b.type;if(I in p.g){var D=p.g[I],K=Array.prototype.indexOf.call(D,b,void 0),J;(J=K>=0)&&Array.prototype.splice.call(D,K,1),J&&(Y(b),p.g[I].length==0&&(delete p.g[I],p.h--))}}function Ve(p,b,I,D){for(let K=0;K<p.length;++K){const J=p[K];if(!J.da&&J.listener==b&&J.capture==!!I&&J.ha==D)return K}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),Se={};function Fe(p,b,I,D,K){if(Array.isArray(b)){for(let J=0;J<b.length;J++)Fe(p,b[J],I,D,K);return null}return I=Es(I),p&&p[xe]?p.J(b,I,c(D)?!!D.capture:!1,K):We(p,b,I,!1,D,K)}function We(p,b,I,D,K,J){if(!b)throw Error("Invalid event type");const me=c(K)?!!K.capture:!!K;let Ge=ir(p);if(Ge||(p[ce]=Ge=new ge(p)),I=Ge.add(b,I,D,me,J),I.proxy)return I;if(D=Je(),I.proxy=D,D.src=p,D.listener=I,p.addEventListener)U||(K=me),K===void 0&&(K=!1),p.addEventListener(b.toString(),D,K);else if(p.attachEvent)p.attachEvent(gn(b.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Je(){function p(I){return b.call(p.src,p.listener,I)}const b=Jr;return p}function et(p,b,I,D,K){if(Array.isArray(b))for(var J=0;J<b.length;J++)et(p,b[J],I,D,K);else D=c(D)?!!D.capture:!!D,I=Es(I),p&&p[xe]?(p=p.i,J=String(b).toString(),J in p.g&&(b=p.g[J],I=Ve(b,I,D,K),I>-1&&(Y(b[I]),Array.prototype.splice.call(b,I,1),b.length==0&&(delete p.g[J],p.h--)))):p&&(p=ir(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Ve(b,I,D,K)),(I=p>-1?b[p]:null)&&At(I))}function At(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[xe])Pe(b.i,p);else{var I=p.type,D=p.proxy;b.removeEventListener?b.removeEventListener(I,D,p.capture):b.detachEvent?b.detachEvent(gn(I),D):b.addListener&&b.removeListener&&b.removeListener(D),(I=ir(b))?(Pe(I,p),I.h==0&&(I.src=null,b[ce]=null)):Y(p)}}}function gn(p){return p in Se?Se[p]:Se[p]="on"+p}function Jr(p,b){if(p.da)p=!0;else{b=new re(b,this);const I=p.listener,D=p.ha||p.src;p.fa&&At(p),p=I.call(D,b)}return p}function ir(p){return p=p[ce],p instanceof ge?p:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function Es(p){return typeof p=="function"?p:(p[or]||(p[or]=function(b){return p.handleEvent(b)}),p[or])}function Tt(){F.call(this),this.i=new ge(this),this.M=this,this.G=null}g(Tt,F),Tt.prototype[xe]=!0,Tt.prototype.removeEventListener=function(p,b,I,D){et(this,p,b,I,D)};function Ft(p,b){var I,D=p.G;if(D)for(I=[];D;D=D.G)I.push(D);if(p=p.M,D=b.type||b,typeof b=="string")b=new V(b,p);else if(b instanceof V)b.target=b.target||p;else{var K=b;b=new V(D,p),pe(b,K)}K=!0;let J,me;if(I)for(me=I.length-1;me>=0;me--)J=b.g=I[me],K=An(J,D,!0,b)&&K;if(J=b.g=p,K=An(J,D,!0,b)&&K,K=An(J,D,!1,b)&&K,I)for(me=0;me<I.length;me++)J=b.g=I[me],K=An(J,D,!1,b)&&K}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var p=this.i;for(const b in p.g){const I=p.g[b];for(let D=0;D<I.length;D++)Y(I[D]);delete p.g[b],p.h--}}this.G=null},Tt.prototype.J=function(p,b,I,D){return this.i.add(String(p),b,!1,I,D)},Tt.prototype.K=function(p,b,I,D){return this.i.add(String(p),b,!0,I,D)};function An(p,b,I,D){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let J=0;J<b.length;++J){const me=b[J];if(me&&!me.da&&me.capture==I){const Ge=me.listener,nn=me.ha||me.src;me.fa&&Pe(p.i,me),K=Ge.call(nn,D)!==!1&&K}}return K&&!D.defaultPrevented}function Oo(p,b){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:a.setTimeout(p,b||0)}function Rr(p){p.g=Oo(()=>{p.g=null,p.i&&(p.i=!1,Rr(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class vc extends F{constructor(b,I){super(),this.m=b,this.l=I,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Rr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(p){F.call(this),this.h=p,this.g={}}g(Xs,F);var wn=[];function kr(p){ee(p.g,function(b,I){this.g.hasOwnProperty(I)&&At(b)},p),p.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),kr(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Js=a.JSON.stringify,xc=a.JSON.parse,Zr=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function Zs(){}function sl(){}var es={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jr(){V.call(this,"d")}g(jr,V);function Lo(){V.call(this,"c")}g(Lo,V);var En={},Vo=null;function ei(){return Vo=Vo||new Tt}En.Ia="serverreachability";function Wi(p){V.call(this,En.Ia,p)}g(Wi,V);function ts(p){const b=ei();Ft(b,new Wi(b))}En.STAT_EVENT="statevent";function bs(p,b){V.call(this,En.STAT_EVENT,p),this.stat=b}g(bs,V);function It(p){const b=ei();Ft(b,new bs(b,p))}En.Ja="timingevent";function pr(p,b){V.call(this,En.Ja,p),this.size=b}g(pr,V);function ti(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},b)}function Me(){this.g=!0}Me.prototype.ua=function(){this.g=!1};function ht(p,b,I,D,K,J){p.info(function(){if(p.g)if(J){var me="",Ge=J.split("&");for(let wt=0;wt<Ge.length;wt++){var nn=Ge[wt].split("=");if(nn.length>1){const cn=nn[0];nn=nn[1];const Ur=cn.split("_");me=Ur.length>=2&&Ur[1]=="type"?me+(cn+"="+nn+"&"):me+(cn+"=redacted&")}}}else me=null;else me=J;return"XMLHTTP REQ ("+D+") [attempt "+K+"]: "+b+`
`+I+`
`+me})}function _t(p,b,I,D,K,J,me){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+K+"]: "+b+`
`+I+`
`+J+" "+me})}function Xt(p,b,I,D){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+zn(p,I)+(D?" "+D:"")})}function Bn(p,b){p.info(function(){return"TIMEOUT: "+b})}Me.prototype.info=function(){};function zn(p,b){if(!p.g)return b;if(!b)return null;try{const J=JSON.parse(b);if(J){for(p=0;p<J.length;p++)if(Array.isArray(J[p])){var I=J[p];if(!(I.length<2)){var D=I[1];if(Array.isArray(D)&&!(D.length<1)){var K=D[0];if(K!="noop"&&K!="stop"&&K!="close")for(let me=1;me<D.length;me++)D[me]=""}}}}return Js(J)}catch{return b}}var $n={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Dr;function qi(){}g(qi,Zs),qi.prototype.g=function(){return new XMLHttpRequest},Dr=new qi;function ni(p){return encodeURIComponent(String(p))}function _c(p){var b=1;p=p.split(":");const I=[];for(;b>0&&p.length;)I.push(p.shift()),b--;return p.length&&I.push(p.join(":")),I}function ns(p,b,I,D){this.j=p,this.i=b,this.l=I,this.S=D||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xf}function Xf(){this.i=null,this.g="",this.h=!1}var Jf={},Sd={};function Ts(p,b,I){p.M=1,p.A=Gi(rs(b)),p.u=I,p.R=!0,Cd(p,null)}function Cd(p,b){p.F=Date.now(),il(p),p.B=rs(p.A);var I=p.B,D=p.S;Array.isArray(D)||(D=[String(D)]),Od(I.i,"t",D),p.C=0,I=p.j.L,p.h=new Xf,p.g=lm(p.j,I?b:null,!p.u),p.P>0&&(p.O=new vc(h(p.Y,p,p.g),p.P)),b=p.V,I=p.g,D=p.ba;var K="readystatechange";Array.isArray(K)||(K&&(wn[0]=K.toString()),K=wn);for(let J=0;J<K.length;J++){const me=Fe(I,K[J],D||b.handleEvent,!1,b.h||b);if(!me)break;b.g[me.key]=me}b=p.J?W(p.J):{},p.u?(p.v||(p.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,b)):(p.v="GET",p.g.ea(p.B,p.v,null,b)),ts(),ht(p.i,p.v,p.B,p.l,p.S,p.u)}ns.prototype.ba=function(p){p=p.target;const b=this.O;b&&ci(p)==3?b.j():this.Y(p)},ns.prototype.Y=function(p){try{if(p==this.g)e:{const Ge=ci(this.g),nn=this.g.ya(),wt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||om(this.g)))){this.K||Ge!=4||nn==7||(nn==8||wt<=0?ts(3):ts(2)),wc(this);var b=this.g.ca();this.X=b;var I=Zf(this);if(this.o=b==200,_t(this.i,this.v,this.B,this.l,this.S,Ge,b),this.o){if(this.U&&!this.L){t:{if(this.g){var D,K=this.g;if((D=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var J=D;break t}}J=null}if(p=J)Xt(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rt(this,p);else{this.o=!1,this.m=3,It(12),Hi(this),ol(this);break e}}if(this.R){p=!0;let cn;for(;!this.K&&this.C<I.length;)if(cn=tm(this,I),cn==Sd){Ge==4&&(this.m=4,It(14),p=!1),Xt(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Jf){this.m=4,It(15),Xt(this.i,this.l,I,"[Invalid Chunk]"),p=!1;break}else Xt(this.i,this.l,cn,null),Rt(this,cn);if(em(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||I.length!=0||this.h.h||(this.m=1,It(16),p=!1),this.o=this.o&&p,!p)Xt(this.i,this.l,I,"[Invalid Chunked Response]"),Hi(this),ol(this);else if(I.length>0&&!this.W){this.W=!0;var me=this.j;me.g==this&&me.aa&&!me.P&&(me.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),pl(me),me.P=!0,It(11))}}else Xt(this.i,this.l,I,null),Rt(this,I);Ge==4&&Hi(this),this.o&&!this.K&&(Ge==4?Rc(this.j,this):(this.o=!1,il(this)))}else Vd(this.g),b==400&&I.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Hi(this),ol(this)}}}catch{}finally{}};function Zf(p){if(!em(p))return p.g.la();const b=om(p.g);if(b==="")return"";let I="";const D=b.length,K=ci(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Hi(p),ol(p),"";p.h.i=new a.TextDecoder}for(let J=0;J<D;J++)p.h.h=!0,I+=p.h.i.decode(b[J],{stream:!(K&&J==D-1)});return b.length=0,p.h.g+=I,p.C=0,p.h.g}function em(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function tm(p,b){var I=p.C,D=b.indexOf(`
`,I);return D==-1?Sd:(I=Number(b.substring(I,D)),isNaN(I)?Jf:(D+=1,D+I>b.length?Sd:(b=b.slice(D,D+I),p.C=D+I,b)))}ns.prototype.cancel=function(){this.K=!0,Hi(this)};function il(p){p.T=Date.now()+p.H,Id(p,p.H)}function Id(p,b){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ti(h(p.aa,p),b)}function wc(p){p.D&&(a.clearTimeout(p.D),p.D=null)}ns.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Bn(this.i,this.B),this.M!=2&&(ts(),It(17)),Hi(this),this.m=2,ol(this)):Id(this,this.T-p)};function ol(p){p.j.I==0||p.K||Rc(p.j,p)}function Hi(p){wc(p);var b=p.O;b&&typeof b.dispose=="function"&&b.dispose(),p.O=null,kr(p.V),p.g&&(b=p.g,p.g=null,b.abort(),b.dispose())}function Rt(p,b){try{var I=p.j;if(I.I!=0&&(I.g==p||Pd(I.h,p))){if(!p.L&&Pd(I.h,p)&&I.I==3){try{var D=I.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var K=D;if(K[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<p.F)Ac(I),Vr(I);else break e;hi(I),It(18)}}else I.xa=K[1],0<I.xa-I.K&&K[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=ti(h(I.Va,I),6e3));al(I.h)<=1&&I.ta&&(I.ta=void 0)}else Fr(I,11)}else if((p.L||I.g==p)&&Ac(I),!O(b))for(K=I.Ba.g.parse(b),b=0;b<K.length;b++){let wt=K[b];const cn=wt[0];if(!(cn<=I.K))if(I.K=cn,wt=wt[1],I.I==2)if(wt[0]=="c"){I.M=wt[1],I.ba=wt[2];const Ur=wt[3];Ur!=null&&(I.ka=Ur,I.j.info("VER="+I.ka));const Ji=wt[4];Ji!=null&&(I.za=Ji,I.j.info("SVER="+I.za));const fi=wt[5];fi!=null&&typeof fi=="number"&&fi>0&&(D=1.5*fi,I.O=D,I.j.info("backChannelRequestTimeoutMs_="+D)),D=I;const mi=p.g;if(mi){const Dc=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dc){var J=D.h;J.g||Dc.indexOf("spdy")==-1&&Dc.indexOf("quic")==-1&&Dc.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(bc(J,J.h),J.h=null))}if(D.G){const Bd=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Bd&&(D.wa=Bd,gt(D.J,D.G,Bd))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-p.F,I.j.info("Handshake RTT: "+I.T+"ms")),D=I;var me=p;if(D.na=Ud(D,D.L?D.ba:null,D.W),me.L){ll(D.h,me);var Ge=me,nn=D.O;nn&&(Ge.H=nn),Ge.D&&(wc(Ge),il(Ge)),D.g=me}else Wn(D);I.i.length>0&&Xi(I)}else wt[0]!="stop"&&wt[0]!="close"||Fr(I,7);else I.I==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Fr(I,7):Nc(I):wt[0]!="noop"&&I.l&&I.l.qa(wt),I.A=0)}}ts(4)}catch{}}var gv=class{constructor(p,b){this.g=p,this.map=b}};function Ec(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nd(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function al(p){return p.h?1:p.g?p.g.size:0}function Pd(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function bc(p,b){p.g?p.g.add(b):p.h=b}function ll(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}Ec.prototype.cancel=function(){if(this.i=Mr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Mr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const I of p.g.values())b=b.concat(I.G);return b}return _(p.i)}var nm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(p,b){if(p){p=p.split("&");for(let I=0;I<p.length;I++){const D=p[I].indexOf("=");let K,J=null;D>=0?(K=p[I].substring(0,D),J=p[I].substring(D+1)):K=p[I],b(K,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ri(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;p instanceof ri?(this.l=p.l,cl(this,p.j),this.o=p.o,this.g=p.g,si(this,p.u),this.h=p.h,Fo(this,Ld(p.i)),this.m=p.m):p&&(b=String(p).match(nm))?(this.l=!1,cl(this,b[1]||"",!0),this.o=ul(b[2]||""),this.g=ul(b[3]||"",!0),si(this,b[4]),this.h=ul(b[5]||"",!0),Fo(this,b[6]||"",!0),this.m=ul(b[7]||"")):(this.l=!1,this.i=new ot(null,this.l))}ri.prototype.toString=function(){const p=[];var b=this.j;b&&p.push(dl(b,Rd,!0),":");var I=this.g;return(I||b=="file")&&(p.push("//"),(b=this.o)&&p.push(dl(b,Rd,!0),"@"),p.push(ni(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&p.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&p.push("/"),p.push(dl(I,I.charAt(0)=="/"?hl:kd,!0))),(I=this.i.toString())&&p.push("?",I),(I=this.m)&&p.push("#",dl(I,jd)),p.join("")},ri.prototype.resolve=function(p){const b=rs(this);let I=!!p.j;I?cl(b,p.j):I=!!p.o,I?b.o=p.o:I=!!p.g,I?b.g=p.g:I=p.u!=null;var D=p.h;if(I)si(b,p.u);else if(I=!!p.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var K=b.h.lastIndexOf("/");K!=-1&&(D=b.h.slice(0,K+1)+D)}if(K=D,K==".."||K==".")D="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){D=K.lastIndexOf("/",0)==0,K=K.split("/");const J=[];for(let me=0;me<K.length;){const Ge=K[me++];Ge=="."?D&&me==K.length&&J.push(""):Ge==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),D&&me==K.length&&J.push("")):(J.push(Ge),D=!0)}D=J.join("/")}else D=K}return I?b.h=D:I=p.i.toString()!=="",I?Fo(b,Ld(p.i)):I=!!p.m,I&&(b.m=p.m),b};function rs(p){return new ri(p)}function cl(p,b,I){p.j=I?ul(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function si(p,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);p.u=b}else p.u=null}function Fo(p,b,I){b instanceof ot?(p.i=b,Sc(p.i,p.l)):(I||(b=dl(b,yv)),p.i=new ot(b,p.l))}function gt(p,b,I){p.i.set(b,I)}function Gi(p){return gt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function ul(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function dl(p,b,I){return typeof p=="string"?(p=encodeURI(p).replace(b,Ad),I&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Ad(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Rd=/[#\/\?@]/g,kd=/[#\?:]/g,hl=/[#\?]/g,yv=/[#\?@]/g,jd=/#/g;function ot(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function ii(p){p.g||(p.g=new Map,p.h=0,p.i&&Or(p.i,function(b,I){p.add(decodeURIComponent(b.replace(/\+/g," ")),I)}))}t=ot.prototype,t.add=function(p,b){ii(this),this.i=null,p=oi(this,p);let I=this.g.get(p);return I||this.g.set(p,I=[]),I.push(b),this.h+=1,this};function Dd(p,b){ii(p),b=oi(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function Tc(p,b){return ii(p),b=oi(p,b),p.g.has(b)}t.forEach=function(p,b){ii(this),this.g.forEach(function(I,D){I.forEach(function(K){p.call(b,K,D,this)},this)},this)};function Md(p,b){ii(p);let I=[];if(typeof b=="string")Tc(p,b)&&(I=I.concat(p.g.get(oi(p,b))));else for(p=Array.from(p.g.values()),b=0;b<p.length;b++)I=I.concat(p[b]);return I}t.set=function(p,b){return ii(this),this.i=null,p=oi(this,p),Tc(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},t.get=function(p,b){return p?(p=Md(this,p),p.length>0?String(p[0]):b):b};function Od(p,b,I){Dd(p,b),I.length>0&&(p.i=null,p.g.set(oi(p,b),_(I)),p.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var I=b[D];const K=ni(I);I=Md(this,I);for(let J=0;J<I.length;J++){let me=K;I[J]!==""&&(me+="="+ni(I[J])),p.push(me)}}return this.i=p.join("&")};function Ld(p){const b=new ot;return b.i=p.i,p.g&&(b.g=new Map(p.g),b.h=p.h),b}function oi(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function Sc(p,b){b&&!p.j&&(ii(p),p.i=null,p.g.forEach(function(I,D){const K=D.toLowerCase();D!=K&&(Dd(this,D),Od(this,K,I))},p)),p.j=b}function ai(p,b){const I=new Me;if(a.Image){const D=new Image;D.onload=m(Rn,I,"TestLoadImage: loaded",!0,b,D),D.onerror=m(Rn,I,"TestLoadImage: error",!1,b,D),D.onabort=m(Rn,I,"TestLoadImage: abort",!1,b,D),D.ontimeout=m(Rn,I,"TestLoadImage: timeout",!1,b,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else b(!1)}function li(p,b){const I=new Me,D=new AbortController,K=setTimeout(()=>{D.abort(),Rn(I,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:D.signal}).then(J=>{clearTimeout(K),J.ok?Rn(I,"TestPingServer: ok",!0,b):Rn(I,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),Rn(I,"TestPingServer: error",!1,b)})}function Rn(p,b,I,D,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),D(I)}catch{}}function fl(){this.g=new Zr}function Ki(p){this.i=p.Sb||null,this.h=p.ab||!1}g(Ki,Zs),Ki.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(p,b){Tt.call(this),this.H=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(Lr,Tt),t=Lr.prototype,t.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=b,this.readyState=1,Ss(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(b.body=p),(this.H||a).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rm(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function rm(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}t.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Uo(this):Ss(this),this.readyState==3&&rm(this)}},t.Oa=function(p){this.g&&(this.response=this.responseText=p,Uo(this))},t.Na=function(p){this.g&&(this.response=p,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ss(p)}t.setRequestHeader=function(p,b){this.A.append(p,b)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var I=b.next();!I.done;)I=I.value,p.push(I[0]+": "+I[1]),I=b.next();return p.join(`\r
`)};function Ss(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function sm(p){let b="";return ee(p,function(I,D){b+=D,b+=":",b+=I,b+=`\r
`}),b}function Cc(p,b,I){e:{for(D in I){var D=!1;break e}D=!0}D||(I=sm(I),typeof p=="string"?I!=null&&ni(I):gt(p,b,I))}function St(p){Tt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(St,Tt);var im=/^https?$/i,vv=["POST","PUT"];t=St.prototype,t.Fa=function(p){this.H=p},t.ea=function(p,b,I,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Dr.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(J){Bo(this,J);return}if(p=I||"",I=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var K in D)I.set(K,D[K]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const J of D.keys())I.set(J,D.get(J));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(I.keys()).find(J=>J.toLowerCase()=="content-type"),K=a.FormData&&p instanceof a.FormData,!(Array.prototype.indexOf.call(vv,b,void 0)>=0)||D||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of I)this.g.setRequestHeader(J,me);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(J){Bo(this,J)}};function Bo(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.o=5,zo(p),Qi(p)}function zo(p){p.A||(p.A=!0,Ft(p,"complete"),Ft(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Ft(this,"complete"),Ft(this,"abort"),Qi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),St.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Yi(this):this.Xa())},t.Xa=function(){Yi(this)};function Yi(p){if(p.h&&typeof i<"u"){if(p.v&&ci(p)==4)setTimeout(p.Ca.bind(p),0);else if(Ft(p,"readystatechange"),ci(p)==4){p.h=!1;try{const J=p.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var I;if(!(I=b)){var D;if(D=J===0){let me=String(p.D).match(nm)[1]||null;!me&&a.self&&a.self.location&&(me=a.self.location.protocol.slice(0,-1)),D=!im.test(me?me.toLowerCase():"")}I=D}if(I)Ft(p,"complete"),Ft(p,"success");else{p.o=6;try{var K=ci(p)>2?p.g.statusText:""}catch{K=""}p.l=K+" ["+p.ca()+"]",zo(p)}}finally{Qi(p)}}}}function Qi(p,b){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const I=p.g;p.g=null,b||Ft(p,"ready");try{I.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ci(p){return p.g?p.g.readyState:0}t.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),xc(b)}};function om(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(p){const b={};p=(p.g&&ci(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(O(p[D]))continue;var I=_c(p[D]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const J=b[K]||[];b[K]=J,J.push(I)}ie(b,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(p,b,I){return I&&I.internalChannelParams&&I.internalChannelParams[p]||b}function Ic(p){this.za=0,this.i=[],this.j=new Me,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,p),this.Za=ui("retryDelaySeedMs",1e4,p),this.Ta=ui("forwardChannelMaxRetries",2,p),this.va=ui("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Ec(p&&p.concurrentRequestLimit),this.Ba=new fl,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ic.prototype,t.ka=8,t.I=1,t.connect=function(p,b,I,D){It(0),this.W=p,this.H=b||{},I&&D!==void 0&&(this.H.OSID=I,this.H.OAID=D),this.F=this.X,this.J=Ud(this,null,this.W),Xi(this)};function Nc(p){if(Pc(p),p.I==3){var b=p.V++,I=rs(p.J);if(gt(I,"SID",p.M),gt(I,"RID",b),gt(I,"TYPE","terminate"),di(p,I),b=new ns(p,p.j,b),b.M=2,b.A=Gi(rs(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(b.A.toString(),"")}catch{}!I&&a.Image&&(new Image().src=b.A,I=!0),I||(b.g=lm(b.j,null),b.g.ea(b.A)),b.F=Date.now(),il(b)}gl(p)}function Vr(p){p.g&&(pl(p),p.g.cancel(),p.g=null)}function Pc(p){Vr(p),p.v&&(a.clearTimeout(p.v),p.v=null),Ac(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&a.clearTimeout(p.m),p.m=null)}function Xi(p){if(!Nd(p.h)&&!p.m){p.m=!0;var b=p.Ea;z||R(),H||(z(),H=!0),j.add(b,p),p.D=0}}function am(p,b){return al(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=b.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ti(h(p.Ea,p,b),kc(p,p.D)),p.D++,!0)}t.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const K=new ns(this,this.j,p);let J=this.o;if(this.U&&(J?(J=W(J),pe(J,this.U)):J=this.U),this.u!==null||this.R||(K.J=J,J=null),this.S)e:{for(var b=0,I=0;I<this.i.length;I++){t:{var D=this.i[I];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=I;break e}if(b===4096||I===this.i.length-1){b=I+1;break e}}b=1e3}else b=1e3;b=Fd(this,K,b),I=rs(this.J),gt(I,"RID",p),gt(I,"CVER",22),this.G&&gt(I,"X-HTTP-Session-Id",this.G),di(this,I),J&&(this.R?b="headers="+ni(sm(J))+"&"+b:this.u&&Cc(I,this.u,J)),bc(this.h,K),this.Ra&&gt(I,"TYPE","init"),this.S?(gt(I,"$req",b),gt(I,"SID","null"),K.U=!0,Ts(K,I,null)):Ts(K,I,b),this.I=2}}else this.I==3&&(p?ml(this,p):this.i.length==0||Nd(this.h)||ml(this))};function ml(p,b){var I;b?I=b.l:I=p.V++;const D=rs(p.J);gt(D,"SID",p.M),gt(D,"RID",I),gt(D,"AID",p.K),di(p,D),p.u&&p.o&&Cc(D,p.u,p.o),I=new ns(p,p.j,I,p.D+1),p.u===null&&(I.J=p.o),b&&(p.i=b.G.concat(p.i)),b=Fd(p,I,1e3),I.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),bc(p.h,I),Ts(I,D,b)}function di(p,b){p.H&&ee(p.H,function(I,D){gt(b,D,I)}),p.l&&ee({},function(I,D){gt(b,D,I)})}function Fd(p,b,I){I=Math.min(p.i.length,I);const D=p.l?h(p.l.Ka,p.l,p):null;e:{var K=p.i;let Ge=-1;for(;;){const nn=["count="+I];Ge==-1?I>0?(Ge=K[0].g,nn.push("ofs="+Ge)):Ge=0:nn.push("ofs="+Ge);let wt=!0;for(let cn=0;cn<I;cn++){var J=K[cn].g;const Ur=K[cn].map;if(J-=Ge,J<0)Ge=Math.max(0,K[cn].g-100),wt=!1;else try{J="req"+J+"_"||"";try{var me=Ur instanceof Map?Ur:Object.entries(Ur);for(const[Ji,fi]of me){let mi=fi;c(fi)&&(mi=Js(fi)),nn.push(J+Ji+"="+encodeURIComponent(mi))}}catch(Ji){throw nn.push(J+"type="+encodeURIComponent("_badmap")),Ji}}catch{D&&D(Ur)}}if(wt){me=nn.join("&");break e}}me=void 0}return p=p.i.splice(0,I),b.G=p,me}function Wn(p){if(!p.g&&!p.v){p.Y=1;var b=p.Da;z||R(),H||(z(),H=!0),j.add(b,p),p.A=0}}function hi(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ti(h(p.Da,p),kc(p,p.A)),p.A++,!0)}t.Da=function(){if(this.v=null,$o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ti(h(this.Wa,this),p)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Vr(this),$o(this))};function pl(p){p.B!=null&&(a.clearTimeout(p.B),p.B=null)}function $o(p){p.g=new ns(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var b=rs(p.na);gt(b,"RID","rpc"),gt(b,"SID",p.M),gt(b,"AID",p.K),gt(b,"CI",p.F?"0":"1"),!p.F&&p.ia&&gt(b,"TO",p.ia),gt(b,"TYPE","xmlhttp"),di(p,b),p.u&&p.o&&Cc(b,p.u,p.o),p.O&&(p.g.H=p.O);var I=p.g;p=p.ba,I.M=1,I.A=Gi(rs(b)),I.u=null,I.R=!0,Cd(I,p)}t.Va=function(){this.C!=null&&(this.C=null,Vr(this),hi(this),It(19))};function Ac(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function Rc(p,b){var I=null;if(p.g==b){Ac(p),pl(p),p.g=null;var D=2}else if(Pd(p.h,b))I=b.G,ll(p.h,b),D=1;else return;if(p.I!=0){if(b.o)if(D==1){I=b.u?b.u.length:0,b=Date.now()-b.F;var K=p.D;D=ei(),Ft(D,new pr(D,I)),Xi(p)}else Wn(p);else if(K=b.m,K==3||K==0&&b.X>0||!(D==1&&am(p,b)||D==2&&hi(p)))switch(I&&I.length>0&&(b=p.h,b.i=b.i.concat(I)),K){case 1:Fr(p,5);break;case 4:Fr(p,10);break;case 3:Fr(p,6);break;default:Fr(p,2)}}}function kc(p,b){let I=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(I*=2),I*b}function Fr(p,b){if(p.j.info("Error code "+b),b==2){var I=h(p.bb,p),D=p.Ua;const K=!D;D=new ri(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cl(D,"https"),Gi(D),K?ai(D.toString(),I):li(D.toString(),I)}else It(2);p.I=0,p.l&&p.l.pa(b),gl(p),Pc(p)}t.bb=function(p){p?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function gl(p){if(p.I=0,p.ja=[],p.l){const b=Mr(p.h);(b.length!=0||p.i.length!=0)&&(C(p.ja,b),C(p.ja,p.i),p.h.i.length=0,_(p.i),p.i.length=0),p.l.oa()}}function Ud(p,b,I){var D=I instanceof ri?rs(I):new ri(I);if(D.g!="")b&&(D.g=b+"."+D.g),si(D,D.u);else{var K=a.location;D=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const J=new ri(null);D&&cl(J,D),b&&(J.g=b),K&&si(J,K),I&&(J.h=I),D=J}return I=p.G,b=p.wa,I&&b&&gt(D,I,b),gt(D,"VER",p.ka),di(p,D),D}function lm(p,b,I){if(b&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Aa&&!p.ma?new St(new Ki({ab:I})):new St(p.ma),b.Fa(p.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cm(){}t=cm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function jc(){}jc.prototype.g=function(p,b){return new kn(p,b)};function kn(p,b){Tt.call(this),this.g=new Ic(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(p?p["X-WebChannel-Client-Profile"]=b.sa:p={"X-WebChannel-Client-Profile":b.sa}),this.g.U=p,(p=b&&b.Qb)&&!O(p)&&(this.g.u=p),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new Wo(this)}g(kn,Tt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Nc(this.g)},kn.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var I={};I.__data__=p,p=I}else this.v&&(I={},I.__data__=Js(p),p=I);b.i.push(new gv(b.Ya++,p)),b.I==3&&Xi(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,Nc(this.g),delete this.g,kn.Z.N.call(this)};function um(p){jr.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){e:{for(const I in b){p=I;break e}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}g(um,jr);function dm(){Lo.call(this),this.status=1}g(dm,Lo);function Wo(p){this.g=p}g(Wo,cm),Wo.prototype.ra=function(){Ft(this.g,"a")},Wo.prototype.qa=function(p){Ft(this.g,new um(p))},Wo.prototype.pa=function(p){Ft(this.g,new dm)},Wo.prototype.oa=function(){Ft(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Qj=function(){return new jc},Yj=function(){return ei()},Kj=En,xw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},$n.NO_ERROR=0,$n.TIMEOUT=8,$n.HTTP_ERROR=6,Mp=$n,ln.COMPLETE="complete",Gj=ln,sl.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Eh=sl,St.prototype.listenOnce=St.prototype.K,St.prototype.getLastError=St.prototype.Ha,St.prototype.getLastErrorCode=St.prototype.ya,St.prototype.getStatus=St.prototype.ca,St.prototype.getResponseJson=St.prototype.La,St.prototype.getResponseText=St.prototype.la,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Fa,Hj=St}).apply(typeof hp<"u"?hp:typeof self<"u"?self:typeof window<"u"?window:{});const aI="@firebase/firestore",lI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Cf("@firebase/firestore");function ou(){return tc.logLevel}function we(t,...e){if(tc.logLevel<=rt.DEBUG){const n=e.map(xE);tc.debug(`Firestore (${ud}): ${t}`,...n)}}function So(t,...e){if(tc.logLevel<=rt.ERROR){const n=e.map(xE);tc.error(`Firestore (${ud}): ${t}`,...n)}}function $u(t,...e){if(tc.logLevel<=rt.WARN){const n=e.map(xE);tc.warn(`Firestore (${ud}): ${t}`,...n)}}function xE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Xj(t,r,n)}function Xj(t,e,n){let r=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw So(r),new Error(r)}function xt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Xj(e,s,r)}function Ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class o7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class a7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class l7{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let i=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vo,e.enqueueRetryable((()=>s(this.currentUser)))};const a=()=>{const d=i;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vo)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xt(typeof r.accessToken=="string",31837,{l:r}),new Jj(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class c7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new c7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xt(this.o===void 0,3512);const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,we("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable((()=>r(i)))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((i=>s(i))),setTimeout((()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=h7(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function _w(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return c_(s)===c_(i)?st(s,i):c_(s)?1:-1}return st(t.length,e.length)}const f7=55296,m7=57343;function c_(t){const e=t.charCodeAt(0);return e>=f7&&e<=m7}function Wu(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="__name__";class xi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=xi.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return st(e.length,n.length)}static compareSegments(e,n){const r=xi.isNumericId(e),s=xi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?xi.extractNumericId(e).compare(xi.extractNumericId(n)):_w(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Na.fromString(e.substring(4,e.length-2))}}class Pt extends xi{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new Pt(n)}static emptyPath(){return new Pt([])}}const p7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ln extends xi{construct(e,n,r){return new Ln(e,n,r)}static isValidIdentifier(e){return p7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uI}static keyField(){return new Ln([uI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ve(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new ve(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ln(n)}static emptyPath(){return new Ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Pt.fromString(e))}static fromName(e){return new ke(Pt.fromString(e).popFirst(5))}static empty(){return new ke(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(t,e,n){if(!n)throw new ve(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g7(t,e,n,r){if(e===!0&&r===!0)throw new ve(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dI(t){if(!ke.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hI(t){if(ke.isDocumentKey(t))throw new ve(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function e2(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ty(t);throw new ve(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function y7(t,e){if(e<=0)throw new ve(te.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rf(t,e){if(!e2(t))throw new ve(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new ve(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=-62135596800,mI=1e6;class Lt{static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mI);return new Lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fI)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mI}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rf(e,Lt._jsonSchema))return new Lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Lt._jsonSchemaVersion="firestore/timestamp/1.0",Lt._jsonSchema={type:mn("string",Lt._jsonSchemaVersion),seconds:mn("number"),nanoseconds:mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static fromTimestamp(e){return new He(e)}static min(){return new He(new Lt(0,0))}static max(){return new He(new Lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=-1;function v7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=He.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Oa(s,ke.empty(),e)}function x7(t){return new Oa(t.readTime,t.key,nf)}class Oa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oa(He.min(),ke.empty(),nf)}static max(){return new Oa(He.max(),ke.empty(),nf)}}function _7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==w7)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let s=0,i=0,a=!1;e.forEach((c=>{++s,c.next((()=>{++i,a&&i===s&&n()}),(d=>r(d)))})),a=!0,i===s&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((s=>s?se.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,i)=>{r.push(n.call(this,s,i))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let d=0;d<i;d++){const h=d;n(e[h]).next((m=>{a[h]=m,++c,c===i&&r(a)}),(m=>s(m)))}}))}static doWhile(e,n){return new se(((r,s)=>{const i=()=>{e()===!0?n().next((()=>{i()}),s):r()};i()}))}}function b7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=-1;function Cy(t){return t==null}function vg(t){return t===0&&1/t==-1/0}function T7(t){return typeof t=="number"&&Number.isInteger(t)&&!vg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="";function S7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pI(e)),e=C7(t.get(n),e);return pI(e)}function C7(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case t2:n+="";break;default:n+=i}}return n}function pI(t){return t+t2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function n2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class ww{constructor(e,n){this.comparator=e,this.root=n||Pa.EMPTY}insert(e,n){return new ww(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pa.BLACK,null,null))}remove(e){return new ww(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}},fp=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pa=class co{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??co.RED,this.left=s??co.EMPTY,this.right=i??co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new co(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return co.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}};Pa.EMPTY=null,Pa.RED=!0,Pa.BLACK=!1;Pa.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(e){return new yI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class yI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.fields=e,e.sort(Ln.comparator)}static empty(){return new Hr([])}unionWith(e){let n=new _n(Ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new r2("Invalid base64 string: "+i):i}})(e);return new Un(n)}static fromUint8Array(e){const n=(function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i})(e);return new Un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Un.EMPTY_BYTE_STRING=new Un("");const I7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function La(t){if(xt(!!t,39018),typeof t=="string"){let e=0;const n=I7.exec(t);if(xt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:sn(t.seconds),nanos:sn(t.nanos)}}function sn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Va(t){return typeof t=="string"?Un.fromBase64String(t):Un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="server_timestamp",i2="__type__",o2="__previous_value__",a2="__local_write_time__";function EE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[i2])==null?void 0:r.stringValue)===s2}function Iy(t){const e=t.mapValue.fields[o2];return EE(e)?Iy(e):e}function rf(t){const e=La(t.mapValue.fields[a2].timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,n,r,s,i,a,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const xg="(default)";class sf{constructor(e,n){this.projectId=e,this.database=n||xg}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database===xg}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="__type__",P7="__max__",mp={mapValue:{}},c2="__vector__",_g="value";function Fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?EE(t)?4:R7(t)?9007199254740991:A7(t)?10:11:Be(28295,{value:t})}function Ui(t,e){if(t===e)return!0;const n=Fa(t);if(n!==Fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return(function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=La(s.timestampValue),c=La(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,i){return Va(s.bytesValue).isEqual(Va(i.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,i){return sn(s.geoPointValue.latitude)===sn(i.geoPointValue.latitude)&&sn(s.geoPointValue.longitude)===sn(i.geoPointValue.longitude)})(t,e);case 2:return(function(s,i){if("integerValue"in s&&"integerValue"in i)return sn(s.integerValue)===sn(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=sn(s.doubleValue),c=sn(i.doubleValue);return a===c?vg(a)===vg(c):isNaN(a)&&isNaN(c)}return!1})(t,e);case 9:return Wu(t.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(gI(a)!==gI(c))return!1;for(const d in a)if(a.hasOwnProperty(d)&&(c[d]===void 0||!Ui(a[d],c[d])))return!1;return!0})(t,e);default:return Be(52216,{left:t})}}function of(t,e){return(t.values||[]).find((n=>Ui(n,e)))!==void 0}function qu(t,e){if(t===e)return 0;const n=Fa(t),r=Fa(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(i,a){const c=sn(i.integerValue||i.doubleValue),d=sn(a.integerValue||a.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return vI(t.timestampValue,e.timestampValue);case 4:return vI(rf(t),rf(e));case 5:return _w(t.stringValue,e.stringValue);case 6:return(function(i,a){const c=Va(i),d=Va(a);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(i,a){const c=i.split("/"),d=a.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=st(c[h],d[h]);if(m!==0)return m}return st(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(i,a){const c=st(sn(i.latitude),sn(a.latitude));return c!==0?c:st(sn(i.longitude),sn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xI(t.arrayValue,e.arrayValue);case 10:return(function(i,a){var v,_,C,T;const c=i.fields||{},d=a.fields||{},h=(v=c[_g])==null?void 0:v.arrayValue,m=(_=d[_g])==null?void 0:_.arrayValue,g=st(((C=h==null?void 0:h.values)==null?void 0:C.length)||0,((T=m==null?void 0:m.values)==null?void 0:T.length)||0);return g!==0?g:xI(h,m)})(t.mapValue,e.mapValue);case 11:return(function(i,a){if(i===mp.mapValue&&a===mp.mapValue)return 0;if(i===mp.mapValue)return 1;if(a===mp.mapValue)return-1;const c=i.fields||{},d=Object.keys(c),h=a.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const v=_w(d[g],m[g]);if(v!==0)return v;const _=qu(c[d[g]],h[m[g]]);if(_!==0)return _}return st(d.length,m.length)})(t.mapValue,e.mapValue);default:throw Be(23264,{he:n})}}function vI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=La(t),r=La(e),s=st(n.seconds,r.seconds);return s!==0?s:st(n.nanos,r.nanos)}function xI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=qu(n[s],r[s]);if(i)return i}return st(n.length,r.length)}function Hu(t){return Ew(t)}function Ew(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=La(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Va(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ew(i);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Ew(n.fields[a])}`;return s+"}"})(t.mapValue):Be(61005,{value:t})}function Op(t){switch(Fa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Iy(t);return e?16+Op(e):16;case 5:return 2*t.stringValue.length;case 6:return Va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,i)=>s+Op(i)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return Ja(r.fields,((i,a)=>{s+=i.length+Op(a)})),s})(t.mapValue);default:throw Be(13486,{value:t})}}function _I(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bw(t){return!!t&&"integerValue"in t}function bE(t){return!!t&&"arrayValue"in t}function wI(t){return!!t&&"nullValue"in t}function EI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lp(t){return!!t&&"mapValue"in t}function A7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[l2])==null?void 0:r.stringValue)===c2}function kh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=kh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kh(t.arrayValue.values[n]);return e}return{...t}}function R7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kh(n)}setAll(e){let n=Ln.emptyPath(),r={},s=[];e.forEach(((a,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=kh(a):s.push(c.lastSegment())}));const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Lp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ja(n,((s,i)=>e[s]=i));for(const s of r)delete e[s]}clone(){return new Cr(kh(this.value))}}function u2(t){const e=[];return Ja(t.fields,((n,r)=>{const s=new Ln([n]);if(Lp(r)){const i=u2(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)})),new Hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Zn(e,0,He.min(),He.min(),He.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,s){return new Zn(e,1,n,He.min(),r,s,0)}static newNoDocument(e,n){return new Zn(e,2,n,He.min(),He.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,He.min(),He.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.position=e,this.inclusive=n}}function bI(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=ke.comparator(ke.fromName(a.referenceValue),n.key):r=qu(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function TI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function k7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{}class fn extends d2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new D7(e,n,r):n==="array-contains"?new L7(e,r):n==="in"?new V7(e,r):n==="not-in"?new F7(e,r):n==="array-contains-any"?new U7(e,r):new fn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new M7(e,r):new O7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qu(n,this.value)):n!==null&&Fa(this.value)===Fa(n)&&this.matchesComparison(qu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends d2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gs(e,n)}matches(e){return h2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function h2(t){return t.op==="and"}function f2(t){return j7(t)&&h2(t)}function j7(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function Tw(t){if(t instanceof fn)return t.field.canonicalString()+t.op.toString()+Hu(t.value);if(f2(t))return t.filters.map((e=>Tw(e))).join(",");{const e=t.filters.map((n=>Tw(n))).join(",");return`${t.op}(${e})`}}function m2(t,e){return t instanceof fn?(function(r,s){return s instanceof fn&&r.op===s.op&&r.field.isEqual(s.field)&&Ui(r.value,s.value)})(t,e):t instanceof Gs?(function(r,s){return s instanceof Gs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((i,a,c)=>i&&m2(a,s.filters[c])),!0):!1})(t,e):void Be(19439)}function p2(t){return t instanceof fn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Hu(n.value)}`})(t):t instanceof Gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(p2).join(" ,")+"}"})(t):"Filter"}class D7 extends fn{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class M7 extends fn{constructor(e,n){super(e,"in",n),this.keys=g2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class O7 extends fn{constructor(e,n){super(e,"not-in",n),this.keys=g2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ke.fromName(r.referenceValue)))}class L7 extends fn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bE(n)&&of(n.arrayValue,this.value)}}class V7 extends fn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&of(this.value.arrayValue,n)}}class F7 extends fn{constructor(e,n){super(e,"not-in",n)}matches(e){if(of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!of(this.value.arrayValue,n)}}class U7 extends fn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>of(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.Te=null}}function SI(t,e=null,n=[],r=[],s=null,i=null,a=null){return new B7(t,e,n,r,s,i,a)}function TE(t){const e=Ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Tw(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(i){return i.field.canonicalString()+i.dir})(r))).join(","),Cy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Hu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Hu(r))).join(",")),e.Te=n}return e.Te}function SE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!k7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!m2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TI(t.startAt,e.startAt)&&TI(t.endAt,e.endAt)}function Sw(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function z7(t,e,n,r,s,i,a,c){return new fd(t,e,n,r,s,i,a,c)}function Ny(t){return new fd(t)}function CI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function y2(t){return t.collectionGroup!==null}function jh(t){const e=Ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new _n(Ln.comparator);return a.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new af(i,r))})),n.has(Ln.keyField().canonicalString())||e.Ie.push(new af(Ln.keyField(),r))}return e.Ie}function ki(t){const e=Ye(t);return e.Ee||(e.Ee=$7(e,jh(t))),e.Ee}function $7(t,e){if(t.limitType==="F")return SI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const i=s.dir==="desc"?"asc":"desc";return new af(s.field,i)}));const n=t.endAt?new wg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wg(t.startAt.position,t.startAt.inclusive):null;return SI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cw(t,e){const n=t.filters.concat([e]);return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Eg(t,e,n){return new fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Py(t,e){return SE(ki(t),ki(e))&&t.limitType===e.limitType}function v2(t){return`${TE(ki(t))}|lt:${t.limitType}`}function au(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>p2(s))).join(", ")}]`),Cy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>Hu(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>Hu(s))).join(",")),`Target(${r})`})(ki(t))}; limitType=${t.limitType})`}function Ay(t,e){return e.isFoundDocument()&&(function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ke.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)})(t,e)&&(function(r,s){for(const i of jh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(a,c,d){const h=bI(a,c,d);return a.inclusive?h<=0:h<0})(r.startAt,jh(r),s)||r.endAt&&!(function(a,c,d){const h=bI(a,c,d);return a.inclusive?h>=0:h>0})(r.endAt,jh(r),s))})(t,e)}function W7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function x2(t){return(e,n)=>{let r=!1;for(const s of jh(t)){const i=q7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function q7(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(i,a,c){const d=a.data.field(i),h=c.data.field(i);return d!==null&&h!==null?qu(d,h):Be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,((n,r)=>{for(const[s,i]of r)e(s,i)}))}isEmpty(){return n2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=new pn(ke.comparator);function Co(){return H7}const _2=new pn(ke.comparator);function bh(...t){let e=_2;for(const n of t)e=e.insert(n.key,n);return e}function w2(t){let e=_2;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ml(){return Dh()}function E2(){return Dh()}function Dh(){return new mc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const G7=new pn(ke.comparator),K7=new _n(ke.comparator);function it(...t){let e=K7;for(const n of t)e=e.add(n);return e}const Y7=new _n(st);function Q7(){return Y7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vg(e)?"-0":e}}function b2(t){return{integerValue:""+t}}function X7(t,e){return T7(e)?b2(e):CE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this._=void 0}}function J7(t,e,n){return t instanceof lf?(function(s,i){const a={fields:{[i2]:{stringValue:s2},[a2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&EE(i)&&(i=Iy(i)),i&&(a.fields[o2]=i),{mapValue:a}})(n,e):t instanceof cf?S2(t,e):t instanceof uf?C2(t,e):(function(s,i){const a=T2(s,i),c=II(a)+II(s.Ae);return bw(a)&&bw(s.Ae)?b2(c):CE(s.serializer,c)})(t,e)}function Z7(t,e,n){return t instanceof cf?S2(t,e):t instanceof uf?C2(t,e):n}function T2(t,e){return t instanceof bg?(function(r){return bw(r)||(function(i){return!!i&&"doubleValue"in i})(r)})(e)?e:{integerValue:0}:null}class lf extends Ry{}class cf extends Ry{constructor(e){super(),this.elements=e}}function S2(t,e){const n=I2(e);for(const r of t.elements)n.some((s=>Ui(s,r)))||n.push(r);return{arrayValue:{values:n}}}class uf extends Ry{constructor(e){super(),this.elements=e}}function C2(t,e){let n=I2(e);for(const r of t.elements)n=n.filter((s=>!Ui(s,r)));return{arrayValue:{values:n}}}class bg extends Ry{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function II(t){return sn(t.integerValue||t.doubleValue)}function I2(t){return bE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n){this.field=e,this.transform=n}}function tH(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof cf&&s instanceof cf||r instanceof uf&&s instanceof uf?Wu(r.elements,s.elements,Ui):r instanceof bg&&s instanceof bg?Ui(r.Ae,s.Ae):r instanceof lf&&s instanceof lf})(t.transform,e.transform)}class nH{constructor(e,n){this.version=e,this.transformResults=n}}class ys{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ys}static exists(e){return new ys(void 0,e)}static updateTime(e){return new ys(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ky{}function N2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IE(t.key,ys.none()):new kf(t.key,t.data,ys.none());{const n=t.data,r=Cr.empty();let s=new _n(Ln.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new Za(t.key,r,new Hr(s.toArray()),ys.none())}}function rH(t,e,n){t instanceof kf?(function(s,i,a){const c=s.value.clone(),d=PI(s.fieldTransforms,i,a.transformResults);c.setAll(d),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Za?(function(s,i,a){if(!Vp(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=PI(s.fieldTransforms,i,a.transformResults),d=i.data;d.setAll(P2(s)),d.setAll(c),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()})(t,e,n):(function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function Mh(t,e,n,r){return t instanceof kf?(function(i,a,c,d){if(!Vp(i.precondition,a))return c;const h=i.value.clone(),m=AI(i.fieldTransforms,d,a);return h.setAll(m),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Za?(function(i,a,c,d){if(!Vp(i.precondition,a))return c;const h=AI(i.fieldTransforms,d,a),m=a.data;return m.setAll(P2(i)),m.setAll(h),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(i,a,c){return Vp(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c})(t,e,n)}function sH(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=T2(r.transform,s||null);i!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,i))}return n||null}function NI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Wu(r,s,((i,a)=>tH(i,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kf extends ky{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Za extends ky{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function P2(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function PI(t,e,n){const r=new Map;xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,Z7(a,c,n[s]))}return r}function AI(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,J7(i,a,e))}return r}class IE extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iH extends ky{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&rH(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E2();return this.mutations.forEach((s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const d=N2(a,c);d!==null&&r.set(s.key,d),a.isValidDocument()||a.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),it())}isEqual(e){return this.batchId===e.batchId&&Wu(this.mutations,e.mutations,((n,r)=>NI(n,r)))&&Wu(this.baseMutations,e.baseMutations,((n,r)=>NI(n,r)))}}class NE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return G7})();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new NE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aH=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,lt;function cH(t){switch(t){case te.OK:return Be(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Be(15467,{code:t})}}function A2(t){if(t===void 0)return So("GRPC error has no .code"),te.UNKNOWN;switch(t){case dn.OK:return te.OK;case dn.CANCELLED:return te.CANCELLED;case dn.UNKNOWN:return te.UNKNOWN;case dn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case dn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case dn.INTERNAL:return te.INTERNAL;case dn.UNAVAILABLE:return te.UNAVAILABLE;case dn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case dn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case dn.NOT_FOUND:return te.NOT_FOUND;case dn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case dn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case dn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case dn.ABORTED:return te.ABORTED;case dn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case dn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case dn.DATA_LOSS:return te.DATA_LOSS;default:return Be(39323,{code:t})}}(lt=dn||(dn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH=new Na([4294967295,4294967295],0);function RI(t){const e=uH().encode(t),n=new qj;return n.update(e),new Uint8Array(n.digest())}function kI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Na([n,r],0),new Na([s,i],0)]}class PE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Th(`Invalid padding: ${n}`);if(r<0)throw new Th(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Th(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Th(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Na.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Na.fromNumber(r)));return s.compare(dH)===1&&(s=new Na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RI(e),[r,s]=kI(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);if(!this.we(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new PE(i,s,n);return r.forEach((c=>a.insert(c))),a}insert(e){if(this.ge===0)return;const n=RI(e),[r,s]=kI(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(r,s,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Th extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jy(He.min(),s,new pn(st),Co(),it())}}class jf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jf(r,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class R2{constructor(e,n){this.targetId=e,this.Ce=n}}class k2{constructor(e,n,r=Un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class jI{constructor(){this.ve=0,this.Fe=DI(),this.Me=Un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=it(),n=it(),r=it();return this.Fe.forEach(((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:i})}})),new jf(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hH{constructor(e){this.Ge=e,this.ze=new Map,this.je=Co(),this.Je=pp(),this.He=pp(),this.Ye=new pn(st)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Sw(i))if(r===0){const a=new ke(i.path);this.et(n,a,Zn.newNoDocument(a,He.min()))}else xt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const c=this.ut(e),d=c?this.ct(c,e,a):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=Va(r).toUint8Array()}catch(d){if(d instanceof r2)return $u("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new PE(a,s,i)}catch(d){return $u(d instanceof Th?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((i=>{const a=this.Ge.ht(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.et(n,i,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((i,a)=>{const c=this.ot(a);if(c){if(i.current&&Sw(c.target)){const d=new ke(c.target.path);this.It(d).has(a)||this.Et(a,d)||this.et(a,d,Zn.newNoDocument(d,e))}i.Be&&(n.set(a,i.ke()),i.qe())}}));let r=it();this.He.forEach(((i,a)=>{let c=!0;a.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(i))})),this.je.forEach(((i,a)=>a.setReadTime(e)));const s=new jy(e,n,this.Ye,this.je,r);return this.je=Co(),this.Je=pp(),this.He=pp(),this.Ye=new pn(st),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new jI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new _n(st),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new _n(st),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new jI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function pp(){return new pn(ke.comparator)}function DI(){return new pn(ke.comparator)}const fH={asc:"ASCENDING",desc:"DESCENDING"},mH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pH={and:"AND",or:"OR"};class gH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iw(t,e){return t.useProto3Json||Cy(e)?e:{value:e}}function Tg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yH(t,e){return Tg(t,e.toTimestamp())}function ji(t){return xt(!!t,49232),He.fromTimestamp((function(n){const r=La(n);return new Lt(r.seconds,r.nanos)})(t))}function AE(t,e){return Nw(t,e).canonicalString()}function Nw(t,e){const n=(function(s){return new Pt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function D2(t){const e=Pt.fromString(t);return xt(F2(e),10190,{key:e.toString()}),e}function Pw(t,e){return AE(t.databaseId,e.path)}function u_(t,e){const n=D2(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(O2(n))}function M2(t,e){return AE(t.databaseId,e)}function vH(t){const e=D2(t);return e.length===4?Pt.emptyPath():O2(e)}function Aw(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O2(t){return xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MI(t,e,n){return{name:Pw(t,e),fields:n.value.mapValue.fields}}function xH(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=(function(h,m){return h.useProto3Json?(xt(m===void 0||typeof m=="string",58123),Un.fromBase64String(m||"")):(xt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Un.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&(function(h){const m=h.code===void 0?te.UNKNOWN:A2(h.code);return new ve(m,h.message||"")})(a);n=new k2(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=u_(t,r.document.name),i=ji(r.document.updateTime),a=r.document.createTime?ji(r.document.createTime):He.min(),c=new Cr({mapValue:{fields:r.document.fields}}),d=Zn.newFoundDocument(s,i,a,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Fp(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=u_(t,r.document),i=r.readTime?ji(r.readTime):He.min(),a=Zn.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Fp([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=u_(t,r.document),i=r.removedTargetIds||[];n=new Fp([],i,s,null)}else{if(!("filter"in e))return Be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new lH(s,i),c=r.targetId;n=new R2(c,a)}}return n}function _H(t,e){let n;if(e instanceof kf)n={update:MI(t,e.key,e.value)};else if(e instanceof IE)n={delete:Pw(t,e.key)};else if(e instanceof Za)n={update:MI(t,e.key,e.data),updateMask:PH(e.fieldMask)};else{if(!(e instanceof iH))return Be(16599,{Vt:e.type});n={verify:Pw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(i,a){const c=a.transform;if(c instanceof lf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof uf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bg)return{fieldPath:a.field.canonicalString(),increment:c.Ae};throw Be(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(s,i){return i.updateTime!==void 0?{updateTime:yH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Be(27497)})(t,e.precondition)),n}function wH(t,e){return t&&t.length>0?(xt(e!==void 0,14353),t.map((n=>(function(s,i){let a=s.updateTime?ji(s.updateTime):ji(i);return a.isEqual(He.min())&&(a=ji(i)),new nH(a,s.transformResults||[])})(n,e)))):[]}function EH(t,e){return{documents:[M2(t,e.path)]}}function bH(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M2(t,s);const i=(function(h){if(h.length!==0)return V2(Gs.create(h,"and"))})(e.filters);i&&(n.structuredQuery.where=i);const a=(function(h){if(h.length!==0)return h.map((m=>(function(v){return{field:lu(v.field),direction:CH(v.dir)}})(m)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=Iw(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:s}}function TH(t){let e=vH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){xt(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=(function(g){const v=L2(g);return v instanceof Gs&&f2(v)?v.getFilters():[v]})(n.where));let a=[];n.orderBy&&(a=(function(g){return g.map((v=>(function(C){return new af(cu(C.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Cy(v)?null:v})(n.limit));let d=null;n.startAt&&(d=(function(g){const v=!!g.before,_=g.values||[];return new wg(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(g){const v=!g.before,_=g.values||[];return new wg(_,v)})(n.endAt)),z7(e,s,a,i,c,"F",d,h)}function SH(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L2(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=cu(n.unaryFilter.field);return fn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cu(n.unaryFilter.field);return fn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=cu(n.unaryFilter.field);return fn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return fn.create(cu(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gs.create(n.compositeFilter.filters.map((r=>L2(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(n.compositeFilter.op))})(t):Be(30097,{filter:t})}function CH(t){return fH[t]}function IH(t){return mH[t]}function NH(t){return pH[t]}function lu(t){return{fieldPath:t.canonicalString()}}function cu(t){return Ln.fromServerFormat(t.fieldPath)}function V2(t){return t instanceof fn?(function(n){if(n.op==="=="){if(EI(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(wI(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(EI(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(wI(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:IH(n.op),value:n.value}}})(t):t instanceof Gs?(function(n){const r=n.getFilters().map((s=>V2(s)));return r.length===1?r[0]:{compositeFilter:{op:NH(n.op),filters:r}}})(t):Be(54877,{filter:t})}function PH(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r,s,i=He.min(),a=He.min(),c=Un.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new ba(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.yt=e}}function RH(t){const e=TH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.Cn=new jH}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Oa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Oa.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class jH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _n(Pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _n(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U2=41943040;class br{static withCacheSize(e){return new br(e,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br.DEFAULT_COLLECTION_PERCENTILE=10,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,br.DEFAULT=new br(U2,br.DEFAULT_COLLECTION_PERCENTILE,br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),br.DISABLED=new br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gu(0)}static cr(){return new Gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="LruGarbageCollector",DH=1048576;function VI([t,e],[n,r]){const s=st(t,n);return s===0?st(e,r):s}class MH{constructor(e){this.Ir=e,this.buffer=new _n(VI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){we(LI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hd(n)?we(LI,"Ignoring IndexedDB error during garbage collection: ",n):await dd(n)}await this.Vr(3e5)}))}}class LH{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Sy.ce);const r=new MH(n);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(OI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,a,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,a=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,n)))).next((g=>(i=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(h=Date.now(),ou()<=rt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-m}ms
	Determined least recently used ${s} in `+(c-a)+`ms
	Removed ${i} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g}))))}}function VH(t,e){return new LH(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.changes=new mc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Mh(r.mutation,s,Hr.empty(),Lt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,it()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=it()){const s=Ml();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((i=>{let a=bh();return i.forEach(((c,d)=>{a=a.insert(c,d.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ml();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,it())))}populateOverlays(e,n,r){const s=[];return r.forEach((i=>{n.has(i)||s.push(i)})),this.documentOverlayCache.getOverlays(e,s).next((i=>{i.forEach(((a,c)=>{n.set(a,c)}))}))}computeViews(e,n,r,s){let i=Co();const a=Dh(),c=(function(){return Dh()})();return n.forEach(((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof Za)?i=i.insert(h.key,h):m!==void 0?(a.set(h.key,m.mutation.getFieldMask()),Mh(m.mutation,h,m.mutation.getFieldMask(),Lt.now())):a.set(h.key,Hr.empty())})),this.recalculateAndSaveOverlays(e,i).next((d=>(d.forEach(((h,m)=>a.set(h,m))),n.forEach(((h,m)=>c.set(h,new UH(m,a.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Dh();let s=new pn(((a,c)=>a-c)),i=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const c of a)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Hr.empty();m=c.applyToLocalView(h,m),r.set(d,m);const g=(s.get(c.batchId)||it()).add(d);s=s.insert(c.batchId,g)}))})).next((()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,g=E2();m.forEach((v=>{if(!i.has(v)){const _=N2(n.get(v),r.get(v));_!==null&&g.set(v,_),i=i.add(v)}})),a.push(this.documentOverlayCache.saveOverlays(e,h,g))}return se.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return(function(a){return ke.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):se.resolve(Ml());let c=nf,d=i;return a.next((h=>se.forEach(h,((m,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),i.get(m)?se.resolve():this.remoteDocumentCache.getEntry(e,m).next((v=>{d=d.insert(m,v)}))))).next((()=>this.populateOverlays(e,h,i))).next((()=>this.computeViews(e,d,h,it()))).next((m=>({batchId:c,changes:w2(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let s=bh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=bh();return this.indexManager.getCollectionParents(e,i).next((c=>se.forEach(c,(d=>{const h=(function(g,v){return new fd(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,d.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next((m=>{m.forEach(((g,v)=>{a=a.insert(g,v)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s)))).next((a=>{i.forEach(((d,h)=>{const m=h.getKey();a.get(m)===null&&(a=a.insert(m,Zn.newInvalidDocument(m)))}));let c=bh();return a.forEach(((d,h)=>{const m=i.get(d);m!==void 0&&Mh(m.mutation,h,Hr.empty(),Lt.now()),Ay(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:ji(s.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(s){return{name:s.name,query:RH(s.bundledQuery),readTime:ji(s.readTime)}})(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(){this.overlays=new pn(ke.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ml();return se.forEach(n,(s=>this.getOverlay(e,s).next((i=>{i!==null&&r.set(s,i)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,i)=>{this.St(e,n,i)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((i=>this.overlays=this.overlays.remove(i))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const s=Ml(),i=n.length+1,a=new ke(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&d.largestBatchId>r&&s.set(d.getKey(),d)}return se.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pn(((h,m)=>h-m));const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=i.get(h.largestBatchId);m===null&&(m=Ml(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=Ml(),d=i.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=s)););return se.resolve(c)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new aH(n,r));let i=this.qr.get(n);i===void 0&&(i=it(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(){this.sessionToken=Un.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Qr=new _n(In.$r),this.Ur=new _n(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new In(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new In(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ke(new Pt([])),r=new In(n,e),s=new In(n,e+1),i=[];return this.Ur.forEachInRange([r,s],(a=>{this.Gr(a),i.push(a.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new Pt([])),r=new In(n,e),s=new In(n,e+1);let i=it();return this.Ur.forEachInRange([r,s],(a=>{i=i.add(a.key)})),i}containsKey(e){const n=new In(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class In{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||st(e.Yr,n.Yr)}static Kr(e,n){return st(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new _n(In.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new oH(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.Zr=this.Zr.add(new In(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return se.resolve(a)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?wE:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new In(n,0),s=new In(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],(a=>{const c=this.Xr(a.Yr);i.push(c)})),se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _n(st);return n.forEach((s=>{const i=new In(s,0),a=new In(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],(c=>{r=r.add(c.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ke.isDocumentKey(i)||(i=i.child(""));const a=new In(new ke(i),0);let c=new _n(st);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Yr)),!0)}),a),se.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(s=>{const i=new In(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new In(n,0),s=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH{constructor(e){this.ri=e,this.docs=(function(){return new pn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=Co();return n.forEach((s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Zn.newInvalidDocument(s))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Co();const a=n.path,c=new ke(a.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||_7(x7(m),r)<=0||(s.has(m.key)||Ay(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Be(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new GH(this)}getSize(e){return se.resolve(this.size)}}class GH extends FH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(e){this.persistence=e,this.si=new mc((n=>TE(n)),SE),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.oi=0,this._i=new RE,this.targetCount=0,this.ai=Gu.ur()}forEachTarget(e,n){return this.si.forEach(((r,s)=>n(s))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach(((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),se.waitFor(i).next((()=>s))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach((a=>{i.push(s.markPotentiallyOrphaned(e,a))})),se.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sy(0),this.li=!1,this.li=!0,this.hi=new WH,this.referenceDelegate=e(this),this.Pi=new KH(this),this.indexManager=new kH,this.remoteDocumentCache=(function(s){return new HH(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new AH(n),this.Ii=new zH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $H,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new qH(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new YH(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((i=>this.referenceDelegate.di(s).next((()=>i)))).toPromise().then((i=>(s.raiseOnCommittedEvent(),i)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class YH extends E7{constructor(e){super(),this.currentSequenceNumber=e}}class kE{constructor(e){this.persistence=e,this.Ri=new RE,this.Vi=null}static mi(e){return new kE(e)}get fi(){if(this.Vi)return this.Vi;throw Be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((i=>this.fi.add(i.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const s=ke.fromPath(r);return this.gi(e,s).next((i=>{i||n.removeEntry(s,He.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Sg{constructor(e,n){this.persistence=e,this.pi=new mc((r=>S7(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=VH(this,n)}static mi(e,n){return new Sg(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,s)=>this.br(e,r,s).next((i=>i?se.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,(a=>this.br(e,a,n).next((c=>{c||(r++,i.removeEntry(a,He.min()))})))).next((()=>i.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Op(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=it(),s=it();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new jE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return JB()?8:b7(sr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next((a=>{i.result=a})).next((()=>{if(!i.result)return this.ws(e,n,s,r).next((a=>{i.result=a}))})).next((()=>{if(i.result)return;const a=new QH;return this.Ss(e,n,a).next((c=>{if(i.result=c,this.Vs)return this.bs(e,n,a,c.size)}))})).next((()=>i.result))}bs(e,n,r,s){return r.documentReadCount<this.fs?(ou()<=rt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(ou()<=rt.DEBUG&&we("QueryEngine","Query:",au(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ou()<=rt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):se.resolve())}ys(e,n){if(CI(n))return se.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Eg(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((i=>{const a=it(...i);return this.ps.getDocuments(e,a).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,a,d.readTime)?this.ys(e,Eg(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,s){return CI(n)||s.isEqual(He.min())?se.resolve(null):this.ps.getDocuments(e,r).next((i=>{const a=this.Ds(n,i);return this.Cs(n,a,r,s)?se.resolve(null):(ou()<=rt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),au(n)),this.vs(e,a,n,v7(s,nf)).next((c=>c)))}))}Ds(e,n){let r=new _n(x2(e));return n.forEach(((s,i)=>{Ay(e,i)&&(r=r.add(i))})),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ou()<=rt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",au(n)),this.ps.getDocumentsMatchingQuery(e,n,Oa.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((i=>(n.forEach((a=>{i=i.insert(a.key,a)})),i)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="LocalStore",JH=3e8;class ZH{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new pn(st),this.xs=new mc((i=>TE(i)),SE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function eG(t,e,n,r){return new ZH(t,e,n,r)}async function z2(t,e){const n=Ye(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((i=>{const a=[],c=[];let d=it();for(const h of s){a.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of i){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:a,addedBatchIds:c})))}))}))}function tG(t,e){const n=Ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const g=h.batch,v=g.keys();let _=se.resolve();return v.forEach((C=>{_=_.next((()=>m.getEntry(d,C))).next((T=>{const S=h.docVersions.get(C);xt(S!==null,48541),T.version.compareTo(S)<0&&(g.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(n,r,e,i).next((()=>i.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=it();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,s)))}))}function $2(t){const e=Ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function nG(t,e){const n=Ye(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const c=[];e.targetChanges.forEach(((m,g)=>{const v=s.get(g);if(!v)return;c.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(i,m.addedDocuments,g))));let _=v.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(g)!==null?_=_.withResumeToken(Un.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):m.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(m.resumeToken,r)),s=s.insert(g,_),(function(T,S,A){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=JH?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(v,_,m)&&c.push(n.Pi.updateTargetData(i,_))}));let d=Co(),h=it();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))})),c.push(rG(i,a,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(He.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next((g=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r)));c.push(m)}return se.waitFor(c).next((()=>a.apply(i))).next((()=>n.localDocuments.getLocalViewOfDocuments(i,d,h))).next((()=>d))})).then((i=>(n.Ms=s,i)))}function rG(t,e,n){let r=it(),s=it();return n.forEach((i=>r=r.add(i))),e.getEntries(t,r).next((i=>{let a=Co();return n.forEach(((c,d)=>{const h=i.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(He.min())?(e.removeEntry(c,d.readTime),a=a.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),a=a.insert(c,d)):we(DE,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:a,qs:s}}))}function sG(t,e){const n=Ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=wE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function iG(t,e){const n=Ye(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.Pi.getTargetData(r,e).next((i=>i?(s=i,se.resolve(s)):n.Pi.allocateTargetId(r).next((a=>(s=new ba(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Rw(t,e,n){const r=Ye(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,(a=>r.persistence.referenceDelegate.removeTarget(a,s)))}catch(a){if(!hd(a))throw a;we(DE,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function FI(t,e,n){const r=Ye(t);let s=He.min(),i=it();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(d,h,m){const g=Ye(d),v=g.xs.get(m);return v!==void 0?se.resolve(g.Ms.get(v)):g.Pi.getTargetData(h,m)})(r,a,ki(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,c.targetId).next((d=>{i=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(a,e,n?s:He.min(),n?i:it()))).next((c=>(oG(r,W7(e),c),{documents:c,Qs:i})))))}function oG(t,e,n){let r=t.Os.get(e)||He.min();n.forEach(((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)})),t.Os.set(e,r)}class UI{constructor(){this.activeTargetIds=Q7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aG{constructor(){this.Mo=new UI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="ConnectivityMonitor";class zI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){we(BI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){we(BI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function kw(){return gp===null?gp=(function(){return 268435456+Math.round(2147483648*Math.random())})():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="RestConnection",cG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xg?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const a=kw(),c=this.zo(e,n.toUriEncodedString());we(d_,`Sending RPC '${e}' ${a}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,i);const{host:h}=new URL(c),m=Ka(h);return this.Jo(e,c,d,r,m).then((g=>(we(d_,`Received RPC '${e}' ${a}: `,g),g)),(g=>{throw $u(d_,`RPC '${e}' ${a} failed with error: `,g,"url: ",c,"request:",r),g}))}Ho(e,n,r,s,i,a){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ud})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,i)=>e[i]=s)),r&&r.headers.forEach(((s,i)=>e[i]=s))}zo(e,n){const r=cG[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class hG extends uG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const a=kw();return new Promise(((c,d)=>{const h=new Hj;h.setWithCredentials(!0),h.listenOnce(Gj.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Mp.NO_ERROR:const g=h.getResponseJson();we(Qn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),c(g);break;case Mp.TIMEOUT:we(Qn,`RPC '${e}' ${a} timed out`),d(new ve(te.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const v=h.getStatus();if(we(Qn,`RPC '${e}' ${a} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const C=_==null?void 0:_.error;if(C&&C.status&&C.message){const T=(function(A){const k=A.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(k)>=0?k:te.UNKNOWN})(C.status);d(new ve(T,C.message))}else d(new ve(te.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ve(te.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:a,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{we(Qn,`RPC '${e}' ${a} completed.`)}}));const m=JSON.stringify(s);we(Qn,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const s=kw(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Qj(),c=Yj(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=i.join("");we(Qn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const g=a.createWebChannel(m,d);this.I_(g);let v=!1,_=!1;const C=new dG({Yo:S=>{_?we(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(v||(we(Qn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),v=!0),we(Qn,`RPC '${e}' stream ${s} sending:`,S),g.send(S))},Zo:()=>g.close()}),T=(S,A,k)=>{S.listen(A,(N=>{try{k(N)}catch(L){setTimeout((()=>{throw L}),0)}}))};return T(g,Eh.EventType.OPEN,(()=>{_||(we(Qn,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),T(g,Eh.EventType.CLOSE,(()=>{_||(_=!0,we(Qn,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(g))})),T(g,Eh.EventType.ERROR,(S=>{_||(_=!0,$u(Qn,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),C.a_(new ve(te.UNAVAILABLE,"The operation could not be completed")))})),T(g,Eh.EventType.MESSAGE,(S=>{var A;if(!_){const k=S.data[0];xt(!!k,16349);const N=k,L=(N==null?void 0:N.error)||((A=N[0])==null?void 0:A.error);if(L){we(Qn,`RPC '${e}' stream ${s} received error:`,L);const z=L.status;let H=(function(M){const F=dn[M];if(F!==void 0)return A2(F)})(z),j=L.message;H===void 0&&(H=te.INTERNAL,j="Unknown error status: "+z+" with message "+L.message),_=!0,C.a_(new ve(H,j)),g.close()}else we(Qn,`RPC '${e}' stream ${s} received:`,k),C.u_(k)}})),T(c,Kj.STAT_EVENT,(S=>{S.stat===xw.PROXY?we(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===xw.NOPROXY&&we(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function h_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(t){return new gH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="PersistentStream";class q2{constructor(e,n,r,s,i,a,c,d){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(So(n.toString()),So("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new ve(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we($I,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(we($I,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fG extends q2{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xH(this.serializer,e),r=(function(i){if(!("targetChange"in i))return He.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?He.min():a.readTime?ji(a.readTime):He.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Aw(this.serializer),n.addTarget=(function(i,a){let c;const d=a.target;if(c=Sw(d)?{documents:EH(i,d)}:{query:bH(i,d).ft},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=j2(i,a.resumeToken);const h=Iw(i,a.expectedCount);h!==null&&(c.expectedCount=h)}else if(a.snapshotVersion.compareTo(He.min())>0){c.readTime=Tg(i,a.snapshotVersion.toTimestamp());const h=Iw(i,a.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=SH(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Aw(this.serializer),n.removeTarget=e,this.q_(n)}}class mG extends q2{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wH(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Aw(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>_H(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{}class gG extends pG{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Nw(n,r),s,i,a))).catch((i=>{throw i.name==="FirebaseError"?(i.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(te.UNKNOWN,i.toString())}))}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Ho(e,Nw(n,r),s,a,c,i))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(te.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(So(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc="RemoteStore";class vG{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((a=>{r.enqueueAndForget((async()=>{pc(this)&&(we(nc,"Restarting streams for network reachability change."),await(async function(d){const h=Ye(d);h.Ea.add(4),await Df(h),h.Ra.set("Unknown"),h.Ea.delete(4),await My(h)})(this))}))})),this.Ra=new yG(r,s)}}async function My(t){if(pc(t))for(const e of t.da)await e(!0)}async function Df(t){for(const e of t.da)await e(!1)}function H2(t,e){const n=Ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),VE(n)?LE(n):md(n).O_()&&OE(n,e))}function ME(t,e){const n=Ye(t),r=md(n);n.Ia.delete(e),r.O_()&&G2(n,e),n.Ia.size===0&&(r.O_()?r.L_():pc(n)&&n.Ra.set("Unknown"))}function OE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}md(t).Y_(e)}function G2(t,e){t.Va.Ue(e),md(t).Z_(e)}function LE(t){t.Va=new hH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),md(t).start(),t.Ra.ua()}function VE(t){return pc(t)&&!md(t).x_()&&t.Ia.size>0}function pc(t){return Ye(t).Ea.size===0}function K2(t){t.Va=void 0}async function xG(t){t.Ra.set("Online")}async function _G(t){t.Ia.forEach(((e,n)=>{OE(t,e)}))}async function wG(t,e){K2(t),VE(t)?(t.Ra.ha(e),LE(t)):t.Ra.set("Unknown")}async function EG(t,e,n){if(t.Ra.set("Online"),e instanceof k2&&e.state===2&&e.cause)try{await(async function(s,i){const a=i.cause;for(const c of i.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.Ia.delete(c),s.Va.removeTarget(c))})(t,e)}catch(r){we(nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof Fp?t.Va.Ze(e):e instanceof R2?t.Va.st(e):t.Va.tt(e),!n.isEqual(He.min()))try{const r=await $2(t.localStore);n.compareTo(r)>=0&&await(function(i,a){const c=i.Va.Tt(a);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=i.Ia.get(h);m&&i.Ia.set(h,m.withResumeToken(d.resumeToken,a))}})),c.targetMismatches.forEach(((d,h)=>{const m=i.Ia.get(d);if(!m)return;i.Ia.set(d,m.withResumeToken(Un.EMPTY_BYTE_STRING,m.snapshotVersion)),G2(i,d);const g=new ba(m.target,d,h,m.sequenceNumber);OE(i,g)})),i.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){we(nc,"Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!hd(e))throw e;t.Ea.add(1),await Df(t),t.Ra.set("Offline"),n||(n=()=>$2(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(nc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await My(t)}))}function Y2(t,e){return e().catch((n=>Cg(t,n,e)))}async function Oy(t){const e=Ye(t),n=Ua(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wE;for(;bG(e);)try{const s=await sG(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,TG(e,s)}catch(s){await Cg(e,s)}Q2(e)&&X2(e)}function bG(t){return pc(t)&&t.Ta.length<10}function TG(t,e){t.Ta.push(e);const n=Ua(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Q2(t){return pc(t)&&!Ua(t).x_()&&t.Ta.length>0}function X2(t){Ua(t).start()}async function SG(t){Ua(t).ra()}async function CG(t){const e=Ua(t);for(const n of t.Ta)e.ea(n.mutations)}async function IG(t,e,n){const r=t.Ta.shift(),s=NE.from(r,e,n);await Y2(t,(()=>t.remoteSyncer.applySuccessfulWrite(s))),await Oy(t)}async function NG(t,e){e&&Ua(t).X_&&await(async function(r,s){if((function(a){return cH(a)&&a!==te.ABORTED})(s.code)){const i=r.Ta.shift();Ua(r).B_(),await Y2(r,(()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s))),await Oy(r)}})(t,e),Q2(t)&&X2(t)}async function WI(t,e){const n=Ye(t);n.asyncQueue.verifyOperationInProgress(),we(nc,"RemoteStore received new credentials");const r=pc(n);n.Ea.add(3),await Df(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await My(n)}async function PG(t,e){const n=Ye(t);e?(n.Ea.delete(2),await My(n)):e||(n.Ea.add(2),await Df(n),n.Ra.set("Unknown"))}function md(t){return t.ma||(t.ma=(function(n,r,s){const i=Ye(n);return i.sa(),new fG(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:xG.bind(null,t),t_:_G.bind(null,t),r_:wG.bind(null,t),H_:EG.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),VE(t)?LE(t):t.Ra.set("Unknown")):(await t.ma.stop(),K2(t))}))),t.ma}function Ua(t){return t.fa||(t.fa=(function(n,r,s){const i=Ye(n);return i.sa(),new mG(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:SG.bind(null,t),r_:NG.bind(null,t),ta:CG.bind(null,t),na:IG.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Oy(t)):(await t.fa.stop(),t.Ta.length>0&&(we(nc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new FE(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(t,e){if(So("AsyncQueue",`${e}: ${t}`),hd(t))return new ve(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{static emptySet(e){return new Tu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=bh(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.ga=new pn(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Ku{constructor(e,n,r,s,i,a,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach((c=>{a.push({type:0,doc:c})})),new Ku(e,n,Tu.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Py(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class RG{constructor(){this.queries=HI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ye(n),i=s.queries;s.queries=HI(),i.forEach(((a,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new ve(te.ABORTED,"Firestore shutting down"))}}function HI(){return new mc((t=>v2(t)),Py)}async function BE(t,e){const n=Ye(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new AG,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=UE(a,`Initialization of query '${au(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&$E(n)}async function zE(t,e){const n=Ye(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kG(t,e){const n=Ye(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.Sa)c.Fa(s)&&(r=!0);a.wa=s}}r&&$E(n)}function jG(t,e,n){const r=Ye(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function $E(t){t.Ca.forEach((e=>{e.next()}))}var jw,GI;(GI=jw||(jw={})).Ma="default",GI.Cache="cache";class WE{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class DG{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=it(),this.mutatedKeys=it(),this.eu=x2(e),this.tu=new Tu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qI,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((m,g)=>{const v=s.get(m),_=Ay(this.query,g)?g:null,C=!!v&&this.mutatedKeys.has(v.key),T=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let S=!1;v&&_?v.data.isEqual(_.data)?C!==T&&(r.track({type:3,doc:_}),S=!0):this.su(v,_)||(r.track({type:2,doc:_}),S=!0,(d&&this.eu(_,d)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),S=!0):v&&!_&&(r.track({type:1,doc:v}),S=!0,(d||h)&&(c=!0)),S&&(_?(a=a.add(_),i=T?i.add(m):i.delete(m)):(a=a.delete(m),i=i.delete(m)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const m=this.query.limitType==="F"?a.last():a.first();a=a.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:a,iu:r,Cs:c,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((m,g)=>(function(_,C){const T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Rt:S})}};return T(_)-T(C)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,h=d!==this.Za;return this.Za=d,a.length!==0||h?{snapshot:new Ku(this.query,e.tu,i,a,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=it(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Z2(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new J2(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=it();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ku.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qE="SyncEngine";class MG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OG{constructor(e){this.key=e,this.hu=!1}}class LG{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mc((c=>v2(c)),Py),this.Iu=new Map,this.Eu=new Set,this.du=new pn(ke.comparator),this.Au=new Map,this.Ru=new RE,this.Vu={},this.mu=new Map,this.fu=Gu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VG(t,e,n=!0){const r=iD(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await eD(r,e,n,!0),s}async function FG(t,e){const n=iD(t);await eD(n,e,!0,!1)}async function eD(t,e,n,r){const s=await iG(t.localStore,ki(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await UG(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&H2(t.remoteStore,s),c}async function UG(t,e,n,r,s){t.pu=(g,v,_)=>(async function(T,S,A,k){let N=S.view.ru(A);N.Cs&&(N=await FI(T.localStore,S.query,!1).then((({documents:j})=>S.view.ru(j,N))));const L=k&&k.targetChanges.get(S.targetId),z=k&&k.targetMismatches.get(S.targetId)!=null,H=S.view.applyChanges(N,T.isPrimaryClient,L,z);return YI(T,S.targetId,H.au),H.snapshot})(t,g,v,_);const i=await FI(t.localStore,e,!0),a=new DG(e,i.Qs),c=a.ru(i.documents),d=jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=a.applyChanges(c,t.isPrimaryClient,d);YI(t,n,h.au);const m=new MG(e,n,a);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function BG(t,e,n){const r=Ye(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter((a=>!Py(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Rw(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ME(r.remoteStore,s.targetId),Dw(r,s.targetId)})).catch(dd)):(Dw(r,s.targetId),await Rw(r.localStore,s.targetId,!0))}async function zG(t,e){const n=Ye(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ME(n.remoteStore,r.targetId))}async function $G(t,e,n){const r=QG(t);try{const s=await(function(a,c){const d=Ye(a),h=Lt.now(),m=c.reduce(((_,C)=>_.add(C.key)),it());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let C=Co(),T=it();return d.Ns.getEntries(_,m).next((S=>{C=S,C.forEach(((A,k)=>{k.isValidDocument()||(T=T.add(A))}))})).next((()=>d.localDocuments.getOverlayedDocuments(_,C))).next((S=>{g=S;const A=[];for(const k of c){const N=sH(k,g.get(k.key).overlayedDocument);N!=null&&A.push(new Za(k.key,N,u2(N.value.mapValue),ys.exists(!0)))}return d.mutationQueue.addMutationBatch(_,h,A,c)})).next((S=>{v=S;const A=S.applyToLocalDocumentSet(g,T);return d.documentOverlayCache.saveOverlays(_,S.batchId,A)}))})).then((()=>({batchId:v.batchId,changes:w2(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(a,c,d){let h=a.Vu[a.currentUser.toKey()];h||(h=new pn(st)),h=h.insert(c,d),a.Vu[a.currentUser.toKey()]=h})(r,s.batchId,n),await Mf(r,s.changes),await Oy(r.remoteStore)}catch(s){const i=UE(s,"Failed to persist write");n.reject(i)}}async function tD(t,e){const n=Ye(t);try{const r=await nG(n.localStore,e);e.targetChanges.forEach(((s,i)=>{const a=n.Au.get(i);a&&(xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?a.hu=!0:s.modifiedDocuments.size>0?xt(a.hu,14607):s.removedDocuments.size>0&&(xt(a.hu,42227),a.hu=!1))})),await Mf(n,r,e)}catch(r){await dd(r)}}function KI(t,e,n){const r=Ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((i,a)=>{const c=a.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(a,c){const d=Ye(a);d.onlineState=c;let h=!1;d.queries.forEach(((m,g)=>{for(const v of g.Sa)v.va(c)&&(h=!0)})),h&&$E(d)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WG(t,e,n){const r=Ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let a=new pn(ke.comparator);a=a.insert(i,Zn.newNoDocument(i,He.min()));const c=it().add(i),d=new jy(He.min(),new Map,new pn(st),a,c);await tD(r,d),r.du=r.du.remove(i),r.Au.delete(e),HE(r)}else await Rw(r.localStore,e,!1).then((()=>Dw(r,e,n))).catch(dd)}async function qG(t,e){const n=Ye(t),r=e.batch.batchId;try{const s=await tG(n.localStore,e);rD(n,r,null),nD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,s)}catch(s){await dd(s)}}async function HG(t,e,n){const r=Ye(t);try{const s=await(function(a,c){const d=Ye(a);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((g=>(xt(g!==null,37113),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);rD(r,e,n),nD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,s)}catch(s){await dd(s)}}function nD(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function rD(t,e,n){const r=Ye(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Dw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sD(t,r)}))}function sD(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(ME(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HE(t))}function YI(t,e,n){for(const r of n)r instanceof J2?(t.Ru.addReference(r.key,e),GG(t,r)):r instanceof Z2?(we(qE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sD(t,r.key)):Be(19791,{wu:r})}function GG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(we(qE,"New document in limbo: "+n),t.Eu.add(r),HE(t))}function HE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(Pt.fromString(e)),r=t.fu.next();t.Au.set(r,new OG(n)),t.du=t.du.insert(n,r),H2(t.remoteStore,new ba(ki(Ny(n.path)),r,"TargetPurposeLimboResolution",Sy.ce))}}async function Mf(t,e,n){const r=Ye(t),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{a.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){s.push(h);const g=jE.As(d.targetId,h);i.push(g)}})))})),await Promise.all(a),r.Pu.H_(s),await(async function(d,h){const m=Ye(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>se.forEach(h,(v=>se.forEach(v.Es,(_=>m.persistence.referenceDelegate.addReference(g,v.targetId,_))).next((()=>se.forEach(v.ds,(_=>m.persistence.referenceDelegate.removeReference(g,v.targetId,_)))))))))}catch(g){if(!hd(g))throw g;we(DE,"Failed to update sequence numbers: "+g)}for(const g of h){const v=g.targetId;if(!g.fromCache){const _=m.Ms.get(v),C=_.snapshotVersion,T=_.withLastLimboFreeSnapshotVersion(C);m.Ms=m.Ms.insert(v,T)}}})(r.localStore,i))}async function KG(t,e){const n=Ye(t);if(!n.currentUser.isEqual(e)){we(qE,"User change. New user:",e.toKey());const r=await z2(n.localStore,e);n.currentUser=e,(function(i,a){i.mu.forEach((c=>{c.forEach((d=>{d.reject(new ve(te.CANCELLED,a))}))})),i.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.Ls)}}function YG(t,e){const n=Ye(t),r=n.Au.get(e);if(r&&r.hu)return it().add(r.key);{let s=it();const i=n.Iu.get(e);if(!i)return s;for(const a of i){const c=n.Tu.get(a);s=s.unionWith(c.view.nu)}return s}}function iD(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WG.bind(null,e),e.Pu.H_=kG.bind(null,e.eventManager),e.Pu.yu=jG.bind(null,e.eventManager),e}function QG(t){const e=Ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HG.bind(null,e),e}class Ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return eG(this.persistence,new XH,e.initialUser,this.serializer)}Cu(e){return new B2(kE.mi,this.serializer)}Du(e){return new aG}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ig.provider={build:()=>new Ig};class XG extends Ig{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xt(this.persistence.referenceDelegate instanceof Sg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?br.withCacheSize(this.cacheSizeBytes):br.DEFAULT;return new B2((r=>Sg.mi(r,n)),this.serializer)}}class Mw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KG.bind(null,this.syncEngine),await PG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RG})()}createDatastore(e){const n=Dy(e.databaseInfo.databaseId),r=(function(i){return new hG(i)})(e.databaseInfo);return(function(i,a,c,d){return new gG(i,a,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,i,a,c){return new vG(r,s,i,a,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>KI(this.syncEngine,n,0)),(function(){return zI.v()?new zI:new lG})())}createSyncEngine(e,n){return(function(s,i,a,c,d,h,m){const g=new LG(s,i,a,c,d,h);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const i=Ye(s);we(nc,"RemoteStore shutting down."),i.Ea.add(5),await Df(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Mw.provider={build:()=>new Mw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):So("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class JG{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jn.UNAUTHENTICATED,this.clientId=_E.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,(async a=>{we(Ba,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(we(Ba,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=UE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function f_(t,e){t.asyncQueue.verifyOperationInProgress(),we(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await z2(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZG(t);we(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>WI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>WI(e.remoteStore,s))),t._onlineComponents=e}async function ZG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Ba,"Using user provided OfflineComponentProvider");try{await f_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;$u("Error using user provided cache. Falling back to memory cache: "+n),await f_(t,new Ig)}}else we(Ba,"Using default OfflineComponentProvider"),await f_(t,new XG(void 0));return t._offlineComponents}async function oD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Ba,"Using user provided OnlineComponentProvider"),await QI(t,t._uninitializedComponentsProvider._online)):(we(Ba,"Using default OnlineComponentProvider"),await QI(t,new Mw))),t._onlineComponents}function eK(t){return oD(t).then((e=>e.syncEngine))}async function Ng(t){const e=await oD(t),n=e.eventManager;return n.onListen=VG.bind(null,e.syncEngine),n.onUnlisten=BG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zG.bind(null,e.syncEngine),n}function tK(t,e,n={}){const r=new vo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,d,h){const m=new GE({next:v=>{m.Nu(),a.enqueueAndForget((()=>zE(i,g)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new ve(te.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&d&&d.source==="server"?h.reject(new ve(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new WE(Ny(c.path),m,{includeMetadataChanges:!0,qa:!0});return BE(i,g)})(await Ng(t),t.asyncQueue,e,n,r))),r.promise}function nK(t,e,n={}){const r=new vo;return t.asyncQueue.enqueueAndForget((async()=>(function(i,a,c,d,h){const m=new GE({next:v=>{m.Nu(),a.enqueueAndForget((()=>zE(i,g))),v.fromCache&&d.source==="server"?h.reject(new ve(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(v)},error:v=>h.reject(v)}),g=new WE(c,m,{includeMetadataChanges:!0,qa:!0});return BE(i,g)})(await Ng(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="firestore.googleapis.com",JI=!0;class ZI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lD,this.ssl=JI}else this.host=e.host,this.ssl=e.ssl??JI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DH)throw new ve(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aD(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ly{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new o7;switch(r.type){case"firstParty":return new u7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=XI.get(n);r&&(we("ComponentProvider","Removing Datastore"),XI.delete(n),r.terminate())})(this),Promise.resolve()}}function rK(t,e,n,r={}){var h;t=Ar(t,Ly);const s=Ka(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(tE(`https://${c}`),nE("Firestore",!0)),i.host!==lD&&i.host!==c&&$u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...i,host:c,ssl:s,emulatorOptions:r};if(!Eo(d,a)&&(t._setSettings(d),r.mockUserToken)){let m,g;if(typeof r.mockUserToken=="string")m=r.mockUserToken,g=Jn.MOCK_USER;else{m=kk(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jn(v)}t._authCredentials=new a7(new Jj(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rf(n,tn._jsonSchema))return new tn(e,r||null,new ke(Pt.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:mn("string",tn._jsonSchemaVersion),referencePath:mn("string")};class Aa extends Mo{constructor(e,n,r){super(e,n,Ny(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new ke(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function on(t,e,...n){if(t=qt(t),Zj("collection","path",e),t instanceof Ly){const r=Pt.fromString(e,...n);return hI(r),new Aa(t,null,r)}{if(!(t instanceof tn||t instanceof Aa))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return hI(r),new Aa(t.firestore,null,r)}}function Bi(t,e,...n){if(t=qt(t),arguments.length===1&&(e=_E.newId()),Zj("doc","path",e),t instanceof Ly){const r=Pt.fromString(e,...n);return dI(r),new tn(t,null,new ke(r))}{if(!(t instanceof tn||t instanceof Aa))throw new ve(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return dI(r),new tn(t.firestore,t instanceof Aa?t.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="AsyncQueue";class tN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W2(this,"async_queue_retry"),this._c=()=>{const r=h_();r&&we(eN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=h_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=h_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hd(e))throw e;we(eN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,So("INTERNAL UNHANDLED ERROR: ",nN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=FE.createAndSchedule(this,e,n,r,(i=>this.hc(i)));return this.tc.push(s),s}uc(){this.nc&&Be(47125,{Pc:nN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1})(t,["next","error","complete"])}class Io extends Ly{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tN,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tN(e),this._firestoreClient=void 0,await e}}}function sK(t,e){const n=typeof t=="object"?t:vy(),r=typeof t=="string"?t:xg,s=Ya(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Pk("firestore");i&&rK(s,...i)}return s}function Vy(t){if(t._terminated)throw new ve(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iK(t),t._firestoreClient}function iK(t){var r,s,i;const e=t._freezeSettings(),n=(function(c,d,h,m){return new N7(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,aD(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new JG(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hs(Un.fromBase64String(e))}catch(n){throw new ve(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hs(Un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rf(e,hs._jsonSchema))return hs.fromBase64String(e.bytes)}}hs._jsonSchemaVersion="firestore/bytes/1.0",hs._jsonSchema={type:mn("string",hs._jsonSchemaVersion),bytes:mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(Rf(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:mn("string",Di._jsonSchemaVersion),latitude:mn("number"),longitude:mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rf(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Mi(e.vectorValues);throw new ve(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:mn("string",Mi._jsonSchemaVersion),vectorValues:mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=/^__.*__$/;class aK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Za(e,this.data,this.fieldMask,n,this.fieldTransforms):new kf(e,this.data,n,this.fieldTransforms)}}class cD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Za(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{Ac:t})}}class KE{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new KE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Pg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uD(this.Ac)&&oK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dy(e)}Cc(e,n,r,s=!1){return new KE({Ac:e,methodName:n,Dc:r,path:Ln.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function By(t){const e=t._freezeSettings(),n=Dy(t._databaseId);return new lK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dD(t,e,n,r,s,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);QE("Data must be an object, but it was:",a,r);const c=hD(r,a);let d,h;if(i.merge)d=new Hr(a.fieldMask),h=a.fieldTransforms;else if(i.mergeFields){const m=[];for(const g of i.mergeFields){const v=Ow(e,g,n);if(!a.contains(v))throw new ve(te.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mD(m,v)||m.push(v)}d=new Hr(m),h=a.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,h=a.fieldTransforms;return new aK(new Cr(c),d,h)}class zy extends Uy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zy}}class YE extends Uy{_toFieldTransform(e){return new eH(e.path,new lf)}isEqual(e){return e instanceof YE}}function cK(t,e,n,r){const s=t.Cc(1,e,n);QE("Data must be an object, but it was:",s,r);const i=[],a=Cr.empty();Ja(r,((d,h)=>{const m=XE(e,d,n);h=qt(h);const g=s.yc(m);if(h instanceof zy)i.push(m);else{const v=Of(h,g);v!=null&&(i.push(m),a.set(m,v))}}));const c=new Hr(i);return new cD(a,c,s.fieldTransforms)}function uK(t,e,n,r,s,i){const a=t.Cc(1,e,n),c=[Ow(e,r,n)],d=[s];if(i.length%2!=0)throw new ve(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<i.length;v+=2)c.push(Ow(e,i[v])),d.push(i[v+1]);const h=[],m=Cr.empty();for(let v=c.length-1;v>=0;--v)if(!mD(h,c[v])){const _=c[v];let C=d[v];C=qt(C);const T=a.yc(_);if(C instanceof zy)h.push(_);else{const S=Of(C,T);S!=null&&(h.push(_),m.set(_,S))}}const g=new Hr(h);return new cD(m,g,a.fieldTransforms)}function dK(t,e,n,r=!1){return Of(n,t.Cc(r?4:3,e))}function Of(t,e){if(fD(t=qt(t)))return QE("Unsupported field value:",e,t),hD(t,e);if(t instanceof Uy)return(function(r,s){if(!uD(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const i=[];let a=0;for(const c of r){let d=Of(c,s.wc(a));d==null&&(d={nullValue:"NULL_VALUE"}),i.push(d),a++}return{arrayValue:{values:i}}})(t,e)}return(function(r,s){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Lt.fromDate(r);return{timestampValue:Tg(s.serializer,i)}}if(r instanceof Lt){const i=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tg(s.serializer,i)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hs)return{bytesValue:j2(s.serializer,r._byteString)};if(r instanceof tn){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:AE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mi)return(function(a,c){return{mapValue:{fields:{[l2]:{stringValue:c2},[_g]:{arrayValue:{values:a.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return CE(c.serializer,h)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Ty(r)}`)})(t,e)}function hD(t,e){const n={};return n2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,((r,s)=>{const i=Of(s,e.mc(r));i!=null&&(n[r]=i)})),{mapValue:{fields:n}}}function fD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof Di||t instanceof hs||t instanceof tn||t instanceof Uy||t instanceof Mi)}function QE(t,e,n){if(!fD(n)||!e2(n)){const r=Ty(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ow(t,e,n){if((e=qt(e))instanceof Fy)return e._internalPath;if(typeof e=="string")return XE(t,e);throw Pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const hK=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(hK)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fy(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pg(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(i||a)&&(d+=" (found",i&&(d+=` in field ${r}`),a&&(d+=` in document ${s}`),d+=")"),new ve(te.INVALID_ARGUMENT,c+t+d)}function mD(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($y("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fK extends pD{data(){return super.data()}}function $y(t,e){return typeof e=="string"?XE(t,e):e instanceof Fy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JE{}class ZE extends JE{}function dr(t,e,...n){let r=[];e instanceof JE&&r.push(e),r=r.concat(n),(function(i){const a=i.filter((d=>d instanceof eb)).length,c=i.filter((d=>d instanceof Wy)).length;if(a>1||a>0&&c>0)throw new ve(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)t=s._apply(t);return t}class Wy extends ZE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wy(e,n,r)}_apply(e){const n=this._parse(e);return yD(e._query,n),new Mo(e.firestore,e.converter,Cw(e._query,n))}_parse(e){const n=By(e.firestore);return(function(i,a,c,d,h,m,g){let v;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){iN(g,m);const C=[];for(const T of g)C.push(sN(d,i,T));v={arrayValue:{values:C}}}else v=sN(d,i,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||iN(g,m),v=dK(c,a,g,m==="in"||m==="not-in");return fn.create(h,m,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function po(t,e,n){const r=e,s=$y("where",t);return Wy._create(s,r,n)}class eb extends JE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eb(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(s,i){let a=s;const c=i.getFlattenedFilters();for(const d of c)yD(a,d),a=Cw(a,d)})(e._query,n),new Mo(e.firestore,e.converter,Cw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tb extends ZE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tb(e,n)}_apply(e){const n=(function(s,i,a){if(s.startAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new af(i,a)})(e._query,this._field,this._direction);return new Mo(e.firestore,e.converter,(function(s,i){const a=s.explicitOrderBy.concat([i]);return new fd(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,n))}}function zi(t,e="asc"){const n=e,r=$y("orderBy",t);return tb._create(r,n)}class nb extends ZE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new nb(e,n,r)}_apply(e){return new Mo(e.firestore,e.converter,Eg(e._query,this._limit,this._limitType))}}function Lw(t){return y7("limit",t),nb._create("limit",t,"F")}function sN(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ve(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y2(e)&&n.indexOf("/")!==-1)throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!ke.isDocumentKey(r))throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _I(t,new ke(r))}if(n instanceof tn)return _I(t,n._key);throw new ve(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ty(n)}.`)}function iN(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yD(t,e){const n=(function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mK{convertValue(e,n="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ja(e,((s,i)=>{r[s]=this.convertValue(i,n)})),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[_g].arrayValue)==null?void 0:s.values)==null?void 0:i.map((a=>sn(a.doubleValue)));return new Mi(n)}convertGeoPoint(e){return new Di(sn(e.latitude),sn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Iy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=La(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);xt(F2(r),9688,{name:e});const s=new sf(r.get(1),r.get(3)),i=new ke(r.popFirst(5));return s.isEqual(n)||So(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Sh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ql extends pD{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($y("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ql._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ql._jsonSchemaVersion="firestore/documentSnapshot/1.0",ql._jsonSchema={type:mn("string",ql._jsonSchemaVersion),bundleSource:mn("string","DocumentSnapshot"),bundleName:mn("string"),bundle:mn("string")};class Up extends ql{data(e={}){return super.data(e)}}class Hl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Up(this._firestore,this._userDataWriter,r.key,r,new Sh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map((c=>{const d=new Up(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:a++}}))}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>i||c.type!==3)).map((c=>{const d=new Up(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Sh(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),m=a.indexOf(c.doc.key)),{type:pK(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_E.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){t=Ar(t,tn);const e=Ar(t.firestore,Io);return tK(Vy(e),t._key).then((n=>wD(e,t,n)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:mn("string",Hl._jsonSchemaVersion),bundleSource:mn("string","QuerySnapshot"),bundleName:mn("string"),bundle:mn("string")};class rb extends mK{constructor(e){super(),this.firestore=e}convertBytes(e){return new hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Ra(t){t=Ar(t,Mo);const e=Ar(t.firestore,Io),n=Vy(e),r=new rb(e);return gD(t._query),nK(n,t._query).then((s=>new Hl(e,r,t,s)))}function gK(t,e,n){t=Ar(t,tn);const r=Ar(t.firestore,Io),s=vD(t.converter,e);return Gy(r,[dD(By(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ys.none())])}function qy(t,e,n,...r){t=Ar(t,tn);const s=Ar(t.firestore,Io),i=By(s);let a;return a=typeof(e=qt(e))=="string"||e instanceof Fy?uK(i,"updateDoc",t._key,e,n,r):cK(i,"updateDoc",t._key,e),Gy(s,[a.toMutation(t._key,ys.exists(!0))])}function _D(t){return Gy(Ar(t.firestore,Io),[new IE(t._key,ys.none())])}function Hy(t,e){const n=Ar(t.firestore,Io),r=Bi(t),s=vD(t.converter,e);return Gy(n,[dD(By(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ys.exists(!1))]).then((()=>r))}function ho(t,...e){var d,h,m;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||rN(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rN(e[r])){const g=e[r];e[r]=(d=g.next)==null?void 0:d.bind(g),e[r+1]=(h=g.error)==null?void 0:h.bind(g),e[r+2]=(m=g.complete)==null?void 0:m.bind(g)}let i,a,c;if(t instanceof tn)a=Ar(t.firestore,Io),c=Ny(t._key.path),i={next:g=>{e[r]&&e[r](wD(a,t,g))},error:e[r+1],complete:e[r+2]};else{const g=Ar(t,Mo);a=Ar(g.firestore,Io),c=g._query;const v=new rb(a);i={next:_=>{e[r]&&e[r](new Hl(a,v,g,_))},error:e[r+1],complete:e[r+2]},gD(t._query)}return(function(v,_,C,T){const S=new GE(T),A=new WE(_,S,C);return v.asyncQueue.enqueueAndForget((async()=>BE(await Ng(v),A))),()=>{S.Nu(),v.asyncQueue.enqueueAndForget((async()=>zE(await Ng(v),A)))}})(Vy(a),c,s,i)}function Gy(t,e){return(function(r,s){const i=new vo;return r.asyncQueue.enqueueAndForget((async()=>$G(await eK(r),s,i))),i.promise})(Vy(t),e)}function wD(t,e,n){const r=n.docs.get(e._key),s=new rb(t);return new ql(t,s,e._key,r,new Sh(n.hasPendingWrites,n.fromCache),e.converter)}function Bp(){return new YE("serverTimestamp")}(function(e,n=!0){(function(s){ud=s})(hc),qs(new _s("firestore",((r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new Io(new l7(r.getProvider("auth-internal")),new d7(a,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(h.options.projectId,m)})(a,s),a);return i={useFetchStreams:n,...i},c._setSettings(i),c}),"PUBLIC").setMultipleInstances(!0)),Pr(aI,lI,e),Pr(aI,lI,"esm2020")})();var oN={};const aN="@firebase/database",lN="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ED="";function yK(t){ED=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vK{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),On(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Jh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Do(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vK(e)}}catch{}return new xK},Ol=bD("localStorage"),_K=bD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new Cf("@firebase/database"),wK=(function(){let t=1;return function(){return t++}})(),TD=function(t){const e=uz(t),n=new iz;n.update(e);const r=n.digest();return Z0.encodeByteArray(r)},Lf=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Lf.apply(null,r):typeof r=="object"?e+=On(r):e+=r,e+=" "}return e};let Oh=null,cN=!0;const EK=function(t,e){ye(!0,"Can't turn on custom loggers persistently."),Su.logLevel=rt.VERBOSE,Oh=Su.log.bind(Su)},er=function(...t){if(cN===!0&&(cN=!1,Oh===null&&_K.get("logging_enabled")===!0&&EK()),Oh){const e=Lf.apply(null,t);Oh(e)}},Vf=function(t){return function(...e){er(t,...e)}},Vw=function(...t){const e="FIREBASE INTERNAL ERROR: "+Lf(...t);Su.error(e)},No=function(...t){const e=`FIREBASE FATAL ERROR: ${Lf(...t)}`;throw Su.error(e),new Error(e)},Xr=function(...t){const e="FIREBASE WARNING: "+Lf(...t);Su.warn(e)},bK=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Xr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},TK=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yu="[MIN_NAME]",rc="[MAX_NAME]",pd=function(t,e){if(t===e)return 0;if(t===Yu||e===rc)return-1;if(e===Yu||t===rc)return 1;{const n=uN(t),r=uN(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},SK=function(t,e){return t===e?0:t<e?-1:1},ph=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+On(e))},sb=function(t){if(typeof t!="object"||t===null)return On(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=On(e[r]),n+=":",n+=sb(t[e[r]]);return n+="}",n},CD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function ws(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ID=function(t){ye(!SD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,a,c,d;t===0?(i=0,a=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(i=0,a=Math.round(t/Math.pow(2,1-r-n))));const h=[];for(d=n;d;d-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(d=e;d;d-=1)h.push(i%2?1:0),i=Math.floor(i/2);h.push(s?1:0),h.reverse();const m=h.join("");let g="";for(d=0;d<64;d+=8){let v=parseInt(m.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),g=g+v}return g.toLowerCase()},CK=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},IK=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},NK=new RegExp("^-?(0*)\\d{1,10}$"),PK=-2147483648,AK=2147483647,uN=function(t){if(NK.test(t)){const e=Number(t);if(e>=PK&&e<=AK)return e}return null},Ff=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Xr("Exception was thrown by user callback.",n),e},Math.floor(0))}},RK=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Lh=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,qr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Xr(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(er("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xr(e)}}class zp{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zp.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="5",ND="v",PD="s",AD="r",RD="f",kD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jD="ls",DD="p",Fw="ac",MD="websocket",OD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,s,i=!1,a="",c=!1,d=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this.emulatorOptions=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ol.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ol.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function DK(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function VD(t,e,n){ye(typeof e=="string","typeof type must == string"),ye(typeof n=="object","typeof params must == object");let r;if(e===MD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===OD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);DK(t)&&(n.ns=t.namespace);const s=[];return ws(n,(i,a)=>{s.push(i+"="+a)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.counters_={}}incrementCounter(e,n=1){Do(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UB(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_={},p_={};function ob(t){const e=t.toString();return m_[e]||(m_[e]=new MK),m_[e]}function OK(t,e){const n=t.toString();return p_[n]||(p_[n]=e()),p_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Ff(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="start",VK="close",FK="pLPCommand",UK="pRTLPCB",FD="id",UD="pw",BD="ser",BK="cb",zK="seg",$K="ts",WK="d",qK="dframe",zD=1870,$D=30,HK=zD-$D,GK=25e3,KK=3e4;class du{constructor(e,n,r,s,i,a,c){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vf(e),this.stats_=ob(n),this.urlFn=d=>(this.appCheckToken&&(d[Fw]=this.appCheckToken),VD(n,OD,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new LK(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(KK)),TK(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ab((...i)=>{const[a,c,d,h,m]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===dN)this.id=c,this.password=d;else if(a===VK)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...i)=>{const[a,c]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[dN]="t",r[BD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[BK]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ND]=ib,this.transportSessionId&&(r[PD]=this.transportSessionId),this.lastSessionId&&(r[jD]=this.lastSessionId),this.applicationId&&(r[DD]=this.applicationId),this.appCheckToken&&(r[Fw]=this.appCheckToken),typeof location<"u"&&location.hostname&&kD.test(location.hostname)&&(r[AD]=RD);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){du.forceAllow_=!0}static forceDisallow(){du.forceDisallow_=!0}static isAvailable(){return du.forceAllow_?!0:!du.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CK()&&!IK()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=On(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ck(n),s=CD(r,HK);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[qK]="t",r[FD]=e,r[UD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=On(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ab{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wK(),window[FK+this.uniqueCallbackIdentifier]=e,window[UK+this.uniqueCallbackIdentifier]=n,this.myIFrame=ab.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){er("frame writing exception"),c.stack&&er(c.stack),er(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||er("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[FD]=this.myID,e[UD]=this.myPW,e[BD]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$D+r.length<=zD;){const a=this.pendingSegs.shift();r=r+"&"+zK+s+"="+a.seg+"&"+$K+s+"="+a.ts+"&"+WK+s+"="+a.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(GK)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{er("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=16384,QK=45e3;let Ag=null;typeof MozWebSocket<"u"?Ag=MozWebSocket:typeof WebSocket<"u"&&(Ag=WebSocket);class Fs{constructor(e,n,r,s,i,a,c){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vf(this.connId),this.stats_=ob(n),this.connURL=Fs.connectionURL_(n,a,c,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const a={};return a[ND]=ib,typeof location<"u"&&location.hostname&&kD.test(location.hostname)&&(a[AD]=RD),n&&(a[PD]=n),r&&(a[jD]=r),s&&(a[Fw]=s),i&&(a[DD]=i),VD(e,MD,a)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ol.set("previous_websocket_failure",!0);try{let r;XB(),this.mySock=new Ag(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Fs.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ag!==null&&!Fs.forceDisallow_}static previouslyFailed(){return Ol.isInMemoryStorage||Ol.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ol.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Jh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ye(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=On(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=CD(n,YK);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QK))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Fs.responsesRequiredToBeHealthy=2;Fs.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{static get ALL_TRANSPORTS(){return[du,Fs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Fs&&Fs.isAvailable();let r=n&&!Fs.previouslyFailed();if(e.webSocketOnly&&(n||Xr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fs];else{const s=this.transports_=[];for(const i of df.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);df.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}df.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK=6e4,JK=5e3,ZK=10*1024,eY=100*1024,g_="t",hN="d",tY="s",fN="r",nY="e",mN="o",pN="a",gN="n",yN="p",rY="h";class sY{constructor(e,n,r,s,i,a,c,d,h,m){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=d,this.onKill_=h,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vf("c:"+this.id+":"),this.transportManager_=new df(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Lh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eY?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZK?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(g_ in e){const n=e[g_];n===pN?this.upgradeIfSecondaryHealthy_():n===fN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ph("t",e),r=ph("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:yN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ph("t",e),r=ph("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ph(g_,e);if(hN in e){const r=e[hN];if(n===rY){const s={...r};this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===gN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tY?this.onConnectionShutdown_(r):n===fN?this.onReset_(r):n===nY?Vw("Server Error: "+r):n===mN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ib!==r&&Xr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Lh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XK))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Lh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(JK))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:yN,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ol.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.allowedEvents_=e,this.listeners_={},ye(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){ye(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends qD{static getInstance(){return new Rg}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ye(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=32,xN=768;class Vt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function bt(){return new Vt("")}function ct(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function za(t){return t.pieces_.length-t.pieceNum_}function Ot(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Vt(t.pieces_,e)}function HD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function iY(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function GD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function KD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Vt(e,0)}function Pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Vt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Vt(n,0)}function at(t){return t.pieceNum_>=t.pieces_.length}function fs(t,e){const n=ct(t),r=ct(e);if(n===null)return e;if(n===r)return fs(Ot(t),Ot(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function YD(t,e){if(za(t)!==za(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Bs(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(za(t)>za(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oY{constructor(e,n){this.errorPrefix_=n,this.parts_=GD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yy(this.parts_[r]);QD(this)}}function aY(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yy(e),QD(t)}function lY(t){const e=t.parts_.pop();t.byteLength_-=yy(e),t.parts_.length>0&&(t.byteLength_-=1)}function QD(t){if(t.byteLength_>xN)throw new Error(t.errorPrefix_+"has a key path longer than "+xN+" bytes ("+t.byteLength_+").");if(t.parts_.length>vN)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vN+") or object contains a cycle "+Rl(t))}function Rl(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb extends qD{static getInstance(){return new lb}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ye(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=1e3,cY=300*1e3,_N=30*1e3,uY=1.3,dY=3e4,hY="server_kill",wN=3;class xo extends WD{constructor(e,n,r,s,i,a,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=xo.nextPersistentConnectionId_++,this.log_=Vf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gh,this.maxReconnectDelay_=cY,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lb.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rg.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(On(i)),ye(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new eE,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const c=a.d;a.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ye(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(a).set(i,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},a="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(a,i,c=>{const d=c.d,h=c.s;xo.warnOnListenWarnings_(d,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(h,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Do(e,"w")){const r=zu(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Xr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||sz(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_N)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=rz(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,a=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),ye(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},a="n";s&&(i.q=r,i.t=s),this.sendRequest(a,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const a={p:n,d:r};i!==void 0&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+On(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Vw("Unrecognized action received from server: "+On(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ye(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gh,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gh,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dY&&(this.reconnectDelay_=gh),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uY)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+xo.nextConnectionId_++,i=this.lastSessionId;let a=!1,c=null;const d=function(){c?c.close():(a=!0,r())},h=function(g){ye(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(g)};this.realtime_={close:d,sendRequest:h};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[g,v]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);a?er("getToken() completed but was canceled"):(er("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=v&&v.token,c=new sY(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,_=>{Xr(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(hY)},i))}catch(g){this.log_("Failed to get token: "+g),a||(this.repoInfo_.nodeAdmin&&Xr(g),d())}}}interrupt(e){er("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){er("Resuming connection for reason: "+e),delete this.interruptReasons_[e],lw(this.interruptReasons_)&&(this.reconnectDelay_=gh,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>sb(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Vt(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){er("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wN&&(this.reconnectDelay_=_N,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){er("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wN&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ED.replace(/\./g,"-")]=1,rE()?e["framework.cordova"]=1:Dk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rg.getInstance().currentlyOnline();return lw(this.interruptReasons_)&&e}}xo.nextPersistentConnectionId_=0;xo.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ut(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ut(Yu,e),s=new ut(Yu,n);return this.compare(r,s)!==0}minPost(){return ut.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp;class XD extends Ky{static get __EMPTY_NODE(){return yp}static set __EMPTY_NODE(e){yp=e}compare(e,n){return pd(e.name,n.name)}isDefinedOn(e){throw ad("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ut.MIN}maxPost(){return new ut(rc,yp)}makePost(e,n){return ye(typeof e=="string","KeyIndex indexValue must always be a string."),new ut(e,yp)}toString(){return".key"}}const Cu=new XD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,s&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Nn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Nn.RED,this.left=s??Ir.EMPTY_NODE,this.right=i??Ir.EMPTY_NODE}copy(e,n,r,s,i){return new Nn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ir.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Nn.RED=!0;Nn.BLACK=!1;class fY{copy(e,n,r,s,i){return this}insert(e,n,r){return new Nn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ir{constructor(e,n=Ir.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ir(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Nn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vp(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vp(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vp(this.root_,null,this.comparator_,!0,e)}}Ir.EMPTY_NODE=new fY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t,e){return pd(t.name,e.name)}function cb(t,e){return pd(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uw;function pY(t){Uw=t}const JD=function(t){return typeof t=="number"?"number:"+ID(t):"string:"+t},ZD=function(t){if(t.isLeafNode()){const e=t.val();ye(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Do(e,".sv"),"Priority must be a string or number.")}else ye(t===Uw||t.isEmpty(),"priority of unexpected type.");ye(t===Uw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EN;class Cn{static set __childrenNodeConstructor(e){EN=e}static get __childrenNodeConstructor(){return EN}constructor(e,n=Cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ye(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ZD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return at(e)?this:ct(e)===".priority"?this.priorityNode_:Cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ct(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ye(r!==".priority"||za(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ot(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+JD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ID(this.value_):e+=this.value_,this.lazyHash_=TD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Cn.__childrenNodeConstructor?-1:(ye(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Cn.VALUE_TYPE_ORDER.indexOf(n),i=Cn.VALUE_TYPE_ORDER.indexOf(r);return ye(s>=0,"Unknown leaf type: "+n),ye(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eM,tM;function gY(t){eM=t}function yY(t){tM=t}class vY extends Ky{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?pd(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ut.MIN}maxPost(){return new ut(rc,new Cn("[PRIORITY-POST]",tM))}makePost(e,n){const r=eM(e);return new ut(n,new Cn("[PRIORITY-POST]",r))}toString(){return".priority"}}const nr=new vY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=Math.log(2);class _Y{constructor(e){const n=i=>parseInt(Math.log(i)/xY,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kg=function(t,e,n,r){t.sort(e);const s=function(d,h){const m=h-d;let g,v;if(m===0)return null;if(m===1)return g=t[d],v=n?n(g):g,new Nn(v,g.node,Nn.BLACK,null,null);{const _=parseInt(m/2,10)+d,C=s(d,_),T=s(_+1,h);return g=t[_],v=n?n(g):g,new Nn(v,g.node,Nn.BLACK,C,T)}},i=function(d){let h=null,m=null,g=t.length;const v=function(C,T){const S=g-C,A=g;g-=C;const k=s(S+1,A),N=t[S],L=n?n(N):N;_(new Nn(L,N.node,T,null,k))},_=function(C){h?(h.left=C,h=C):(m=C,h=C)};for(let C=0;C<d.count;++C){const T=d.nextBitIsOne(),S=Math.pow(2,d.count-(C+1));T?v(S,Nn.BLACK):(v(S,Nn.BLACK),v(S,Nn.RED))}return m},a=new _Y(t.length),c=i(a);return new Ir(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y_;const tu={};class go{static get Default(){return ye(tu&&nr,"ChildrenNode.ts has not been loaded"),y_=y_||new go({".priority":tu},{".priority":nr}),y_}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=zu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ir?n:null}hasIndex(e){return Do(this.indexSet_,e.toString())}addIndex(e,n){ye(e!==Cu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ut.Wrap);let a=i.getNext();for(;a;)s=s||e.isDefinedOn(a.node),r.push(a),a=i.getNext();let c;s?c=kg(r,e.getCompare()):c=tu;const d=e.toString(),h={...this.indexSet_};h[d]=e;const m={...this.indexes_};return m[d]=c,new go(m,h)}addToIndexes(e,n){const r=lg(this.indexes_,(s,i)=>{const a=zu(this.indexSet_,i);if(ye(a,"Missing index implementation for "+i),s===tu)if(a.isDefinedOn(e.node)){const c=[],d=n.getIterator(ut.Wrap);let h=d.getNext();for(;h;)h.name!==e.name&&c.push(h),h=d.getNext();return c.push(e),kg(c,a.getCompare())}else return tu;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new ut(e.name,c))),d.insert(e,e.node)}});return new go(r,this.indexSet_)}removeFromIndexes(e,n){const r=lg(this.indexes_,s=>{if(s===tu)return s;{const i=n.get(e.name);return i?s.remove(new ut(e.name,i)):s}});return new go(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh;class yt{static get EMPTY_NODE(){return yh||(yh=new yt(new Ir(cb),null,go.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ZD(this.priorityNode_),this.children_.isEmpty()&&ye(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yh}updatePriority(e){return this.children_.isEmpty()?this:new yt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?yh:n}}getChild(e){const n=ct(e);return n===null?this:this.getImmediateChild(n).getChild(Ot(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ye(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ut(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const a=s.isEmpty()?yh:this.priorityNode_;return new yt(s,a,i)}}updateChild(e,n){const r=ct(e);if(r===null)return n;{ye(ct(e)!==".priority"||za(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ot(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(nr,(a,c)=>{n[a]=c.val(e),r++,i&&yt.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):i=!1}),!e&&i&&s<2*r){const a=[];for(const c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+JD(this.getPriority().val())+":"),this.forEachChild(nr,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":TD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ut(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ut(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ut(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ut.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ut.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Uf?-1:0}withIndex(e){if(e===Cu||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new yt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Cu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(nr),s=n.getIterator(nr);let i=r.getNext(),a=s.getNext();for(;i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=r.getNext(),a=s.getNext()}return i===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Cu?null:this.indexMap_.get(e.toString())}}yt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wY extends yt{constructor(){super(new Ir(cb),yt.EMPTY_NODE,go.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return yt.EMPTY_NODE}isEmpty(){return!1}}const Uf=new wY;Object.defineProperties(ut,{MIN:{value:new ut(Yu,yt.EMPTY_NODE)},MAX:{value:new ut(rc,Uf)}});XD.__EMPTY_NODE=yt.EMPTY_NODE;Cn.__childrenNodeConstructor=yt;pY(Uf);yY(Uf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=!0;function tr(t,e=null){if(t===null)return yt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ye(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Cn(n,tr(e))}if(!(t instanceof Array)&&EY){const n=[];let r=!1;if(ws(t,(a,c)=>{if(a.substring(0,1)!=="."){const d=tr(c);d.isEmpty()||(r=r||!d.getPriority().isEmpty(),n.push(new ut(a,d)))}}),n.length===0)return yt.EMPTY_NODE;const i=kg(n,mY,a=>a.name,cb);if(r){const a=kg(n,nr.getCompare());return new yt(i,tr(e),new go({".priority":a},{".priority":nr}))}else return new yt(i,tr(e),go.Default)}else{let n=yt.EMPTY_NODE;return ws(t,(r,s)=>{if(Do(t,r)&&r.substring(0,1)!=="."){const i=tr(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(tr(e))}}gY(tr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY extends Ky{constructor(e){super(),this.indexPath_=e,ye(!at(e)&&ct(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?pd(e.name,n.name):i}makePost(e,n){const r=tr(e),s=yt.EMPTY_NODE.updateChild(this.indexPath_,r);return new ut(n,s)}maxPost(){const e=yt.EMPTY_NODE.updateChild(this.indexPath_,Uf);return new ut(rc,e)}toString(){return GD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TY extends Ky{compare(e,n){const r=e.node.compareTo(n.node);return r===0?pd(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ut.MIN}maxPost(){return ut.MAX}makePost(e,n){const r=tr(e);return new ut(n,r)}toString(){return".value"}}const SY=new TY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CY(t){return{type:"value",snapshotNode:t}}function IY(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function NY(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function bN(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function PY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ye(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ye(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yu}hasEnd(){return this.endSet_}getIndexEndValue(){return ye(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ye(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ye(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nr}copy(){const e=new ub;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TN(t){const e={};if(t.isDefault())return e;let n;if(t.index_===nr?n="$priority":t.index_===SY?n="$value":t.index_===Cu?n="$key":(ye(t.index_ instanceof bY,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=On(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=On(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+On(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=On(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+On(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function SN(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==nr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg extends WD{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ye(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Vf("p:rest:"),this.listens_={}}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const a=jg.getListenId_(e,r),c={};this.listens_[a]=c;const d=TN(e._queryParams);this.restRequest_(i+".json",d,(h,m)=>{let g=m;if(h===404&&(g=null,h=null),h===null&&this.onDataUpdate_(i,g,!1,r),zu(this.listens_,a)===c){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",s(v,null)}})}unlisten(e,n){const r=jg.getListenId_(e,n);delete this.listens_[r]}get(e){const n=TN(e._queryParams),r=e._path.toString(),s=new eE;return this.restRequest_(r+".json",n,(i,a)=>{let c=a;i===404&&(c=null,i=null),i===null?(this.onDataUpdate_(r,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ld(n);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Jh(c.responseText)}catch{Xr("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,d)}else c.status!==401&&c.status!==404&&Xr("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this.rootNode_=yt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(){return{value:null,children:new Map}}function nM(t,e,n){if(at(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ct(e);t.children.has(r)||t.children.set(r,Dg());const s=t.children.get(r);e=Ot(e),nM(s,e,n)}}function Bw(t,e,n){t.value!==null?n(e,t.value):RY(t,(r,s)=>{const i=new Vt(e.toString()+"/"+r);Bw(s,i,n)})}function RY(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&ws(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=10*1e3,jY=30*1e3,DY=300*1e3;class MY{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kY(e);const r=CN+(jY-CN)*Math.random();Lh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ws(e,(s,i)=>{i>0&&Do(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Lh(this.reportStats_.bind(this),Math.floor(Math.random()*2*DY))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ni;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ni||(Ni={}));function rM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function sM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function iM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ni.ACK_USER_WRITE,this.source=rM()}operationForChild(e){if(at(this.path)){if(this.affectedTree.value!=null)return ye(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Vt(e));return new Mg(bt(),n,this.revert)}}else return ye(ct(this.path)===e,"operationForChild called for unrelated child."),new Mg(Ot(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ni.OVERWRITE}operationForChild(e){return at(this.path)?new sc(this.source,bt(),this.snap.getImmediateChild(e)):new sc(this.source,Ot(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ni.MERGE}operationForChild(e){if(at(this.path)){const n=this.children.subtree(new Vt(e));return n.isEmpty()?null:n.value?new sc(this.source,bt(),n.value):new hf(this.source,bt(),n)}else return ye(ct(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hf(this.source,Ot(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(at(e))return this.isFullyInitialized()&&!this.filtered_;const n=ct(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function OY(t,e,n,r){const s=[],i=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&i.push(PY(a.childName,a.snapshotNode))}),vh(t,s,"child_removed",e,r,n),vh(t,s,"child_added",e,r,n),vh(t,s,"child_moved",i,r,n),vh(t,s,"child_changed",e,r,n),vh(t,s,"value",e,r,n),s}function vh(t,e,n,r,s,i){const a=r.filter(c=>c.type===n);a.sort((c,d)=>VY(t,c,d)),a.forEach(c=>{const d=LY(t,c,i);s.forEach(h=>{h.respondsTo(c.type)&&e.push(h.createEvent(d,t.query_))})})}function LY(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VY(t,e,n){if(e.childName==null||n.childName==null)throw ad("Should only compare child_ events.");const r=new ut(e.childName,e.snapshotNode),s=new ut(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e){return{eventCache:t,serverCache:e}}function Vh(t,e,n,r){return oM(new db(e,n,r),t.serverCache)}function aM(t,e,n,r){return oM(t.eventCache,new db(e,n,r))}function zw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ic(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;const FY=()=>(v_||(v_=new Ir(SK)),v_);class Mt{static fromObject(e){let n=new Mt(null);return ws(e,(r,s)=>{n=n.set(new Vt(r),s)}),n}constructor(e,n=FY()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:bt(),value:this.value};if(at(e))return null;{const r=ct(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ot(e),n);return i!=null?{path:Pn(new Vt(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(at(e))return this;{const n=ct(e),r=this.children.get(n);return r!==null?r.subtree(Ot(e)):new Mt(null)}}set(e,n){if(at(e))return new Mt(n,this.children);{const r=ct(e),i=(this.children.get(r)||new Mt(null)).set(Ot(e),n),a=this.children.insert(r,i);return new Mt(this.value,a)}}remove(e){if(at(e))return this.children.isEmpty()?new Mt(null):new Mt(null,this.children);{const n=ct(e),r=this.children.get(n);if(r){const s=r.remove(Ot(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Mt(null):new Mt(this.value,i)}else return this}}get(e){if(at(e))return this.value;{const n=ct(e),r=this.children.get(n);return r?r.get(Ot(e)):null}}setTree(e,n){if(at(e))return n;{const r=ct(e),i=(this.children.get(r)||new Mt(null)).setTree(Ot(e),n);let a;return i.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,i),new Mt(this.value,a)}}fold(e){return this.fold_(bt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Pn(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,bt(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(at(e))return null;{const i=ct(e),a=this.children.get(i);return a?a.findOnPath_(Ot(e),Pn(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,bt(),n)}foreachOnPath_(e,n,r){if(at(e))return this;{this.value&&r(n,this.value);const s=ct(e),i=this.children.get(s);return i?i.foreachOnPath_(Ot(e),Pn(n,s),r):new Mt(null)}}foreach(e){this.foreach_(bt(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.writeTree_=e}static empty(){return new zs(new Mt(null))}}function Fh(t,e,n){if(at(e))return new zs(new Mt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const a=fs(s,e);return i=i.updateChild(a,n),new zs(t.writeTree_.set(s,i))}else{const s=new Mt(n),i=t.writeTree_.setTree(e,s);return new zs(i)}}}function IN(t,e,n){let r=t;return ws(n,(s,i)=>{r=Fh(r,Pn(e,s),i)}),r}function NN(t,e){if(at(e))return zs.empty();{const n=t.writeTree_.setTree(e,new Mt(null));return new zs(n)}}function $w(t,e){return gc(t,e)!=null}function gc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fs(n.path,e)):null}function PN(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nr,(r,s)=>{e.push(new ut(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ut(r,s.value))}),e}function ka(t,e){if(at(e))return t;{const n=gc(t,e);return n!=null?new zs(new Mt(n)):new zs(t.writeTree_.subtree(e))}}function Ww(t){return t.writeTree_.isEmpty()}function Qu(t,e){return lM(bt(),t.writeTree_,e)}function lM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(ye(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=lM(Pn(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t,e){return mM(e,t)}function UY(t,e,n,r,s){ye(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Fh(t.visibleWrites,e,n)),t.lastWriteId=r}function BY(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function zY(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);ye(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,a=t.allWrites.length-1;for(;s&&a>=0;){const c=t.allWrites[a];c.visible&&(a>=n&&$Y(c,r.path)?s=!1:Bs(r.path,c.path)&&(i=!0)),a--}if(s){if(i)return WY(t),!0;if(r.snap)t.visibleWrites=NN(t.visibleWrites,r.path);else{const c=r.children;ws(c,d=>{t.visibleWrites=NN(t.visibleWrites,Pn(r.path,d))})}return!0}else return!1}function $Y(t,e){if(t.snap)return Bs(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Bs(Pn(t.path,n),e))return!0;return!1}function WY(t){t.visibleWrites=uM(t.allWrites,qY,bt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function qY(t){return t.visible}function uM(t,e,n){let r=zs.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const a=i.path;let c;if(i.snap)Bs(n,a)?(c=fs(n,a),r=Fh(r,c,i.snap)):Bs(a,n)&&(c=fs(a,n),r=Fh(r,bt(),i.snap.getChild(c)));else if(i.children){if(Bs(n,a))c=fs(n,a),r=IN(r,c,i.children);else if(Bs(a,n))if(c=fs(a,n),at(c))r=IN(r,bt(),i.children);else{const d=zu(i.children,ct(c));if(d){const h=d.getChild(Ot(c));r=Fh(r,bt(),h)}}}else throw ad("WriteRecord should have .snap or .children")}}return r}function dM(t,e,n,r,s){if(!r&&!s){const i=gc(t.visibleWrites,e);if(i!=null)return i;{const a=ka(t.visibleWrites,e);if(Ww(a))return n;if(n==null&&!$w(a,bt()))return null;{const c=n||yt.EMPTY_NODE;return Qu(a,c)}}}else{const i=ka(t.visibleWrites,e);if(!s&&Ww(i))return n;if(!s&&n==null&&!$w(i,bt()))return null;{const a=function(h){return(h.visible||s)&&(!r||!~r.indexOf(h.writeId))&&(Bs(h.path,e)||Bs(e,h.path))},c=uM(t.allWrites,a,e),d=n||yt.EMPTY_NODE;return Qu(c,d)}}}function HY(t,e,n){let r=yt.EMPTY_NODE;const s=gc(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(nr,(i,a)=>{r=r.updateImmediateChild(i,a)}),r;if(n){const i=ka(t.visibleWrites,e);return n.forEachChild(nr,(a,c)=>{const d=Qu(ka(i,new Vt(a)),c);r=r.updateImmediateChild(a,d)}),PN(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}else{const i=ka(t.visibleWrites,e);return PN(i).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}}function GY(t,e,n,r,s){ye(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Pn(e,n);if($w(t.visibleWrites,i))return null;{const a=ka(t.visibleWrites,i);return Ww(a)?s.getChild(n):Qu(a,s.getChild(n))}}function KY(t,e,n,r){const s=Pn(e,n),i=gc(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const a=ka(t.visibleWrites,s);return Qu(a,r.getNode().getImmediateChild(n))}else return null}function YY(t,e){return gc(t.visibleWrites,e)}function QY(t,e,n,r,s,i,a){let c;const d=ka(t.visibleWrites,e),h=gc(d,bt());if(h!=null)c=h;else if(n!=null)c=Qu(d,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){const m=[],g=a.getCompare(),v=i?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let _=v.getNext();for(;_&&m.length<s;)g(_,r)!==0&&m.push(_),_=v.getNext();return m}else return[]}function XY(){return{visibleWrites:zs.empty(),allWrites:[],lastWriteId:-1}}function qw(t,e,n,r){return dM(t.writeTree,t.treePath,e,n,r)}function hM(t,e){return HY(t.writeTree,t.treePath,e)}function AN(t,e,n,r){return GY(t.writeTree,t.treePath,e,n,r)}function Og(t,e){return YY(t.writeTree,Pn(t.treePath,e))}function JY(t,e,n,r,s,i){return QY(t.writeTree,t.treePath,e,n,r,s,i)}function hb(t,e,n){return KY(t.writeTree,t.treePath,e,n)}function fM(t,e){return mM(Pn(t.treePath,e),t.writeTree)}function mM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ye(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ye(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,bN(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,NY(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,IY(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,bN(r,e.snapshotNode,s.oldSnap));else throw ad("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const pM=new eQ;class fb{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new db(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hb(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ic(this.viewCache_),i=JY(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function tQ(t,e){ye(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ye(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function nQ(t,e,n,r,s){const i=new ZY;let a,c;if(n.type===Ni.OVERWRITE){const h=n;h.source.fromUser?a=Hw(t,e,h.path,h.snap,r,s,i):(ye(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered()&&!at(h.path),a=Lg(t,e,h.path,h.snap,r,s,c,i))}else if(n.type===Ni.MERGE){const h=n;h.source.fromUser?a=sQ(t,e,h.path,h.children,r,s,i):(ye(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.serverCache.isFiltered(),a=Gw(t,e,h.path,h.children,r,s,c,i))}else if(n.type===Ni.ACK_USER_WRITE){const h=n;h.revert?a=aQ(t,e,h.path,r,s,i):a=iQ(t,e,h.path,h.affectedTree,r,s,i)}else if(n.type===Ni.LISTEN_COMPLETE)a=oQ(t,e,n.path,r,i);else throw ad("Unknown operation type: "+n.type);const d=i.getChanges();return rQ(e,a,d),{viewCache:a,changes:d}}function rQ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=zw(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(CY(zw(e)))}}function gM(t,e,n,r,s,i){const a=e.eventCache;if(Og(r,n)!=null)return e;{let c,d;if(at(n))if(ye(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=ic(e),m=h instanceof yt?h:yt.EMPTY_NODE,g=hM(r,m);c=t.filter.updateFullNode(e.eventCache.getNode(),g,i)}else{const h=qw(r,ic(e));c=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const h=ct(n);if(h===".priority"){ye(za(n)===1,"Can't have a priority with additional path components");const m=a.getNode();d=e.serverCache.getNode();const g=AN(r,n,m,d);g!=null?c=t.filter.updatePriority(m,g):c=a.getNode()}else{const m=Ot(n);let g;if(a.isCompleteForChild(h)){d=e.serverCache.getNode();const v=AN(r,n,a.getNode(),d);v!=null?g=a.getNode().getImmediateChild(h).updateChild(m,v):g=a.getNode().getImmediateChild(h)}else g=hb(r,h,e.serverCache);g!=null?c=t.filter.updateChild(a.getNode(),h,g,m,s,i):c=a.getNode()}}return Vh(e,c,a.isFullyInitialized()||at(n),t.filter.filtersNodes())}}function Lg(t,e,n,r,s,i,a,c){const d=e.serverCache;let h;const m=a?t.filter:t.filter.getIndexedFilter();if(at(n))h=m.updateFullNode(d.getNode(),r,null);else if(m.filtersNodes()&&!d.isFiltered()){const _=d.getNode().updateChild(n,r);h=m.updateFullNode(d.getNode(),_,null)}else{const _=ct(n);if(!d.isCompleteForPath(n)&&za(n)>1)return e;const C=Ot(n),S=d.getNode().getImmediateChild(_).updateChild(C,r);_===".priority"?h=m.updatePriority(d.getNode(),S):h=m.updateChild(d.getNode(),_,S,C,pM,null)}const g=aM(e,h,d.isFullyInitialized()||at(n),m.filtersNodes()),v=new fb(s,g,i);return gM(t,g,n,s,v,c)}function Hw(t,e,n,r,s,i,a){const c=e.eventCache;let d,h;const m=new fb(s,e,i);if(at(n))h=t.filter.updateFullNode(e.eventCache.getNode(),r,a),d=Vh(e,h,!0,t.filter.filtersNodes());else{const g=ct(n);if(g===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),r),d=Vh(e,h,c.isFullyInitialized(),c.isFiltered());else{const v=Ot(n),_=c.getNode().getImmediateChild(g);let C;if(at(v))C=r;else{const T=m.getCompleteChild(g);T!=null?HD(v)===".priority"&&T.getChild(KD(v)).isEmpty()?C=T:C=T.updateChild(v,r):C=yt.EMPTY_NODE}if(_.equals(C))d=e;else{const T=t.filter.updateChild(c.getNode(),g,C,v,m,a);d=Vh(e,T,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function RN(t,e){return t.eventCache.isCompleteForChild(e)}function sQ(t,e,n,r,s,i,a){let c=e;return r.foreach((d,h)=>{const m=Pn(n,d);RN(e,ct(m))&&(c=Hw(t,c,m,h,s,i,a))}),r.foreach((d,h)=>{const m=Pn(n,d);RN(e,ct(m))||(c=Hw(t,c,m,h,s,i,a))}),c}function kN(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Gw(t,e,n,r,s,i,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,h;at(n)?h=r:h=new Mt(null).setTree(n,r);const m=e.serverCache.getNode();return h.children.inorderTraversal((g,v)=>{if(m.hasChild(g)){const _=e.serverCache.getNode().getImmediateChild(g),C=kN(t,_,v);d=Lg(t,d,new Vt(g),C,s,i,a,c)}}),h.children.inorderTraversal((g,v)=>{const _=!e.serverCache.isCompleteForChild(g)&&v.value===null;if(!m.hasChild(g)&&!_){const C=e.serverCache.getNode().getImmediateChild(g),T=kN(t,C,v);d=Lg(t,d,new Vt(g),T,s,i,a,c)}}),d}function iQ(t,e,n,r,s,i,a){if(Og(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(r.value!=null){if(at(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Lg(t,e,n,d.getNode().getChild(n),s,i,c,a);if(at(n)){let h=new Mt(null);return d.getNode().forEachChild(Cu,(m,g)=>{h=h.set(new Vt(m),g)}),Gw(t,e,n,h,s,i,c,a)}else return e}else{let h=new Mt(null);return r.foreach((m,g)=>{const v=Pn(n,m);d.isCompleteForPath(v)&&(h=h.set(m,d.getNode().getChild(v)))}),Gw(t,e,n,h,s,i,c,a)}}function oQ(t,e,n,r,s){const i=e.serverCache,a=aM(e,i.getNode(),i.isFullyInitialized()||at(n),i.isFiltered());return gM(t,a,n,r,pM,s)}function aQ(t,e,n,r,s,i){let a;if(Og(r,n)!=null)return e;{const c=new fb(r,e,s),d=e.eventCache.getNode();let h;if(at(n)||ct(n)===".priority"){let m;if(e.serverCache.isFullyInitialized())m=qw(r,ic(e));else{const g=e.serverCache.getNode();ye(g instanceof yt,"serverChildren would be complete if leaf node"),m=hM(r,g)}m=m,h=t.filter.updateFullNode(d,m,i)}else{const m=ct(n);let g=hb(r,m,e.serverCache);g==null&&e.serverCache.isCompleteForChild(m)&&(g=d.getImmediateChild(m)),g!=null?h=t.filter.updateChild(d,m,g,Ot(n),c,i):e.eventCache.getNode().hasChild(m)?h=t.filter.updateChild(d,m,yt.EMPTY_NODE,Ot(n),c,i):h=d,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=qw(r,ic(e)),a.isLeafNode()&&(h=t.filter.updateFullNode(h,a,i)))}return a=e.serverCache.isFullyInitialized()||Og(r,bt())!=null,Vh(e,h,a,t.filter.filtersNodes())}}function lQ(t,e){const n=ic(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!at(e)&&!n.getImmediateChild(ct(e)).isEmpty())?n.getChild(e):null}function jN(t,e,n,r){e.type===Ni.MERGE&&e.source.queryId!==null&&(ye(ic(t.viewCache_),"We should always have a full cache before handling merges"),ye(zw(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=nQ(t.processor_,s,e,n,r);return tQ(t.processor_,i.viewCache),ye(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,cQ(t,i.changes,i.viewCache.eventCache.getNode())}function cQ(t,e,n,r){const s=t.eventRegistrations_;return OY(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DN;function uQ(t){ye(!DN,"__referenceConstructor has already been defined"),DN=t}function mb(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return ye(i!=null,"SyncTree gave us an op for an invalid query."),jN(i,e,n,r)}else{let i=[];for(const a of t.views.values())i=i.concat(jN(a,e,n,r));return i}}function pb(t,e){let n=null;for(const r of t.views.values())n=n||lQ(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MN;function dQ(t){ye(!MN,"__referenceConstructor has already been defined"),MN=t}class ON{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mt(null),this.pendingWriteTree_=XY(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hQ(t,e,n,r,s){return UY(t.pendingWriteTree_,e,n,r,s),s?Qy(t,new sc(rM(),e,n)):[]}function hu(t,e,n=!1){const r=BY(t.pendingWriteTree_,e);if(zY(t.pendingWriteTree_,e)){let i=new Mt(null);return r.snap!=null?i=i.set(bt(),!0):ws(r.children,a=>{i=i.set(new Vt(a),!0)}),Qy(t,new Mg(r.path,i,n))}else return[]}function Yy(t,e,n){return Qy(t,new sc(sM(),e,n))}function fQ(t,e,n){const r=Mt.fromObject(n);return Qy(t,new hf(sM(),e,r))}function mQ(t,e,n,r){const s=_M(t,r);if(s!=null){const i=wM(s),a=i.path,c=i.queryId,d=fs(a,e),h=new sc(iM(c),d,n);return EM(t,a,h)}else return[]}function pQ(t,e,n,r){const s=_M(t,r);if(s){const i=wM(s),a=i.path,c=i.queryId,d=fs(a,e),h=Mt.fromObject(n),m=new hf(iM(c),d,h);return EM(t,a,m)}else return[]}function yM(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(a,c)=>{const d=fs(a,e),h=pb(c,d);if(h)return h});return dM(s,e,i,n,!0)}function Qy(t,e){return vM(e,t.syncPointTree_,null,cM(t.pendingWriteTree_,bt()))}function vM(t,e,n,r){if(at(t.path))return xM(t,e,n,r);{const s=e.get(bt());n==null&&s!=null&&(n=pb(s,bt()));let i=[];const a=ct(t.path),c=t.operationForChild(a),d=e.children.get(a);if(d&&c){const h=n?n.getImmediateChild(a):null,m=fM(r,a);i=i.concat(vM(c,d,h,m))}return s&&(i=i.concat(mb(s,t,r,n))),i}}function xM(t,e,n,r){const s=e.get(bt());n==null&&s!=null&&(n=pb(s,bt()));let i=[];return e.children.inorderTraversal((a,c)=>{const d=n?n.getImmediateChild(a):null,h=fM(r,a),m=t.operationForChild(a);m&&(i=i.concat(xM(m,c,d,h)))}),s&&(i=i.concat(mb(s,t,r,n))),i}function _M(t,e){return t.tagToQueryMap.get(e)}function wM(t){const e=t.indexOf("$");return ye(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Vt(t.substr(0,e))}}function EM(t,e,n){const r=t.syncPointTree_.get(e);ye(r,"Missing sync point for query tag that we're tracking");const s=cM(t.pendingWriteTree_,e);return mb(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new gb(n)}node(){return this.node_}}class yb{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pn(this.path_,e);return new yb(this.syncTree_,n)}node(){return yM(this.syncTree_,this.path_)}}const gQ=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},LN=function(t,e,n){if(!t||typeof t!="object")return t;if(ye(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return yQ(t[".sv"],e,n);if(typeof t[".sv"]=="object")return vQ(t[".sv"],e);ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},yQ=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:ye(!1,"Unexpected server value: "+t)}},vQ=function(t,e,n){t.hasOwnProperty("increment")||ye(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&ye(!1,"Unexpected increment value: "+r);const s=e.node();if(ye(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const a=s.getValue();return typeof a!="number"?r:a+r},xQ=function(t,e,n,r){return vb(e,new yb(n,t),r)},_Q=function(t,e,n){return vb(t,new gb(e),n)};function vb(t,e,n){const r=t.getPriority().val(),s=LN(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const a=t,c=LN(a.getValue(),e,n);return c!==a.getValue()||s!==a.getPriority().val()?new Cn(c,tr(s)):t}else{const a=t;return i=a,s!==a.getPriority().val()&&(i=i.updatePriority(new Cn(s))),a.forEachChild(nr,(c,d)=>{const h=vb(d,e.getImmediateChild(c),n);h!==d&&(i=i.updateImmediateChild(c,h))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function _b(t,e){let n=e instanceof Vt?e:new Vt(e),r=t,s=ct(n);for(;s!==null;){const i=zu(r.node.children,s)||{children:{},childCount:0};r=new xb(s,r,i),n=Ot(n),s=ct(n)}return r}function gd(t){return t.node.value}function bM(t,e){t.node.value=e,Kw(t)}function TM(t){return t.node.childCount>0}function wQ(t){return gd(t)===void 0&&!TM(t)}function Xy(t,e){ws(t.node.children,(n,r)=>{e(new xb(n,t,r))})}function SM(t,e,n,r){n&&e(t),Xy(t,s=>{SM(s,e,!0)})}function EQ(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Bf(t){return new Vt(t.parent===null?t.name:Bf(t.parent)+"/"+t.name)}function Kw(t){t.parent!==null&&bQ(t.parent,t.name,t)}function bQ(t,e,n){const r=wQ(n),s=Do(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Kw(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Kw(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=/[\[\].#$\/\u0000-\u001F\u007F]/,SQ=/[\[\].#$\u0000-\u001F\u007F]/,x_=10*1024*1024,CM=function(t){return typeof t=="string"&&t.length!==0&&!TQ.test(t)},CQ=function(t){return typeof t=="string"&&t.length!==0&&!SQ.test(t)},IQ=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CQ(t)},IM=function(t,e,n){const r=n instanceof Vt?new oY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Rl(r));if(typeof e=="function")throw new Error(t+"contains a function "+Rl(r)+" with contents = "+e.toString());if(SD(e))throw new Error(t+"contains "+e.toString()+" "+Rl(r));if(typeof e=="string"&&e.length>x_/3&&yy(e)>x_)throw new Error(t+"contains a string greater than "+x_+" utf8 bytes "+Rl(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(ws(e,(a,c)=>{if(a===".value")s=!0;else if(a!==".priority"&&a!==".sv"&&(i=!0,!CM(a)))throw new Error(t+" contains an invalid key ("+a+") "+Rl(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);aY(r,a),IM(t,c,r),lY(r)}),s&&i)throw new Error(t+' contains ".value" child '+Rl(r)+" in addition to actual children.")}},NQ=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!CM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IQ(n))throw new Error(cz(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function AQ(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!YD(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function yc(t,e,n){AQ(t,n),RQ(t,r=>Bs(r,e)||Bs(e,r))}function RQ(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(kQ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function kQ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Oh&&er("event: "+n.toString()),Ff(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ="repo_interrupt",DQ=25;class MQ{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dg(),this.transactionQueueTree_=new xb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OQ(t,e,n){if(t.stats_=ob(t.repoInfo_),t.forceRestClient_||RK())t.server_=new jg(t.repoInfo_,(r,s,i,a)=>{VN(t,r,s,i,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>FN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{On(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new xo(t.repoInfo_,e,(r,s,i,a)=>{VN(t,r,s,i,a)},r=>{FN(t,r)},r=>{VQ(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=OK(t.repoInfo_,()=>new MY(t.stats_,t.server_)),t.infoData_=new AY,t.infoSyncTree_=new ON({startListening:(r,s,i,a)=>{let c=[];const d=t.infoData_.getNode(r._path);return d.isEmpty()||(c=Yy(t.infoSyncTree_,r._path,d),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),wb(t,"connected",!1),t.serverSyncTree_=new ON({startListening:(r,s,i,a)=>(t.server_.listen(r,i,s,(c,d)=>{const h=a(c,d);yc(t.eventQueue_,r._path,h)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function LQ(t){const n=t.infoData_.getNode(new Vt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function NM(t){return gQ({timestamp:LQ(t)})}function VN(t,e,n,r,s){t.dataUpdateCount++;const i=new Vt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let a=[];if(s)if(r){const d=lg(n,h=>tr(h));a=pQ(t.serverSyncTree_,i,d,s)}else{const d=tr(n);a=mQ(t.serverSyncTree_,i,d,s)}else if(r){const d=lg(n,h=>tr(h));a=fQ(t.serverSyncTree_,i,d)}else{const d=tr(n);a=Yy(t.serverSyncTree_,i,d)}let c=i;a.length>0&&(c=bb(t,i)),yc(t.eventQueue_,c,a)}function FN(t,e){wb(t,"connected",e),e===!1&&UQ(t)}function VQ(t,e){ws(e,(n,r)=>{wb(t,n,r)})}function wb(t,e,n){const r=new Vt("/.info/"+e),s=tr(n);t.infoData_.updateSnapshot(r,s);const i=Yy(t.infoSyncTree_,r,s);yc(t.eventQueue_,r,i)}function FQ(t){return t.nextWriteId_++}function UQ(t){PM(t,"onDisconnectEvents");const e=NM(t),n=Dg();Bw(t.onDisconnect_,bt(),(s,i)=>{const a=xQ(s,i,t.serverSyncTree_,e);nM(n,s,a)});let r=[];Bw(n,bt(),(s,i)=>{r=r.concat(Yy(t.serverSyncTree_,s,i));const a=WQ(t,s);bb(t,a)}),t.onDisconnect_=Dg(),yc(t.eventQueue_,bt(),r)}function BQ(t){t.persistentConnection_&&t.persistentConnection_.interrupt(jQ)}function PM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),er(n,...e)}function AM(t,e,n){return yM(t.serverSyncTree_,e,n)||yt.EMPTY_NODE}function Eb(t,e=t.transactionQueueTree_){if(e||Jy(t,e),gd(e)){const n=kM(t,e);ye(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&zQ(t,Bf(e),n)}else TM(e)&&Xy(e,n=>{Eb(t,n)})}function zQ(t,e,n){const r=n.map(h=>h.currentWriteId),s=AM(t,e,r);let i=s;const a=s.hash();for(let h=0;h<n.length;h++){const m=n[h];ye(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const g=fs(e,m.path);i=i.updateChild(g,m.currentOutputSnapshotRaw)}const c=i.val(!0),d=e;t.server_.put(d.toString(),c,h=>{PM(t,"transaction put response",{path:d.toString(),status:h});let m=[];if(h==="ok"){const g=[];for(let v=0;v<n.length;v++)n[v].status=2,m=m.concat(hu(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&g.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Jy(t,_b(t.transactionQueueTree_,e)),Eb(t,t.transactionQueueTree_),yc(t.eventQueue_,e,m);for(let v=0;v<g.length;v++)Ff(g[v])}else{if(h==="datastale")for(let g=0;g<n.length;g++)n[g].status===3?n[g].status=4:n[g].status=0;else{Xr("transaction at "+d.toString()+" failed: "+h);for(let g=0;g<n.length;g++)n[g].status=4,n[g].abortReason=h}bb(t,e)}},a)}function bb(t,e){const n=RM(t,e),r=Bf(n),s=kM(t,n);return $Q(t,s,r),r}function $Q(t,e,n){if(e.length===0)return;const r=[];let s=[];const a=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],h=fs(n,d.path);let m=!1,g;if(ye(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,g=d.abortReason,s=s.concat(hu(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=DQ)m=!0,g="maxretry",s=s.concat(hu(t.serverSyncTree_,d.currentWriteId,!0));else{const v=AM(t,d.path,a);d.currentInputSnapshot=v;const _=e[c].update(v.val());if(_!==void 0){IM("transaction failed: Data returned ",_,d.path);let C=tr(_);typeof _=="object"&&_!=null&&Do(_,".priority")||(C=C.updatePriority(v.getPriority()));const S=d.currentWriteId,A=NM(t),k=_Q(C,v,A);d.currentOutputSnapshotRaw=C,d.currentOutputSnapshotResolved=k,d.currentWriteId=FQ(t),a.splice(a.indexOf(S),1),s=s.concat(hQ(t.serverSyncTree_,d.path,k,d.currentWriteId,d.applyLocally)),s=s.concat(hu(t.serverSyncTree_,S,!0))}else m=!0,g="nodata",s=s.concat(hu(t.serverSyncTree_,d.currentWriteId,!0))}yc(t.eventQueue_,n,s),s=[],m&&(e[c].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[c].unwatcher),e[c].onComplete&&(g==="nodata"?r.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):r.push(()=>e[c].onComplete(new Error(g),!1,null))))}Jy(t,t.transactionQueueTree_);for(let c=0;c<r.length;c++)Ff(r[c]);Eb(t,t.transactionQueueTree_)}function RM(t,e){let n,r=t.transactionQueueTree_;for(n=ct(e);n!==null&&gd(r)===void 0;)r=_b(r,n),e=Ot(e),n=ct(e);return r}function kM(t,e){const n=[];return jM(t,e,n),n.sort((r,s)=>r.order-s.order),n}function jM(t,e,n){const r=gd(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Xy(e,s=>{jM(t,s,n)})}function Jy(t,e){const n=gd(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,bM(e,n.length>0?n:void 0)}Xy(e,r=>{Jy(t,r)})}function WQ(t,e){const n=Bf(RM(t,e)),r=_b(t.transactionQueueTree_,e);return EQ(r,s=>{__(t,s)}),__(t,r),SM(r,s=>{__(t,s)}),n}function __(t,e){const n=gd(e);if(n){const r=[];let s=[],i=-1;for(let a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(ye(i===a-1,"All SENT items should be at beginning of queue."),i=a,n[a].status=3,n[a].abortReason="set"):(ye(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),s=s.concat(hu(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));i===-1?bM(e,void 0):n.length=i+1,yc(t.eventQueue_,Bf(e),s);for(let a=0;a<r.length;a++)Ff(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function HQ(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xr(`Invalid query segment '${n}' in query '${t}'`)}return e}const UN=function(t,e){const n=GQ(t),r=n.namespace;n.domain==="firebase.com"&&No(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&No("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||bK();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new LD(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Vt(n.pathString)}},GQ=function(t){let e="",n="",r="",s="",i="",a=!0,c="https",d=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));let m=t.indexOf("/");m===-1&&(m=t.length);let g=t.indexOf("?");g===-1&&(g=t.length),e=t.substring(0,Math.min(m,g)),m<g&&(s=qQ(t.substring(m,g)));const v=HQ(t.substring(Math.min(t.length,g)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",d=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const C=e.indexOf(".");r=e.substring(0,C).toLowerCase(),n=e.substring(C+1),i=r}"ns"in v&&(i=v.ns)}return{host:e,port:d,domain:n,subdomain:r,secure:a,scheme:c,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return at(this._path)?null:HD(this._path)}get ref(){return new yd(this._repo,this._path)}get _queryIdentifier(){const e=SN(this._queryParams),n=sb(e);return n==="{}"?"default":n}get _queryObject(){return SN(this._queryParams)}isEqual(e){if(e=qt(e),!(e instanceof Tb))return!1;const n=this._repo===e._repo,r=YD(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+iY(this._path)}}class yd extends Tb{constructor(e,n){super(e,n,new ub,!1)}get parent(){const e=KD(this._path);return e===null?null:new yd(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}uQ(yd);dQ(yd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KQ="FIREBASE_DATABASE_EMULATOR_HOST",Yw={};let YQ=!1;function QQ(t,e,n,r){const s=e.lastIndexOf(":"),i=e.substring(0,s),a=Ka(i);t.repoInfo_=new LD(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function XQ(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||No("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),er("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=UN(i,s),c=a.repoInfo,d;typeof process<"u"&&oN&&(d=oN[KQ]),d?(i=`http://${d}?ns=${c.namespace}`,a=UN(i,s),c=a.repoInfo):a.repoInfo.secure;const h=new jK(t.name,t.options,e);NQ("Invalid Firebase Database URL",a),at(a.path)||No("Database URL must point to the root of a Firebase Database (not including a child path).");const m=ZQ(c,t,h,new kK(t,n));return new eX(m,t)}function JQ(t,e){const n=Yw[e];(!n||n[t.key]!==t)&&No(`Database ${e}(${t.repoInfo_}) has already been deleted.`),BQ(t),delete n[t.key]}function ZQ(t,e,n,r){let s=Yw[e.name];s||(s={},Yw[e.name]=s);let i=s[t.toURLString()];return i&&No("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new MQ(t,YQ,n,r),s[t.toURLString()]=i,i}class eX{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(OQ(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yd(this._repo,bt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(JQ(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&No("Cannot call "+e+" on a deleted database.")}}function tX(t=vy(),e){const n=Ya(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Pk("database");r&&nX(n,...r)}return n}function nX(t,e,n,r={}){t=qt(t),t._checkNotDeleted("useEmulator");const s=`${e}:${n}`,i=t._repoInternal;if(t._instanceStarted){if(s===t._repoInternal.repoInfo_.host&&Eo(r,i.repoInfo_.emulatorOptions))return;No("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&No('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new zp(zp.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:kk(r.mockUserToken,t.app.options.projectId);a=new zp(c)}Ka(e)&&(tE(e),nE("Database",!0)),QQ(i,s,r,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t){yK(hc),qs(new _s("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return XQ(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Pr(aN,lN,t),Pr(aN,lN,"esm2020")}xo.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};xo.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};rX();const sX={apiKey:"AIzaSyBawZl4SJz7drhzIrG0dnazSglyF6vmKCg",authDomain:"perfect-156b5.firebaseapp.com",databaseURL:"https://perfect-156b5-default-rtdb.firebaseio.com",projectId:"perfect-156b5",storageBucket:"perfect-156b5.firebasestorage.app",messagingSenderId:"435536634816",appId:"1:435536634816:web:2f480f6d627e032da1de25",measurementId:"G-H9WJWPEY59"},Zy=Bk(sX);t7(Zy);const xp=MW(Zy),vt=sK(Zy);tX(Zy);const DM=w.createContext(void 0);function iX({children:t}){const[e,n]=w.useState(null),[r,s]=w.useState(!0),[i,a]=w.useState(!1),[c,d]=w.useState(!1),h=async _=>{if(!_){a(!1),d(!1);return}const C=await _.getIdTokenResult();a(C.claims.admin===!0),d(C.claims.staff===!0||C.claims.admin===!0)};w.useEffect(()=>{const _=b$(xp,async C=>{n(C),C&&await h(C),s(!1)});return()=>_()},[]);const m=async(_,C)=>{try{return await _$(xp,_,C),{error:null}}catch(T){return{error:T}}},g=async(_,C,T)=>{try{const S=await x$(xp,_,C);return console.log("Full name to set (not implemented yet):",T),{error:null}}catch(S){return{error:S}}},v=async()=>{await T$(xp),a(!1),d(!1)};return u.jsx(DM.Provider,{value:{user:e,loading:r,isAdmin:i,isStaff:c,signIn:m,signUp:g,signOut:v},children:t})}function vd(){const t=w.useContext(DM);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const oX=ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),be=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const a=r?ZF:"button";return u.jsx(a,{className:je(oX({variant:e,size:n,className:t})),ref:i,...s})});be.displayName="Button";const BN=[{name:"Accueil",href:"/"},{name:"Mannequins",href:"/models"},{name:"Casting",href:"/casting"},{name:"Services",href:"/services"},{name:"Magazine",href:"/magazine"},{name:"Fashion Day",href:"/fashion-day"},{name:"Contact",href:"/contact"}];function aX(){const[t,e]=w.useState(!1),n=Ga();return u.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:u.jsxs("nav",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs("div",{className:"flex h-20 items-center justify-between",children:[u.jsxs(Xe,{to:"/",className:"flex items-center gap-3",children:[u.jsx("div",{className:"relative",children:u.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:u.jsx("span",{className:"text-primary-foreground font-serif text-xl font-bold",children:"PM"})})}),u.jsxs("div",{className:"hidden sm:block",children:[u.jsx("p",{className:"font-serif text-lg font-semibold text-foreground",children:"Perfect Models"}),u.jsx("p",{className:"text-xs text-muted-foreground tracking-widest uppercase",children:"Management"})]})]}),u.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-1",children:BN.map(r=>u.jsx(Xe,{to:r.href,className:je("px-4 py-2 text-sm font-medium transition-colors rounded-md",n.pathname===r.href?"text-foreground bg-accent":"text-muted-foreground hover:text-foreground hover:bg-accent/50"),children:r.name},r.name))}),u.jsx("div",{className:"hidden lg:flex lg:items-center lg:gap-4",children:u.jsx(be,{asChild:!0,variant:"default",className:"font-medium",children:u.jsx(Xe,{to:"/casting/apply",children:"Postuler"})})}),u.jsx(be,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>e(!t),children:t?u.jsx(Tf,{className:"h-6 w-6"}):u.jsx(i5,{className:"h-6 w-6"})})]}),t&&u.jsx("div",{className:"lg:hidden border-t border-border py-4",children:u.jsxs("div",{className:"flex flex-col gap-2",children:[BN.map(r=>u.jsx(Xe,{to:r.href,onClick:()=>e(!1),className:je("px-4 py-3 text-base font-medium transition-colors rounded-md",n.pathname===r.href?"text-foreground bg-accent":"text-muted-foreground hover:text-foreground hover:bg-accent/50"),children:r.name},r.name)),u.jsx("div",{className:"pt-4 px-4",children:u.jsx(be,{asChild:!0,className:"w-full",children:u.jsx(Xe,{to:"/casting/apply",onClick:()=>e(!1),children:"Postuler au Casting"})})})]})})]})})}function lX(){return u.jsx("footer",{className:"bg-card border-t border-border",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-16",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center",children:u.jsx("span",{className:"text-primary-foreground font-serif text-xl font-bold",children:"PM"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-serif text-lg font-semibold text-foreground",children:"Perfect Models"}),u.jsx("p",{className:"text-xs text-muted-foreground tracking-widest uppercase",children:"Management"})]})]}),u.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:"Rvler et sublimer la beaut africaine  travers l'excellence artistique."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-accent flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-primary hover:text-primary-foreground transition-colors",children:u.jsx(t5,{className:"h-5 w-5"})}),u.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"h-10 w-10 rounded-full bg-accent flex items-center justify-center text-muted-foreground hover:text-foreground hover:bg-primary hover:text-primary-foreground transition-colors",children:u.jsx(X3,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground mb-6",children:"Navigation"}),u.jsx("ul",{className:"space-y-3",children:[{name:"Accueil",href:"/"},{name:"Mannequins",href:"/models"},{name:"Casting",href:"/casting"},{name:"Services",href:"/services"},{name:"Magazine",href:"/magazine"}].map(t=>u.jsx("li",{children:u.jsx(Xe,{to:t.href,className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:t.name})},t.name))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground mb-6",children:"Services"}),u.jsx("ul",{className:"space-y-3",children:["Casting Mannequins","Booking Mannequins","Formation","Conseil en Image","Organisation Dfils"].map(t=>u.jsx("li",{children:u.jsx("span",{className:"text-muted-foreground text-sm",children:t})},t))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground mb-6",children:"Contact"}),u.jsxs("ul",{className:"space-y-4",children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx(qh,{className:"h-5 w-5 text-muted-foreground shrink-0 mt-0.5"}),u.jsx("span",{className:"text-muted-foreground text-sm",children:"Libreville, Gabon"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(pR,{className:"h-5 w-5 text-muted-foreground shrink-0"}),u.jsx("a",{href:"tel:+24174066461",className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:"+241 74 06 64 61"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx(fR,{className:"h-5 w-5 text-muted-foreground shrink-0"}),u.jsx("a",{href:"mailto:contact@perfectmodels.ga",className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:"contact@perfectmodels.ga"})]})]})]})]}),u.jsx("div",{className:"mt-16 pt-8 border-t border-border",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[u.jsxs("p",{className:"text-muted-foreground text-sm",children:[" ",new Date().getFullYear()," Perfect Models Management. Tous droits rservs."]}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx(Xe,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:"Confidentialit"}),u.jsx(Xe,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors text-sm",children:"Conditions"})]})]})})]})})}function mr({children:t}){return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(aX,{}),u.jsx("main",{className:"flex-1 pt-20",children:t}),u.jsx(lX,{})]})}const MM=w.createContext({});function cX(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sb=typeof window<"u",uX=Sb?w.useLayoutEffect:w.useEffect,Cb=w.createContext(null);function Ib(t,e){t.indexOf(e)===-1&&t.push(e)}function Nb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Po=(t,e,n)=>n>e?e:n<t?t:n;let Pb=()=>{};const Ao={},OM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function LM(t){return typeof t=="object"&&t!==null}const VM=t=>/^0[^.\s]+$/u.test(t);function Ab(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,dX=(t,e)=>n=>e(t(n)),zf=(...t)=>t.reduce(dX),ff=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Rb{constructor(){this.subscriptions=[]}add(e){return Ib(this.subscriptions,e),()=>Nb(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Oi=t=>t*1e3,ms=t=>t/1e3;function FM(t,e){return e?t*(1e3/e):0}const UM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hX=1e-7,fX=12;function mX(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=UM(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>hX&&++c<fX);return a}function $f(t,e,n,r){if(t===e&&n===r)return vs;const s=i=>mX(i,0,1,t,n);return i=>i===0||i===1?i:UM(s(i),e,r)}const BM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zM=t=>e=>1-t(1-e),$M=$f(.33,1.53,.69,.99),kb=zM($M),WM=BM(kb),qM=t=>(t*=2)<1?.5*kb(t):.5*(2-Math.pow(2,-10*(t-1))),jb=t=>1-Math.sin(Math.acos(t)),HM=zM(jb),GM=BM(jb),pX=$f(.42,0,1,1),gX=$f(0,0,.58,1),KM=$f(.42,0,.58,1),yX=t=>Array.isArray(t)&&typeof t[0]!="number",YM=t=>Array.isArray(t)&&typeof t[0]=="number",vX={linear:vs,easeIn:pX,easeInOut:KM,easeOut:gX,circIn:jb,circInOut:GM,circOut:HM,backIn:kb,backInOut:WM,backOut:$M,anticipate:qM},xX=t=>typeof t=="string",zN=t=>{if(YM(t)){Pb(t.length===4);const[e,n,r,s]=t;return $f(e,n,r,s)}else if(xX(t))return vX[t];return t},_p=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _X(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,g=!1,v=!1)=>{const C=v&&s?n:r;return g&&a.add(m),C.has(m)||C.add(m),m},cancel:m=>{r.delete(m),a.delete(m)},process:m=>{if(c=m,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,i&&(i=!1,h.process(m))}};return h}const wX=40;function QM(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=_p.reduce((N,L)=>(N[L]=_X(i),N),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:g,preRender:v,render:_,postRender:C}=a,T=()=>{const N=Ao.useManualTiming?s.timestamp:performance.now();n=!1,Ao.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(N-s.timestamp,wX),1)),s.timestamp=N,s.isProcessing=!0,c.process(s),d.process(s),h.process(s),m.process(s),g.process(s),v.process(s),_.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(T))},S=()=>{n=!0,r=!0,s.isProcessing||t(T)};return{schedule:_p.reduce((N,L)=>{const z=a[L];return N[L]=(H,j=!1,R=!1)=>(n||S(),z.schedule(H,j,R)),N},{}),cancel:N=>{for(let L=0;L<_p.length;L++)a[_p[L]].cancel(N)},state:s,steps:a}}const{schedule:Wt,cancel:$a,state:Mn,steps:w_}=QM(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let $p;function EX(){$p=void 0}const Nr={now:()=>($p===void 0&&Nr.set(Mn.isProcessing||Ao.useManualTiming?Mn.timestamp:performance.now()),$p),set:t=>{$p=t,queueMicrotask(EX)}},XM=t=>e=>typeof e=="string"&&e.startsWith(t),Db=XM("--"),bX=XM("var(--"),Mb=t=>bX(t)?TX.test(t.split("/*")[0].trim()):!1,TX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mf={...xd,transform:t=>Po(0,1,t)},wp={...xd,default:1},Uh=t=>Math.round(t*1e5)/1e5,Ob=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SX(t){return t==null}const CX=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lb=(t,e)=>n=>!!(typeof n=="string"&&CX.test(n)&&n.startsWith(t)||e&&!SX(n)&&Object.prototype.hasOwnProperty.call(n,e)),JM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(Ob);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},IX=t=>Po(0,255,t),E_={...xd,transform:t=>Math.round(IX(t))},Ll={test:Lb("rgb","red"),parse:JM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+E_.transform(t)+", "+E_.transform(e)+", "+E_.transform(n)+", "+Uh(mf.transform(r))+")"};function NX(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Qw={test:Lb("#"),parse:NX,transform:Ll.transform},Wf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ua=Wf("deg"),Li=Wf("%"),$e=Wf("px"),PX=Wf("vh"),AX=Wf("vw"),$N={...Li,parse:t=>Li.parse(t)/100,transform:t=>Li.transform(t*100)},fu={test:Lb("hsl","hue"),parse:JM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Li.transform(Uh(e))+", "+Li.transform(Uh(n))+", "+Uh(mf.transform(r))+")"},hn={test:t=>Ll.test(t)||Qw.test(t)||fu.test(t),parse:t=>Ll.test(t)?Ll.parse(t):fu.test(t)?fu.parse(t):Qw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ll.transform(t):fu.transform(t),getAnimatableNone:t=>{const e=hn.parse(t);return e.alpha=0,hn.transform(e)}},RX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function kX(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ob))==null?void 0:e.length)||0)+(((n=t.match(RX))==null?void 0:n.length)||0)>0}const ZM="number",eO="color",jX="var",DX="var(",WN="${}",MX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(MX,d=>(hn.test(d)?(r.color.push(i),s.push(eO),n.push(hn.parse(d))):d.startsWith(DX)?(r.var.push(i),s.push(jX),n.push(d)):(r.number.push(i),s.push(ZM),n.push(parseFloat(d))),++i,WN)).split(WN);return{values:n,split:c,indexes:r,types:s}}function tO(t){return pf(t).values}function nO(t){const{split:e,types:n}=pf(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===ZM?i+=Uh(s[a]):c===eO?i+=hn.transform(s[a]):i+=s[a]}return i}}const OX=t=>typeof t=="number"?0:hn.test(t)?hn.getAnimatableNone(t):t;function LX(t){const e=tO(t);return nO(t)(e.map(OX))}const Wa={test:kX,parse:tO,createTransformer:nO,getAnimatableNone:LX};function b_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function VX({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=b_(d,c,t+1/3),i=b_(d,c,t),a=b_(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function Vg(t,e){return n=>n>0?e:t}const Qt=(t,e,n)=>t+(e-t)*n,T_=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},FX=[Qw,Ll,fu],UX=t=>FX.find(e=>e.test(t));function qN(t){const e=UX(t);if(!e)return!1;let n=e.parse(t);return e===fu&&(n=VX(n)),n}const HN=(t,e)=>{const n=qN(t),r=qN(e);if(!n||!r)return Vg(t,e);const s={...n};return i=>(s.red=T_(n.red,r.red,i),s.green=T_(n.green,r.green,i),s.blue=T_(n.blue,r.blue,i),s.alpha=Qt(n.alpha,r.alpha,i),Ll.transform(s))},Xw=new Set(["none","hidden"]);function BX(t,e){return Xw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zX(t,e){return n=>Qt(t,e,n)}function Vb(t){return typeof t=="number"?zX:typeof t=="string"?Mb(t)?Vg:hn.test(t)?HN:qX:Array.isArray(t)?rO:typeof t=="object"?hn.test(t)?HN:$X:Vg}function rO(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Vb(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function $X(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vb(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function WX(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const qX=(t,e)=>{const n=Wa.createTransformer(e),r=pf(t),s=pf(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Xw.has(t)&&!s.values.length||Xw.has(e)&&!r.values.length?BX(t,e):zf(rO(WX(r,s),s.values),n):Vg(t,e)};function sO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Qt(t,e,n):Vb(t)(t,e)}const HX=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Wt.update(e,n),stop:()=>$a(e),now:()=>Mn.isProcessing?Mn.timestamp:Nr.now()}},iO=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Fg=2e4;function Fb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Fg;)e+=n,r=t.next(e);return e>=Fg?1/0:e}function GX(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Fb(r),Fg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:ms(s)}}const KX=5;function oO(t,e,n){const r=Math.max(e-KX,0);return FM(n-t(r),e-r)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},S_=.001;function YX({duration:t=en.duration,bounce:e=en.bounce,velocity:n=en.velocity,mass:r=en.mass}){let s,i,a=1-e;a=Po(en.minDamping,en.maxDamping,a),t=Po(en.minDuration,en.maxDuration,ms(t)),a<1?(s=h=>{const m=h*a,g=m*t,v=m-n,_=Jw(h,a),C=Math.exp(-g);return S_-v/_*C},i=h=>{const g=h*a*t,v=g*n+n,_=Math.pow(a,2)*Math.pow(h,2)*t,C=Math.exp(-g),T=Jw(Math.pow(h,2),a);return(-s(h)+S_>0?-1:1)*((v-_)*C)/T}):(s=h=>{const m=Math.exp(-h*t),g=(h-n)*t+1;return-S_+m*g},i=h=>{const m=Math.exp(-h*t),g=(n-h)*(t*t);return m*g});const c=5/t,d=XX(s,i,c);if(t=Oi(t),isNaN(d))return{stiffness:en.stiffness,damping:en.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:a*2*Math.sqrt(r*h),duration:t}}}const QX=12;function XX(t,e,n){let r=n;for(let s=1;s<QX;s++)r=r-t(r)/e(r);return r}function Jw(t,e){return t*Math.sqrt(1-e*e)}const JX=["duration","bounce"],ZX=["stiffness","damping","mass"];function GN(t,e){return e.some(n=>t[n]!==void 0)}function eJ(t){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...t};if(!GN(t,ZX)&&GN(t,JX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Po(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:en.mass,stiffness:s,damping:i}}else{const n=YX(t);e={...e,...n,mass:en.mass},e.isResolvedFromDuration=!0}return e}function Ug(t=en.visualDuration,e=en.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:_}=eJ({...n,velocity:-ms(n.velocity||0)}),C=v||0,T=h/(2*Math.sqrt(d*m)),S=a-i,A=ms(Math.sqrt(d/m)),k=Math.abs(S)<5;r||(r=k?en.restSpeed.granular:en.restSpeed.default),s||(s=k?en.restDelta.granular:en.restDelta.default);let N;if(T<1){const z=Jw(A,T);N=H=>{const j=Math.exp(-T*A*H);return a-j*((C+T*A*S)/z*Math.sin(z*H)+S*Math.cos(z*H))}}else if(T===1)N=z=>a-Math.exp(-A*z)*(S+(C+A*S)*z);else{const z=A*Math.sqrt(T*T-1);N=H=>{const j=Math.exp(-T*A*H),R=Math.min(z*H,300);return a-j*((C+T*A*S)*Math.sinh(R)+z*S*Math.cosh(R))/z}}const L={calculatedDuration:_&&g||null,next:z=>{const H=N(z);if(_)c.done=z>=g;else{let j=z===0?C:0;T<1&&(j=z===0?Oi(C):oO(N,z,H));const R=Math.abs(j)<=r,M=Math.abs(a-H)<=s;c.done=R&&M}return c.value=c.done?a:H,c},toString:()=>{const z=Math.min(Fb(L),Fg),H=iO(j=>L.next(z*j).value,z,30);return z+"ms "+H},toTransition:()=>{}};return L}Ug.applyToOptions=t=>{const e=GX(t,100,Ug);return t.ease=e.ease,t.duration=Oi(e.duration),t.type="keyframes",t};function Zw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:d,restDelta:h=.5,restSpeed:m}){const g=t[0],v={done:!1,value:g},_=R=>c!==void 0&&R<c||d!==void 0&&R>d,C=R=>c===void 0?d:d===void 0||Math.abs(c-R)<Math.abs(d-R)?c:d;let T=n*e;const S=g+T,A=a===void 0?S:a(S);A!==S&&(T=A-g);const k=R=>-T*Math.exp(-R/r),N=R=>A+k(R),L=R=>{const M=k(R),F=N(R);v.done=Math.abs(M)<=h,v.value=v.done?A:F};let z,H;const j=R=>{_(v.value)&&(z=R,H=Ug({keyframes:[v.value,C(v.value)],velocity:oO(N,R,v.value),damping:s,stiffness:i,restDelta:h,restSpeed:m}))};return j(0),{calculatedDuration:null,next:R=>{let M=!1;return!H&&z===void 0&&(M=!0,L(R),j(R)),z!==void 0&&R>=z?H.next(R-z):(!M&&L(R),v)}}}function tJ(t,e,n){const r=[],s=n||Ao.mix||sO,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||vs:e;c=zf(d,c)}r.push(c)}return r}function nJ(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Pb(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=tJ(e,r,s),d=c.length,h=m=>{if(a&&m<t[0])return e[0];let g=0;if(d>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const v=ff(t[g],t[g+1],m);return c[g](v)};return n?m=>h(Po(t[0],t[i-1],m)):h}function rJ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ff(0,e,r);t.push(Qt(n,1,s))}}function sJ(t){const e=[0];return rJ(e,t.length-1),e}function iJ(t,e){return t.map(n=>n*e)}function oJ(t,e){return t.map(()=>e||KM).splice(0,t.length-1)}function Bh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=yX(r)?r.map(zN):zN(r),i={done:!1,value:e[0]},a=iJ(n&&n.length===e.length?n:sJ(e),t),c=nJ(a,e,{ease:Array.isArray(s)?s:oJ(e,s)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const aJ=t=>t!==null;function Ub(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(aJ),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const lJ={decay:Zw,inertia:Zw,tween:Bh,keyframes:Bh,spring:Ug};function aO(t){typeof t.type=="string"&&(t.type=lJ[t.type])}class Bb{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const cJ=t=>t/100;class zb extends Bb{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Nr.now()&&this.tick(Nr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aO(e);const{type:n=Bh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const d=n||Bh;d!==Bh&&typeof c[0]!="number"&&(this.mixKeyframes=zf(cJ,sO(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Fb(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:_,type:C,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?A<0:A>s;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let N=this.currentTime,L=r;if(g){const R=Math.min(this.currentTime,s)/c;let M=Math.floor(R),F=R%1;!F&&R>=1&&(F=1),F===1&&M--,M=Math.min(M,g+1),!!(M%2)&&(v==="reverse"?(F=1-F,_&&(F-=_/c)):v==="mirror"&&(L=a)),N=Po(0,1,F)*c}const z=k?{done:!1,value:m[0]}:L.next(N);i&&(z.value=i(z.value));let{done:H}=z;!k&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return j&&C!==Zw&&(z.value=Ub(m,this.options,S,this.speed)),T&&T(z.value),j&&this.finish(),z}then(e,n){return this.finished.then(e,n)}get duration(){return ms(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ms(e)}get time(){return ms(this.currentTime)}set time(e){var n;e=Oi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ms(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=HX,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function uJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vl=t=>t*180/Math.PI,e0=t=>{const e=Vl(Math.atan2(t[1],t[0]));return t0(e)},dJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:e0,rotateZ:e0,skewX:t=>Vl(Math.atan(t[1])),skewY:t=>Vl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},t0=t=>(t=t%360,t<0&&(t+=360),t),KN=e0,YN=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),QN=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YN,scaleY:QN,scale:t=>(YN(t)+QN(t))/2,rotateX:t=>t0(Vl(Math.atan2(t[6],t[5]))),rotateY:t=>t0(Vl(Math.atan2(-t[2],t[0]))),rotateZ:KN,rotate:KN,skewX:t=>Vl(Math.atan(t[4])),skewY:t=>Vl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function n0(t){return t.includes("scale")?1:0}function r0(t,e){if(!t||t==="none")return n0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=hJ,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dJ,s=c}if(!s)return n0(e);const i=r[e],a=s[1].split(",").map(mJ);return typeof i=="function"?i(a):a[i]}const fJ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return r0(n,e)};function mJ(t){return parseFloat(t.trim())}const _d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wd=new Set(_d),XN=t=>t===xd||t===$e,pJ=new Set(["x","y","z"]),gJ=_d.filter(t=>!pJ.has(t));function yJ(t){const e=[];return gJ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Gl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>r0(e,"x"),y:(t,{transform:e})=>r0(e,"y")};Gl.translateX=Gl.x;Gl.translateY=Gl.y;const Kl=new Set;let s0=!1,i0=!1,o0=!1;function lO(){if(i0){const t=Array.from(Kl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=yJ(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}i0=!1,s0=!1,Kl.forEach(t=>t.complete(o0)),Kl.clear()}function cO(){Kl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(i0=!0)})}function vJ(){o0=!0,cO(),lO(),o0=!1}class $b{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Kl.add(this),s0||(s0=!0,Wt.read(cO),Wt.resolveKeyframes(lO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}uJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kl.delete(this)}cancel(){this.state==="scheduled"&&(Kl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xJ=t=>t.startsWith("--");function _J(t,e,n){xJ(e)?t.style.setProperty(e,n):t.style[e]=n}const wJ=Ab(()=>window.ScrollTimeline!==void 0),EJ={};function bJ(t,e){const n=Ab(t);return()=>EJ[e]??n()}const uO=bJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ch=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,JN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ch([0,.65,.55,1]),circOut:Ch([.55,0,1,.45]),backIn:Ch([.31,.01,.66,-.59]),backOut:Ch([.33,1.53,.69,.99])};function dO(t,e){if(t)return typeof t=="function"?uO()?iO(t,e):"ease-out":YM(t)?Ch(t):Array.isArray(t)?t.map(n=>dO(n,e)||JN.easeOut):JN[t]}function TJ(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:n};d&&(m.offset=d);const g=dO(c,s);Array.isArray(g)&&(m.easing=g);const v={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(m,v)}function hO(t){return typeof t=="function"&&"applyToOptions"in t}function SJ({type:t,...e}){return hO(t)&&uO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CJ extends Bb{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,Pb(typeof e.type!="string");const h=SJ(e);this.animation=TJ(n,r,s,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=Ub(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):_J(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ms(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ms(e)}get time(){return ms(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Oi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wJ()?(this.animation.timeline=e,vs):n(this)}}const fO={anticipate:qM,backInOut:WM,circInOut:GM};function IJ(t){return t in fO}function NJ(t){typeof t.ease=="string"&&IJ(t.ease)&&(t.ease=fO[t.ease])}const ZN=10;class PJ extends CJ{constructor(e){NJ(e),aO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new zb({...a,autoplay:!1}),d=Oi(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-ZN).value,c.sample(d).value,ZN),c.stop()}}const eP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wa.test(t)||t==="0")&&!t.startsWith("url("));function AJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function RJ(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=eP(s,e),c=eP(i,e);return!a||!c?!1:AJ(t)||(n==="spring"||hO(n))&&r}function a0(t){t.duration=0,t.type="keyframes"}const kJ=new Set(["opacity","clipPath","filter","transform"]),jJ=Ab(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function DJ(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return jJ()&&n&&kJ.has(n)&&(n!=="transform"||!h)&&!d&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const MJ=40;class OJ extends Bb{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:d,motionValue:h,element:m,...g}){var C;super(),this.stop=()=>{var T,S;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Nr.now();const v={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:d,motionValue:h,element:m,...g},_=(m==null?void 0:m.KeyframeResolver)||$b;this.keyframeResolver=new _(c,(T,S,A)=>this.onKeyframesResolved(T,S,v,!A),d,h,m),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=Nr.now(),RJ(e,i,a,c)||((Ao.instantAnimations||!d)&&(m==null||m(Ub(e,r,n))),e[0]=e[e.length-1],a0(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>MJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},_=!h&&DJ(v)?new PJ({...v,element:v.motionValue.owner.current}):new zb(v);_.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),vJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const LJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VJ(t){const e=LJ.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function mO(t,e,n=1){const[r,s]=VJ(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return OM(a)?parseFloat(a):a}return Mb(s)?mO(s,e,n+1):s}function Wb(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const pO=new Set(["width","height","top","left","right","bottom",..._d]),FJ={test:t=>t==="auto",parse:t=>t},gO=t=>e=>e.test(t),yO=[xd,$e,Li,ua,AX,PX,FJ],tP=t=>yO.find(gO(t));function UJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VM(t):!0}const BJ=new Set(["brightness","contrast","saturate","opacity"]);function zJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ob)||[];if(!r)return t;const s=n.replace(r,"");let i=BJ.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const $J=/\b([a-z-]*)\(.*?\)/gu,l0={...Wa,getAnimatableNone:t=>{const e=t.match($J);return e?e.map(zJ).join(" "):t}},nP={...xd,transform:Math.round},WJ={rotate:ua,rotateX:ua,rotateY:ua,rotateZ:ua,scale:wp,scaleX:wp,scaleY:wp,scaleZ:wp,skew:ua,skewX:ua,skewY:ua,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:mf,originX:$N,originY:$N,originZ:$e},qb={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...WJ,zIndex:nP,fillOpacity:mf,strokeOpacity:mf,numOctaves:nP},qJ={...qb,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:l0,WebkitFilter:l0},vO=t=>qJ[t];function xO(t,e){let n=vO(t);return n!==l0&&(n=Wa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HJ=new Set(["auto","none","0"]);function GJ(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!HJ.has(i)&&pf(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=xO(n,s)}class KJ extends $b{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Mb(h))){const m=mO(h,n.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!pO.has(r)||e.length!==2)return;const[s,i]=e,a=tP(s),c=tP(i);if(a!==c)if(XN(a)&&XN(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else Gl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||UJ(e[s]))&&r.push(s);r.length&&GJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Gl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function _O(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const wO=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YJ(t){return LM(t)&&"offsetHeight"in t}const rP=30,QJ=t=>!isNaN(parseFloat(t));class XJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Nr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=QJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Rb);const r=this.events[e].add(n);return e==="change"?()=>{r(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rP);return FM(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(t,e){return new XJ(t,e)}const{schedule:Hb}=QM(queueMicrotask,!1),Ds={x:!1,y:!1};function EO(){return Ds.x||Ds.y}function JJ(t){return t==="x"||t==="y"?Ds[t]?null:(Ds[t]=!0,()=>{Ds[t]=!1}):Ds.x||Ds.y?null:(Ds.x=Ds.y=!0,()=>{Ds.x=Ds.y=!1})}function bO(t,e){const n=_O(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function sP(t){return!(t.pointerType==="touch"||EO())}function ZJ(t,e,n={}){const[r,s,i]=bO(t,n),a=c=>{if(!sP(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=g=>{sP(g)&&(h(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const TO=(t,e)=>e?t===e?!0:TO(t,e.parentElement):!1,Gb=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tZ(t){return eZ.has(t.tagName)||t.tabIndex!==-1}const Wp=new WeakSet;function iP(t){return e=>{e.key==="Enter"&&t(e)}}function C_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const nZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iP(()=>{if(Wp.has(n))return;C_(n,"down");const s=iP(()=>{C_(n,"up")}),i=()=>C_(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function oP(t){return Gb(t)&&!EO()}function rZ(t,e,n={}){const[r,s,i]=bO(t,n),a=c=>{const d=c.currentTarget;if(!oP(c))return;Wp.add(d);const h=e(d,c),m=(_,C)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),Wp.has(d)&&Wp.delete(d),oP(_)&&typeof h=="function"&&h(_,{success:C})},g=_=>{m(_,d===window||d===document||n.useGlobalTarget||TO(d,_.target))},v=_=>{m(_,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),YJ(c)&&(c.addEventListener("focus",h=>nZ(h,s)),!tZ(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function SO(t){return LM(t)&&"ownerSVGElement"in t}function sZ(t){return SO(t)&&t.tagName==="svg"}const rr=t=>!!(t&&t.getVelocity),iZ=[...yO,hn,Wa],oZ=t=>iZ.find(gO(t)),CO=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function aZ(t=!0){const e=w.useContext(Cb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=w.useId();w.useEffect(()=>{if(t)return s(i)},[t]);const a=w.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const IO=w.createContext({strict:!1}),aP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ju={};for(const t in aP)Ju[t]={isEnabled:e=>aP[t].some(n=>!!e[n])};function lZ(t){for(const e in t)Ju[e]={...Ju[e],...t[e]}}const cZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cZ.has(t)}let NO=t=>!Bg(t);function uZ(t){typeof t=="function"&&(NO=e=>e.startsWith("on")?!Bg(e):t(e))}try{uZ(require("@emotion/is-prop-valid").default)}catch{}function dZ(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(NO(s)||n===!0&&Bg(s)||!e&&!Bg(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const ev=w.createContext({});function tv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gf(t){return typeof t=="string"||Array.isArray(t)}const Kb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yb=["initial",...Kb];function nv(t){return tv(t.animate)||Yb.some(e=>gf(t[e]))}function PO(t){return!!(nv(t)||t.variants)}function hZ(t,e){if(nv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gf(n)?n:void 0,animate:gf(r)?r:void 0}}return t.inherit!==!1?e:{}}function fZ(t){const{initial:e,animate:n}=hZ(t,w.useContext(ev));return w.useMemo(()=>({initial:e,animate:n}),[lP(e),lP(n)])}function lP(t){return Array.isArray(t)?t.join(" "):t}const yf={};function mZ(t){for(const e in t)yf[e]=t[e],Db(e)&&(yf[e].isCSSVariable=!0)}function AO(t,{layout:e,layoutId:n}){return wd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yf[t]||t==="opacity")}const pZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gZ=_d.length;function yZ(t,e,n){let r="",s=!0;for(let i=0;i<gZ;i++){const a=_d[i],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=wO(c,qb[a]);if(!d){s=!1;const m=pZ[a]||a;r+=`${m}(${h}) `}n&&(e[a]=h)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Qb(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const d in e){const h=e[d];if(wd.has(d)){a=!0;continue}else if(Db(d)){s[d]=h;continue}else{const m=wO(h,qb[d]);d.startsWith("origin")?(c=!0,i[d]=m):r[d]=m}}if(e.transform||(a||n?r.transform=yZ(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=i;r.transformOrigin=`${d} ${h} ${m}`}}const Xb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RO(t,e,n){for(const r in e)!rr(e[r])&&!AO(r,n)&&(t[r]=e[r])}function vZ({transformTemplate:t},e){return w.useMemo(()=>{const n=Xb();return Qb(n,e,t),Object.assign({},n.vars,n.style)},[e])}function xZ(t,e){const n=t.style||{},r={};return RO(r,n,t),Object.assign(r,vZ(t,e)),r}function _Z(t,e){const n={},r=xZ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},EZ={offset:"strokeDashoffset",array:"strokeDasharray"};function bZ(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?wZ:EZ;t[i.offset]=$e.transform(-r);const a=$e.transform(e),c=$e.transform(n);t[i.array]=`${a} ${c}`}function kO(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},d,h,m){if(Qb(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),s!==void 0&&bZ(g,s,i,a,!1)}const jO=()=>({...Xb(),attrs:{}}),DO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TZ(t,e,n,r){const s=w.useMemo(()=>{const i=jO();return kO(i,e,DO(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};RO(i,t.style,t),s.style={...i,...s.style}}return s}const SZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jb(t){return typeof t!="string"||t.includes("-")?!1:!!(SZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function CZ(t,e,n,{latestValues:r},s,i=!1){const c=(Jb(t)?TZ:_Z)(e,r,s,t),d=dZ(e,typeof t=="string",i),h=t!==w.Fragment?{...d,...c,ref:n}:{},{children:m}=e,g=w.useMemo(()=>rr(m)?m.get():m,[m]);return w.createElement(t,{...h,children:g})}function cP(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Zb(t,e,n,r){if(typeof e=="function"){const[s,i]=cP(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=cP(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function qp(t){return rr(t)?t.get():t}function IZ({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:NZ(n,r,s,t),renderState:e()}}function NZ(t,e,n,r){const s={},i=r(t,{});for(const v in i)s[v]=qp(i[v]);let{initial:a,animate:c}=t;const d=nv(t),h=PO(t);e&&h&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let m=n?n.initial===!1:!1;m=m||a===!1;const g=m?c:a;if(g&&typeof g!="boolean"&&!tv(g)){const v=Array.isArray(g)?g:[g];for(let _=0;_<v.length;_++){const C=Zb(t,v[_]);if(C){const{transitionEnd:T,transition:S,...A}=C;for(const k in A){let N=A[k];if(Array.isArray(N)){const L=m?N.length-1:0;N=N[L]}N!==null&&(s[k]=N)}for(const k in T)s[k]=T[k]}}}return s}const MO=t=>(e,n)=>{const r=w.useContext(ev),s=w.useContext(Cb),i=()=>IZ(t,e,r,s);return n?i():cX(i)};function eT(t,e,n){var i;const{style:r}=t,s={};for(const a in r)(rr(r[a])||e.style&&rr(e.style[a])||AO(a,t)||((i=n==null?void 0:n.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=r[a]);return s}const PZ=MO({scrapeMotionValuesFromProps:eT,createRenderState:Xb});function OO(t,e,n){const r=eT(t,e,n);for(const s in t)if(rr(t[s])||rr(e[s])){const i=_d.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const AZ=MO({scrapeMotionValuesFromProps:OO,createRenderState:jO}),RZ=Symbol.for("motionComponentSymbol");function mu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kZ(t,e,n){return w.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):mu(n)&&(n.current=r))},[e])}const tT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jZ="framerAppearId",LO="data-"+tT(jZ),VO=w.createContext({});function DZ(t,e,n,r,s){var T,S;const{visualElement:i}=w.useContext(ev),a=w.useContext(IO),c=w.useContext(Cb),d=w.useContext(CO).reducedMotion,h=w.useRef(null);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=w.useContext(VO);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&MZ(h.current,n,s,g);const v=w.useRef(!1);w.useInsertionEffect(()=>{m&&v.current&&m.update(n,c)});const _=n[LO],C=w.useRef(!!_&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,_))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,_)));return uX(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),C.current&&m.animationState&&m.animationState.animateChanges())}),w.useEffect(()=>{m&&(!C.current&&m.animationState&&m.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)==null||A.call(window,_)}),C.current=!1),m.enteringChildren=void 0)}),m}function MZ(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:FO(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&mu(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function FO(t){if(t)return t.options.allowProjection!==!1?t.projection:FO(t.parent)}function I_(t,{forwardMotionProps:e=!1}={},n,r){n&&lZ(n);const s=Jb(t)?AZ:PZ;function i(c,d){let h;const m={...w.useContext(CO),...c,layoutId:OZ(c)},{isStatic:g}=m,v=fZ(c),_=s(c,g);if(!g&&Sb){LZ();const C=VZ(m);h=C.MeasureLayout,v.visualElement=DZ(t,_,m,r,C.ProjectionNode)}return u.jsxs(ev.Provider,{value:v,children:[h&&v.visualElement?u.jsx(h,{visualElement:v.visualElement,...m}):null,CZ(t,c,kZ(_,v.visualElement,d),_,g,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=w.forwardRef(i);return a[RZ]=t,a}function OZ({layoutId:t}){const e=w.useContext(MM).id;return e&&t!==void 0?e+"-"+t:t}function LZ(t,e){w.useContext(IO).strict}function VZ(t){const{drag:e,layout:n}=Ju;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FZ(t,e){if(typeof Proxy>"u")return I_;const n=new Map,r=(i,a)=>I_(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,I_(a,void 0,t,e)),n.get(a))})}function UO({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function UZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BZ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function N_(t){return t===void 0||t===1}function c0({scale:t,scaleX:e,scaleY:n}){return!N_(t)||!N_(e)||!N_(n)}function kl(t){return c0(t)||BO(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BO(t){return uP(t.x)||uP(t.y)}function uP(t){return t&&t!=="0%"}function zg(t,e,n){const r=t-n,s=e*r;return n+s}function dP(t,e,n,r,s){return s!==void 0&&(t=zg(t,s,r)),zg(t,n,r)+e}function u0(t,e=0,n=1,r,s){t.min=dP(t.min,e,n,r,s),t.max=dP(t.max,e,n,r,s)}function zO(t,{x:e,y:n}){u0(t.x,e.translate,e.scale,e.originPoint),u0(t.y,n.translate,n.scale,n.originPoint)}const hP=.999999999999,fP=1.0000000000001;function zZ(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,zO(t,a)),r&&kl(i.latestValues)&&gu(t,i.latestValues))}e.x<fP&&e.x>hP&&(e.x=1),e.y<fP&&e.y>hP&&(e.y=1)}function pu(t,e){t.min=t.min+e,t.max=t.max+e}function mP(t,e,n,r,s=.5){const i=Qt(t.min,t.max,s);u0(t,e,n,i,r)}function gu(t,e){mP(t.x,e.x,e.scaleX,e.scale,e.originX),mP(t.y,e.y,e.scaleY,e.scale,e.originY)}function $O(t,e){return UO(BZ(t.getBoundingClientRect(),e))}function $Z(t,e,n){const r=$O(t,n),{scroll:s}=e;return s&&(pu(r.x,s.offset.x),pu(r.y,s.offset.y)),r}const pP=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:pP(),y:pP()}),gP=()=>({min:0,max:0}),xn=()=>({x:gP(),y:gP()}),d0={current:null},WO={current:!1};function WZ(){if(WO.current=!0,!!Sb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>d0.current=t.matches;t.addEventListener("change",e),e()}else d0.current=!1}const qZ=new WeakMap;function HZ(t,e,n){for(const r in e){const s=e[r],i=n[r];if(rr(s))t.addValue(r,s);else if(rr(i))t.addValue(r,Xu(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Xu(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class GZ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$b,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Nr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Wt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=nv(n),this.isVariantNode=PO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const _=g[v];d[v]!==void 0&&rr(_)&&_.set(d[v])}}mount(e){var n;this.current=e,qZ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),WO.current||WZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:d0.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),$a(this.notifyUpdate),$a(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wd.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ju){const n=Ju[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yP.length;r++){const s=yP[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=HZ(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Xu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(OM(r)||VM(r))?r=parseFloat(r):!oZ(r)&&Wa.test(n)&&(r=xO(e,n)),this.setBaseTarget(e,rr(r)?r.get():r)),rr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Zb(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rr(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Rb),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Hb.render(this.render)}}class qO extends GZ{constructor(){super(...arguments),this.KeyframeResolver=KJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function HO(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function KZ(t){return window.getComputedStyle(t)}class YZ extends qO{constructor(){super(...arguments),this.type="html",this.renderInstance=HO}readValueFromInstance(e,n){var r;if(wd.has(n))return(r=this.projection)!=null&&r.isProjecting?n0(n):fJ(e,n);{const s=KZ(e),i=(Db(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $O(e,n)}build(e,n,r){Qb(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return eT(e,n,r)}}const GO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QZ(t,e,n,r){HO(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(GO.has(s)?s:tT(s),e.attrs[s])}class XZ extends qO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wd.has(n)){const r=vO(n);return r&&r.default||0}return n=GO.has(n)?n:tT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return OO(e,n,r)}build(e,n,r){kO(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){QZ(e,n,r,s)}mount(e){this.isSVGTag=DO(e.tagName),super.mount(e)}}const JZ=(t,e)=>Jb(t)?new XZ(e):new YZ(e,{allowProjection:t!==w.Fragment});function Iu(t,e,n){const r=t.getProps();return Zb(r,e,n!==void 0?n:r.custom,t)}const h0=t=>Array.isArray(t);function ZZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Xu(n))}function eee(t){return h0(t)?t[t.length-1]||0:t}function tee(t,e){const n=Iu(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=eee(i[a]);ZZ(t,a,c)}}function nee(t){return!!(rr(t)&&t.add)}function f0(t,e){const n=t.getValue("willChange");if(nee(n))return n.add(e);if(!n&&Ao.WillChange){const r=new Ao.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function KO(t){return t.props[LO]}const ree=t=>t!==null;function see(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(ree),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const iee={type:"spring",stiffness:500,damping:25,restSpeed:10},oee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),aee={type:"keyframes",duration:.8},lee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},cee=(t,{keyframes:e})=>e.length>2?aee:wd.has(t)?t.startsWith("scale")?oee(e[1]):iee:lee;function uee({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const nT=(t,e,n,r={},s,i)=>a=>{const c=Wb(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Oi(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:v=>{e.set(v),c.onUpdate&&c.onUpdate(v)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};uee(c)||Object.assign(m,cee(t,m)),m.duration&&(m.duration=Oi(m.duration)),m.repeatDelay&&(m.repeatDelay=Oi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(a0(m),m.delay===0&&(g=!0)),(Ao.instantAnimations||Ao.skipAnimations)&&(g=!0,a0(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!i&&e.get()!==void 0){const v=see(m.keyframes,c);if(v!==void 0){Wt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return c.isSync?new zb(m):new OJ(m)};function dee({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function YO(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in c){const g=t.getValue(m,t.latestValues[m]??null),v=c[m];if(v===void 0||h&&dee(h,m))continue;const _={delay:n,...Wb(i||{},m)},C=g.get();if(C!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===C&&!_.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const A=KO(t);if(A){const k=window.MotionHandoffAnimation(A,m,Wt);k!==null&&(_.startTime=k,T=!0)}}f0(t,m),g.start(nT(m,g,v,t.shouldReduceMotion&&pO.has(m)?{type:!1}:_,t,T));const S=g.animation;S&&d.push(S)}return a&&Promise.all(d).then(()=>{Wt.update(()=>{a&&tee(t,a)})}),d}function QO(t,e,n,r=0,s=1){const i=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}function m0(t,e,n={}){var d;const r=Iu(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YO(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=s;return hee(t,e,h,m,g,v,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,m]=c==="beforeChildren"?[i,a]:[a,i];return h().then(()=>m())}else return Promise.all([i(),a(n.delay)])}function hee(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(m0(d,e,{...a,delay:n+(typeof r=="function"?0:r)+QO(t.variantChildren,d,r,s,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function fee(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>m0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=m0(t,e,n);else{const s=typeof e=="function"?Iu(t,e,n.custom):e;r=Promise.all(YO(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function XO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const mee=Yb.length;function JO(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JO(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<mee;n++){const r=Yb[n],s=t.props[r];(gf(s)||s===!1)&&(e[r]=s)}return e}const pee=[...Kb].reverse(),gee=Kb.length;function yee(t){return e=>Promise.all(e.map(({animation:n,options:r})=>fee(t,n,r)))}function vee(t){let e=yee(t),n=vP(),r=!0;const s=d=>(h,m)=>{var v;const g=Iu(t,m,d==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:_,transitionEnd:C,...T}=g;h={...h,...T,...C}}return h};function i(d){e=d(t)}function a(d){const{props:h}=t,m=JO(t.parent)||{},g=[],v=new Set;let _={},C=1/0;for(let S=0;S<gee;S++){const A=pee[S],k=n[A],N=h[A]!==void 0?h[A]:m[A],L=gf(N),z=A===d?k.isActive:null;z===!1&&(C=S);let H=N===m[A]&&N!==h[A]&&L;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),k.protectedKeys={..._},!k.isActive&&z===null||!N&&!k.prevProp||tv(N)||typeof N=="boolean")continue;const j=xee(k.prevProp,N);let R=j||A===d&&k.isActive&&!H&&L||S>C&&L,M=!1;const F=Array.isArray(N)?N:[N];let V=F.reduce(s(A),{});z===!1&&(V={});const{prevResolvedValues:U={}}=k,O={...U,...V},re=le=>{R=!0,v.has(le)&&(M=!0,v.delete(le)),k.needsAnimating[le]=!0;const Y=t.getValue(le);Y&&(Y.liveStyle=!1)};for(const le in O){const Y=V[le],ee=U[le];if(_.hasOwnProperty(le))continue;let ie=!1;h0(Y)&&h0(ee)?ie=!XO(Y,ee):ie=Y!==ee,ie?Y!=null?re(le):v.add(le):Y!==void 0&&v.has(le)?re(le):k.protectedKeys[le]=!0}k.prevProp=N,k.prevResolvedValues=V,k.isActive&&(_={..._,...V}),r&&t.blockInitialAnimation&&(R=!1);const xe=H&&j;R&&(!xe||M)&&g.push(...F.map(le=>{const Y={type:A};if(typeof le=="string"&&r&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,ie=Iu(ee,le);if(ee.enteringChildren&&ie){const{delayChildren:W}=ie.transition||{};Y.delay=QO(ee.enteringChildren,t,W)}}return{animation:le,options:Y}}))}if(v.size){const S={};if(typeof h.initial!="boolean"){const A=Iu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);A&&A.transition&&(S.transition=A.transition)}v.forEach(A=>{const k=t.getBaseTarget(A),N=t.getValue(A);N&&(N.liveStyle=!0),S[A]=k??null}),g.push({animation:S})}let T=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(g):Promise.resolve()}function c(d,h){var g;if(n[d].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var _;return(_=v.animationState)==null?void 0:_.setActive(d,h)}),n[d].isActive=h;const m=a(d);for(const v in n)n[v].protectedKeys={};return m}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=vP()}}}function xee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XO(e,t):!1}function Pl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vP(){return{animate:Pl(!0),whileInView:Pl(),whileHover:Pl(),whileTap:Pl(),whileDrag:Pl(),whileFocus:Pl(),exit:Pl()}}class el{constructor(e){this.isMounted=!1,this.node=e}update(){}}class _ee extends el{constructor(e){super(e),e.animationState||(e.animationState=vee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();tv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let wee=0;class Eee extends el{constructor(){super(...arguments),this.id=wee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bee={animation:{Feature:_ee},exit:{Feature:Eee}};function vf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function qf(t){return{point:{x:t.pageX,y:t.pageY}}}const Tee=t=>e=>Gb(e)&&t(e,qf(e));function zh(t,e,n,r){return vf(t,e,Tee(n),r)}const ZO=1e-4,See=1-ZO,Cee=1+ZO,eL=.01,Iee=0-eL,Nee=0+eL;function hr(t){return t.max-t.min}function Pee(t,e,n){return Math.abs(t-e)<=n}function xP(t,e,n,r=.5){t.origin=r,t.originPoint=Qt(e.min,e.max,t.origin),t.scale=hr(n)/hr(e),t.translate=Qt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=See&&t.scale<=Cee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Iee&&t.translate<=Nee||isNaN(t.translate))&&(t.translate=0)}function $h(t,e,n,r){xP(t.x,e.x,n.x,r?r.originX:void 0),xP(t.y,e.y,n.y,r?r.originY:void 0)}function _P(t,e,n){t.min=n.min+e.min,t.max=t.min+hr(e)}function Aee(t,e,n){_P(t.x,e.x,n.x),_P(t.y,e.y,n.y)}function wP(t,e,n){t.min=e.min-n.min,t.max=t.min+hr(e)}function $g(t,e,n){wP(t.x,e.x,n.x),wP(t.y,e.y,n.y)}function us(t){return[t("x"),t("y")]}const tL=({current:t})=>t?t.ownerDocument.defaultView:null,EP=(t,e)=>Math.abs(t-e);function Ree(t,e){const n=EP(t.x,e.x),r=EP(t.y,e.y);return Math.sqrt(n**2+r**2)}class nL{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=A_(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,C=Ree(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!C)return;const{point:T}=v,{timestamp:S}=Mn;this.history.push({...T,timestamp:S});const{onStart:A,onMove:k}=this.handlers;_||(A&&A(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,v)},this.handlePointerMove=(v,_)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=P_(_,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(v,_)=>{this.end();const{onEnd:C,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=A_(v.type==="pointercancel"?this.lastMoveEventInfo:P_(_,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,A),T&&T(v,A)},!Gb(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const c=qf(e),d=P_(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=Mn;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,A_(d,this.history)),this.removeListeners=zf(zh(this.contextWindow,"pointermove",this.handlePointerMove),zh(this.contextWindow,"pointerup",this.handlePointerUp),zh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$a(this.updatePoint)}}function P_(t,e){return e?{point:e(t.point)}:t}function bP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function A_({point:t},e){return{point:t,delta:bP(t,rL(e)),offset:bP(t,kee(e)),velocity:jee(e,.1)}}function kee(t){return t[0]}function rL(t){return t[t.length-1]}function jee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=rL(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Oi(e)));)n--;if(!r)return{x:0,y:0};const i=ms(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Dee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Qt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Qt(n,t,r.max):Math.min(t,n)),t}function TP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Mee(t,{top:e,left:n,bottom:r,right:s}){return{x:TP(t.x,n,s),y:TP(t.y,e,r)}}function SP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Oee(t,e){return{x:SP(t.x,e.x),y:SP(t.y,e.y)}}function Lee(t,e){let n=.5;const r=hr(t),s=hr(e);return s>r?n=ff(e.min,e.max-r,t.min):r>s&&(n=ff(t.min,t.max-s,e.min)),Po(0,1,n)}function Vee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const p0=.35;function Fee(t=p0){return t===!1?t=0:t===!0&&(t=p0),{x:CP(t,"left","right"),y:CP(t,"top","bottom")}}function CP(t,e,n){return{min:IP(t,e),max:IP(t,n)}}function IP(t,e){return typeof t=="number"?t:t[e]||0}const Uee=new WeakMap;class Bee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qf(g).point)},a=(g,v)=>{const{drag:_,dragPropagation:C,onDragStart:T}=this.getProps();if(_&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JJ(_),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),us(A=>{let k=this.getAxisMotionValue(A).get()||0;if(Li.test(k)){const{projection:N}=this.visualElement;if(N&&N.layout){const L=N.layout.layoutBox[A];L&&(k=hr(L)*(parseFloat(k)/100))}}this.originPoint[A]=k}),T&&Wt.postRender(()=>T(g,v)),f0(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:_,dragDirectionLock:C,onDirectionLock:T,onDrag:S}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:A}=v;if(C&&this.currentDirection===null){this.currentDirection=zee(A),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),S&&S(g,v)},d=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>us(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nL(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:tL(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Wt.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ep(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Dee(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&mu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Mee(r.layoutBox,e):this.constraints=!1,this.elastic=Fee(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&us(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Vee(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!mu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=$Z(r,s.root,this.visualElement.getTransformPagePoint());let a=Oee(s.layout.layoutBox,i);if(n){const c=n(UZ(a));this.hasMutatedConstraints=!!c,c&&(a=UO(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=us(m=>{if(!Ep(m,n,this.currentDirection))return;let g=d&&d[m]||{};a&&(g={min:0,max:0});const v=s?200:1e6,_=s?40:1e7,C={type:"inertia",velocity:r?e[m]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(m,C)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return f0(this.visualElement,e),r.start(nT(e,r,0,n,this.visualElement,!1))}stopAnimation(){us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){us(n=>{const{drag:r}=this.getProps();if(!Ep(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n];i.set(e[n]-Qt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!mu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};us(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=Lee({min:d,max:d},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),us(a=>{if(!Ep(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:h}=this.constraints[a];c.set(Qt(d,h,s[a]))})}addListeners(){if(!this.visualElement.current)return;Uee.set(this.visualElement,this);const e=this.visualElement.current,n=zh(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();mu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Wt.read(r);const a=vf(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(us(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=p0,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Ep(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $ee extends el{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new Bee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const NP=t=>(e,n)=>{t&&Wt.postRender(()=>t(e,n))};class Wee extends el{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new nL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:NP(e),onStart:NP(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Wt.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=zh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=PP(t,e.target.x),r=PP(t,e.target.y);return`${n}% ${r}%`}},qee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Wa.parse(t);if(s.length>5)return r;const i=Wa.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const h=Qt(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=h),typeof s[3+a]=="number"&&(s[3+a]/=h),i(s)}};let R_=!1;class Hee extends w.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;mZ(Gee),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),R_&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Hp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,R_=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Wt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Hb.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;R_=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sL(t){const[e,n]=aZ(),r=w.useContext(MM);return u.jsx(Hee,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(VO),isPresent:e,safeToRemove:n})}const Gee={borderRadius:{...xh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xh,borderTopRightRadius:xh,borderBottomLeftRadius:xh,borderBottomRightRadius:xh,boxShadow:qee};function Kee(t,e,n){const r=rr(t)?t:Xu(t);return r.start(nT("",r,e,n)),r.animation}const Yee=(t,e)=>t.depth-e.depth;class Qee{constructor(){this.children=[],this.isDirty=!1}add(e){Ib(this.children,e),this.isDirty=!0}remove(e){Nb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Yee),this.isDirty=!1,this.children.forEach(e)}}function Xee(t,e){const n=Nr.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&($a(r),t(i-e))};return Wt.setup(r,!0),()=>$a(r)}const iL=["TopLeft","TopRight","BottomLeft","BottomRight"],Jee=iL.length,AP=t=>typeof t=="string"?parseFloat(t):t,RP=t=>typeof t=="number"||$e.test(t);function Zee(t,e,n,r,s,i){s?(t.opacity=Qt(0,n.opacity??1,ete(r)),t.opacityExit=Qt(e.opacity??1,0,tte(r))):i&&(t.opacity=Qt(e.opacity??1,n.opacity??1,r));for(let a=0;a<Jee;a++){const c=`border${iL[a]}Radius`;let d=kP(e,c),h=kP(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||RP(d)===RP(h)?(t[c]=Math.max(Qt(AP(d),AP(h),r),0),(Li.test(h)||Li.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=Qt(e.rotate||0,n.rotate||0,r))}function kP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ete=oL(0,.5,HM),tte=oL(.5,.95,vs);function oL(t,e,n){return r=>r<t?0:r>e?1:n(ff(t,e,r))}function jP(t,e){t.min=e.min,t.max=e.max}function js(t,e){jP(t.x,e.x),jP(t.y,e.y)}function DP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function MP(t,e,n,r,s){return t-=e,t=zg(t,1/n,r),s!==void 0&&(t=zg(t,1/s,r)),t}function nte(t,e=0,n=1,r=.5,s,i=t,a=t){if(Li.test(e)&&(e=parseFloat(e),e=Qt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Qt(i.min,i.max,r);t===i&&(c-=e),t.min=MP(t.min,e,n,c,s),t.max=MP(t.max,e,n,c,s)}function OP(t,e,[n,r,s],i,a){nte(t,e[n],e[r],e[s],e.scale,i,a)}const rte=["x","scaleX","originX"],ste=["y","scaleY","originY"];function LP(t,e,n,r){OP(t.x,e,rte,n?n.x:void 0,r?r.x:void 0),OP(t.y,e,ste,n?n.y:void 0,r?r.y:void 0)}function VP(t){return t.translate===0&&t.scale===1}function aL(t){return VP(t.x)&&VP(t.y)}function FP(t,e){return t.min===e.min&&t.max===e.max}function ite(t,e){return FP(t.x,e.x)&&FP(t.y,e.y)}function UP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function lL(t,e){return UP(t.x,e.x)&&UP(t.y,e.y)}function BP(t){return hr(t.x)/hr(t.y)}function zP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ote{constructor(){this.members=[]}add(e){Ib(this.members,e),e.scheduleRender()}remove(e){if(Nb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ate(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:_,skewY:C}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),g&&(r+=`rotateX(${g}deg) `),v&&(r+=`rotateY(${v}deg) `),_&&(r+=`skewX(${_}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const k_=["","X","Y","Z"],lte=1e3;let cte=0;function j_(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cL(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KO(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Wt,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cL(r)}function uL({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=cte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hte),this.nodes.forEach(gte),this.nodes.forEach(yte),this.nodes.forEach(fte)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qee)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Rb),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=SO(a)&&!sZ(a),this.instance=a;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,g=0;const v=()=>this.root.updateBlockedByResize=!1;Wt.read(()=>{g=window.innerWidth}),t(a,()=>{const _=window.innerWidth;_!==g&&(g=_,this.root.updateBlockedByResize=!0,m&&m(),m=Xee(v,250),Hp.hasAnimatedSinceResize&&(Hp.hasAnimatedSinceResize=!1,this.nodes.forEach(qP)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||h.getDefaultTransition()||Ete,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=h.getProps(),A=!this.targetLayout||!lL(this.targetLayout,_),k=!g&&v;if(this.options.layoutRoot||this.resumeFrom||k||g&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Wb(C,"layout"),onPlay:T,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(m,k)}else g||qP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$a(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vte),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($P);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(WP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(pte),this.nodes.forEach(ute),this.nodes.forEach(dte)):this.nodes.forEach(WP),this.clearAllSnapshots();const c=Nr.now();Mn.delta=Po(0,1e3/60,c-Mn.timestamp),Mn.timestamp=c,Mn.isProcessing=!0,w_.update.process(Mn),w_.preRender.process(Mn),w_.render.process(Mn),Mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mte),this.sharedNodes.forEach(xte)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hr(this.snapshot.measuredBox.x)&&!hr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aL(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;a&&this.instance&&(c||kl(this.latestValues)||m)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),bte(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:a}=this.options;if(!a)return xn();const c=a.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(Tte))){const{scroll:m}=this.root;m&&(pu(c.x,m.offset.x),pu(c.y,m.offset.y))}return c}removeElementScroll(a){var d;const c=xn();if(js(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&js(c,a),pu(c.x,g.offset.x),pu(c.y,g.offset.y))}return c}applyTransform(a,c=!1){const d=xn();js(d,a);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&gu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),kl(m.latestValues)&&gu(d,m.latestValues)}return kl(this.latestValues)&&gu(d,this.latestValues),d}removeTransform(a){const c=xn();js(c,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!kl(h.latestValues))continue;c0(h.latestValues)&&h.updateSnapshot();const m=xn(),g=h.measurePageBox();js(m,g),LP(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return kl(this.latestValues)&&LP(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var _;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!this.layout||!(m||g))return;this.resolvedRelativeTargetAt=Mn.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xn(),this.targetWithTransforms=xn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Aee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),zO(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||c0(this.parent.latestValues)||BO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,d){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xn(),this.relativeTargetOrigin=xn(),$g(this.relativeTargetOrigin,c,d),js(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Mn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;js(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;zZ(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=xn());const{target:_}=a;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DP(this.prevProjectionDelta.x,this.projectionDelta.x),DP(this.prevProjectionDelta.y,this.projectionDelta.y)),$h(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!zP(this.projectionDelta.x,this.prevProjectionDelta.x)||!zP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yu(),this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu()}setAnimationOrigin(a,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},g=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=xn(),_=d?d.source:void 0,C=this.layout?this.layout.source:void 0,T=_!==C,S=this.getStack(),A=!S||S.members.length<=1,k=!!(T&&!A&&this.options.crossfade===!0&&!this.path.some(wte));this.animationProgress=0;let N;this.mixTargetDelta=L=>{const z=L/1e3;HP(g.x,a.x,z),HP(g.y,a.y,z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($g(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_te(this.relativeTarget,this.relativeTargetOrigin,v,z),N&&ite(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=xn()),js(N,this.relativeTarget)),T&&(this.animationValues=m,Zee(m,h,this.latestValues,z,k,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&($a(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{Hp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xu(0)),this.currentAnimation=Kee(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),a.onUpdate&&a.onUpdate(m)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=a;if(!(!c||!d||!h)){if(this!==a&&this.layout&&h&&dL(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||xn();const g=hr(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+g;const v=hr(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+v}js(c,d),gu(c,m),$h(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new ote),this.sharedNodes.get(a).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&j_("z",a,h,this.animationValues);for(let m=0;m<k_.length;m++)j_(`rotate${k_[m]}`,a,h,this.animationValues),j_(`skew${k_[m]}`,a,h,this.animationValues);a.render();for(const m in h)a.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=qp(c==null?void 0:c.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=qp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!kl(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=ate(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),a.transform=g;const{x:v,y:_}=this.projectionDelta;a.transformOrigin=`${v.origin*100}% ${_.origin*100}% 0`,h.animationValues?a.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:a.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const C in yf){if(m[C]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:A}=yf[C],k=g==="none"?m[C]:T(m[C],h);if(S){const N=S.length;for(let L=0;L<N;L++)a[S[L]]=k}else A?this.options.visualElement.renderState.vars[C]=k:a[C]=k}this.options.layoutId&&(a.pointerEvents=h===this?qp(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach($P),this.root.sharedNodes.clear()}}}function ute(t){t.updateLayout()}function dte(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?us(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=hr(v);v.min=r[g].min,v.max=v.min+_}):dL(i,e.layoutBox,r)&&us(g=>{const v=a?e.measuredBox[g]:e.layoutBox[g],_=hr(r[g]);v.max=v.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const c=yu();$h(c,r,e.layoutBox);const d=yu();a?$h(d,t.applyTransform(s,!0),e.measuredBox):$h(d,r,e.layoutBox);const h=!aL(c);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:_}=g;if(v&&_){const C=xn();$g(C,e.layoutBox,v.layoutBox);const T=xn();$g(T,r,_.layoutBox),lL(C,T)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=C,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mte(t){t.clearSnapshot()}function $P(t){t.clearMeasurements()}function WP(t){t.isLayoutDirty=!1}function pte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function qP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gte(t){t.resolveTargetDelta()}function yte(t){t.calcProjection()}function vte(t){t.resetSkewAndRotation()}function xte(t){t.removeLeadSnapshot()}function HP(t,e,n){t.translate=Qt(e.translate,0,n),t.scale=Qt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function GP(t,e,n,r){t.min=Qt(e.min,n.min,r),t.max=Qt(e.max,n.max,r)}function _te(t,e,n,r){GP(t.x,e.x,n.x,r),GP(t.y,e.y,n.y,r)}function wte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ete={duration:.45,ease:[.4,0,.1,1]},KP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YP=KP("applewebkit/")&&!KP("chrome/")?Math.round:vs;function QP(t){t.min=YP(t.min),t.max=YP(t.max)}function bte(t){QP(t.x),QP(t.y)}function dL(t,e,n){return t==="position"||t==="preserve-aspect"&&!Pee(BP(e),BP(n),.2)}function Tte(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Ste=uL({attachResizeListener:(t,e)=>vf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D_={current:void 0},hL=uL({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!D_.current){const t=new Ste({});t.mount(window),t.setOptions({layoutScroll:!0}),D_.current=t}return D_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Cte={pan:{Feature:Wee},drag:{Feature:$ee,ProjectionNode:hL,MeasureLayout:sL}};function XP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Wt.postRender(()=>i(e,qf(e)))}class Ite extends el{mount(){const{current:e}=this.node;e&&(this.unmount=ZJ(e,(n,r)=>(XP(this.node,r,"Start"),s=>XP(this.node,s,"End"))))}unmount(){}}class Nte extends el{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zf(vf(this.node.current,"focus",()=>this.onFocus()),vf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JP(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Wt.postRender(()=>i(e,qf(e)))}class Pte extends el{mount(){const{current:e}=this.node;e&&(this.unmount=rZ(e,(n,r)=>(JP(this.node,r,"Start"),(s,{success:i})=>JP(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g0=new WeakMap,M_=new WeakMap,Ate=t=>{const e=g0.get(t.target);e&&e(t)},Rte=t=>{t.forEach(Ate)};function kte({root:t,...e}){const n=t||document;M_.has(n)||M_.set(n,{});const r=M_.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Rte,{root:t,...e})),r[s]}function jte(t,e,n){const r=kte(e);return g0.set(t,n),r.observe(t),()=>{g0.delete(t),r.unobserve(t)}}const Dte={some:0,all:1};class Mte extends el{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Dte[s]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(d)};return jte(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Ote(e,n))&&this.startObserver()}unmount(){}}function Ote({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Lte={inView:{Feature:Mte},tap:{Feature:Pte},focus:{Feature:Nte},hover:{Feature:Ite}},Vte={layout:{ProjectionNode:hL,MeasureLayout:sL}},Fte={...bee,...Lte,...Cte,...Vte},Ae=FZ(Fte,JZ),Ute={some:0,all:1};function Bte(t,e,{root:n,margin:r,amount:s="some"}={}){const i=_O(t),a=new WeakMap,c=h=>{h.forEach(m=>{const g=a.get(m.target);if(m.isIntersecting!==!!g)if(m.isIntersecting){const v=e(m.target,m);typeof v=="function"?a.set(m.target,v):d.unobserve(m.target)}else typeof g=="function"&&(g(m),a.delete(m.target))})},d=new IntersectionObserver(c,{root:n,rootMargin:r,threshold:typeof s=="number"?s:Ute[s]});return i.forEach(h=>d.observe(h)),()=>d.disconnect()}function zte(t,{root:e,margin:n,amount:r,once:s=!1,initial:i=!1}={}){const[a,c]=w.useState(i);return w.useEffect(()=>{if(!t.current||s&&a)return;const d=()=>(c(!0),s?void 0:()=>c(!1)),h={root:e&&e.current||void 0,margin:n,amount:r};return Bte(t.current,d,h)},[e,t,n,s,r]),a}const rv={home:{hero:{image:"https://i.ibb.co/mCcD1Gfq/DSC-0272.jpg",title:"Rvler la Beaut, Sublimer l'Excellence",subtitle:"Bienvenue chez Perfect Models Management, o chaque visage raconte une histoire et chaque talent est une promesse d'exception.",ctaPrimary:{text:"Dcouvrir nos mannequins",href:"/mannequins"},ctaSecondary:{text:"Postuler au casting",href:"/casting"}},introduction:{title:"Plus qu'une Agence, une Vision",text:"Fonde en 2021 par Parfait ASSEKO, Perfect Models Management redfinit les standards du mannequinat au Gabon. Nous sommes une plateforme de formation, de promotion et dpanouissement pour les jeunes talents, ddie  rvler et sublimer la beaut africaine.",cta:{text:"Notre histoire",href:"/agence"}},stats:[{value:50,suffix:"+",label:"Mannequins"},{value:100,suffix:"+",label:"Projets raliss"},{value:25,suffix:"+",label:"Partenaires"},{value:4,suffix:"",label:"Annes d'excellence"}],cta:{title:"Prt  Briller sur les Podiums ?",subtitle:"Que vous soyez un crateur  la recherche du visage parfait ou un talent prt  clore, notre agence est votre partenaire de confiance.",ctaPrimary:{text:"Rserver un mannequin",href:"/services"},ctaSecondary:{text:"Rejoindre l'agence",href:"/casting"}}}};function $te(){const{hero:t}=rv.home;return u.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${t.image}')`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/90 to-background/60"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent"})]}),u.jsx("div",{className:"container relative z-10 mx-auto px-4 lg:px-8 py-20",children:u.jsxs("div",{className:"max-w-3xl",children:[u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:u.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent text-accent-foreground text-sm font-medium",children:[u.jsx(iy,{className:"h-4 w-4"}),"Agence de Mannequins au Gabon"]})}),u.jsx(Ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"font-serif text-4xl sm:text-5xl lg:text-7xl font-bold text-foreground leading-tight mb-6",children:t.title}),u.jsx(Ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg sm:text-xl text-muted-foreground max-w-2xl mb-8 leading-relaxed",children:t.subtitle}),u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"flex flex-col sm:flex-row gap-4",children:[u.jsx(be,{asChild:!0,size:"lg",className:"text-base h-12 px-8",children:u.jsxs(Xe,{to:t.ctaPrimary.href,children:[t.ctaPrimary.text,u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})}),u.jsx(be,{asChild:!0,variant:"outline",size:"lg",className:"text-base h-12 px-8",children:u.jsx(Xe,{to:t.ctaSecondary.href,children:t.ctaSecondary.text})})]})]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-background to-transparent z-10"})]})}function Wte(){const{cta:t}=rv.home;return u.jsx("section",{className:"py-20 lg:py-32 bg-primary text-primary-foreground",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-3xl mx-auto text-center",children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl lg:text-5xl font-bold mb-6",children:t.title}),u.jsx("p",{className:"text-primary-foreground/80 text-lg mb-8 max-w-2xl mx-auto",children:t.subtitle}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsx(be,{asChild:!0,size:"lg",variant:"secondary",className:"text-base h-12 px-8",children:u.jsxs(Xe,{to:t.ctaPrimary.href,children:[t.ctaPrimary.text,u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})}),u.jsx(be,{asChild:!0,size:"lg",variant:"outline",className:"text-base h-12 px-8 border-primary-foreground/30 text-primary-foreground hover:bg-primary-foreground/10",children:u.jsx(Xe,{to:t.ctaSecondary.href,children:t.ctaSecondary.text})})]})]})})})}const qte={values:[{name:"Professionnalisme",description:"Une thique de travail rigoureuse et un engagement total."},{name:"Discipline",description:"La cl de la russite sur les podiums et en dehors."},{name:"Excellence artistique",description:"Nous poussons chaque talent  atteindre son plein potentiel."},{name:"Culture Gabonaise",description:"Fiers de nos racines, nous mettons en valeur le patrimoine du Gabon."}]},Hte=["La Gare du Nord","Darain Visuals","AG Style","Farel MD","Tito Style","K'elle Collection","Fdration Gabonaise de Mode","Symbiose Concept Store"],fL=[{id:"noemi-kim",name:"Noemi Kim",gender:"Femme",height:"1m78",level:"Pro",imageUrl:"https://i.ibb.co/mCcD1Gfq/DSC-0272.jpg",categories:["Dfil","ditorial","Beaut"],isPublic:!0,measurements:{chest:"85cm",waist:"62cm",hips:"90cm",shoeSize:"40"},experience:"Mannequin vedette de l'agence, Noemi a dfil pour les plus grands crateurs gabonais.",distinctions:[{name:"Palmars",titles:["Miss Gabon 2022","Top Model Afrique Centrale 2023"]}]},{id:"aj-caramela",name:"AJ Caramela",gender:"Femme",height:"1m75",level:"Pro",imageUrl:"https://i.postimg.cc/k5skXhC2/NR-09474.jpg",categories:["Dfil","Commercial","ditorial"],isPublic:!0,measurements:{chest:"82cm",waist:"60cm",hips:"88cm",shoeSize:"39"},experience:"Avec son regard perant et sa polyvalence, AJ excelle dans les shootings ditoriaux.",distinctions:[{name:"Reconnaissance",titles:["Visage de l'Anne 2023"]}]},{id:"yann-aubin",name:"Yann Aubin",gender:"Homme",height:"1m88",level:"Pro",imageUrl:"https://i.ibb.co/Rk1fG3ph/farelmd-37.jpg",categories:["Dfil","Costume","Sportswear"],isPublic:!0,measurements:{chest:"98cm",waist:"78cm",hips:"95cm",shoeSize:"44"},experience:"Spcialiste du prt--porter masculin, reconnu pour sa dmarche puissante.",distinctions:[{name:"Podiums",titles:["Mannequin Homme de l'Anne 2025"]}]},{id:"diane-vanessa",name:"Diane Vanessa",gender:"Femme",height:"1m76",level:"Pro",imageUrl:"https://i.ibb.co/jkztFFQV/brando-50.jpg",categories:["Dfil","ditorial"],isPublic:!0,measurements:{chest:"84cm",waist:"63cm",hips:"89cm",shoeSize:"39"},experience:"Mannequin polyvalente avec une prsence scnique exceptionnelle.",distinctions:[]},{id:"rosnel-akoma",name:"Rosnel Akoma Ayo",gender:"Homme",height:"1m85",level:"Pro",imageUrl:"https://i.ibb.co/mC32jrDj/farelmd-31.jpg",categories:["Dfil","Commercial"],isPublic:!0,measurements:{chest:"96cm",waist:"76cm",hips:"92cm",shoeSize:"43"},experience:"Mannequin masculin emblmatique de l'agence.",distinctions:[{name:"Titres",titles:["Mister Akae Beach"]}]},{id:"priscilia-mba",name:"Priscilia Mba",gender:"Femme",height:"1m74",level:"Pro",imageUrl:"https://i.ibb.co/b5NYjLqm/brando-39.jpg",categories:["Dfil","Beaut"],isPublic:!0,measurements:{chest:"83cm",waist:"61cm",hips:"88cm",shoeSize:"38"},experience:"Talent prometteur avec une lgance naturelle.",distinctions:[]}],mL=[{slug:"casting-mannequins",title:"Casting Mannequins",category:"Services Mannequinat",description:"Organisation de castings professionnels pour dfils, shootings et publicits.",icon:"Users"},{slug:"booking-mannequins",title:"Booking Mannequins",category:"Services Mannequinat",description:"Rservation de mannequins pour vnements et campagnes publicitaires.",icon:"UserPlus"},{slug:"mannequins-defiles",title:"Mannequins pour Dfils",category:"Services Mannequinat",description:"Des mannequins professionnels pour vos dfils avec coaching sur la posture.",icon:"Sparkles"},{slug:"mannequins-photo",title:"Mannequins Photo",category:"Services Mannequinat",description:"Shooting photo pour catalogues, lookbooks ou rseaux sociaux.",icon:"Camera"},{slug:"formation",title:"Formation Mannequins",category:"Services Formation",description:"Formation complte pour dvelopper vos comptences de mannequin.",icon:"GraduationCap"},{slug:"conseil-image",title:"Conseil en Image",category:"Services Conseil",description:"Accompagnement personnalis pour sublimer votre image.",icon:"Palette"}],ZP=[{slug:"noemi-kim-au-dela-du-podium",title:"Noemi Kim : Au-del du podium",author:"Focus Model 241",category:"Interview",date:"15 Juillet 2024",excerpt:"Plongez dans le parcours inspirant de notre mannequin phare, entre discipline, ambition et passion.",imageUrl:"https://i.ibb.co/JWP8Dvk5/1004673860.jpg",viewCount:32},{slug:"retour-sur-le-perfect-fashion-day",title:"Retour sur le Perfect Fashion Day",author:"La Rdaction",category:"vnement",date:"10 Fvrier 2025",excerpt:"Les moments forts et les plus belles crations de l'vnement qui a marqu les esprits.",imageUrl:"https://i.ibb.co/C5rcPJHz/titostyle-53.jpg",viewCount:0},{slug:"l-audace-du-sur-mesure-masculin",title:"L'audace du sur-mesure masculin",author:"Focus Model 241",category:"Tendance",date:"28 Mars 2025",excerpt:"Analyse du style affirm des crateurs comme Farel MD et Miguel Fashion Style.",imageUrl:"https://i.ibb.co/Rk1fG3ph/farelmd-37.jpg",viewCount:29}],eA=[{edition:1,theme:"Racines & Modernit",date:"Samedi 25 janvier 2025",location:"La Gare du Nord, Libreville",description:"La premire dition de notre vnement phare, clbrant l'union entre l'hritage culturel et l'innovation.",imageUrl:"https://i.ibb.co/PzjSSk5j/482986573-631604006390611-5475849692479591284-n.jpg"},{edition:2,theme:"L'art de se rvler",date:"Samedi 31 janvier 2026",location:" Dfinir",description:"Une mode profondment enracine dans la culture et l'affirmation de soi.",imageUrl:"https://i.ibb.co/Z6FhzMM9/Google-AI-Studio-2025-09-14-T19-03-15-639-Z.png"}];function Gte(){return u.jsx("section",{className:"py-20 lg:py-32",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex flex-col sm:flex-row justify-between items-start sm:items-end gap-4 mb-12",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:"Nos Mannequins"}),u.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Des talents uniques qui incarnent l'excellence et la beaut africaine"})]}),u.jsx(be,{asChild:!0,variant:"outline",className:"shrink-0",children:u.jsxs(Xe,{to:"/models",children:["Voir tous",u.jsx(Vi,{className:"ml-2 h-4 w-4"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:fL.slice(0,6).map((t,e)=>u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},children:u.jsxs(Xe,{to:`/models/${t.id}`,className:"group block relative overflow-hidden rounded-lg aspect-[3/4] bg-muted",children:[u.jsx("img",{src:t.imageUrl,alt:t.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/90 via-background/20 to-transparent opacity-60 group-hover:opacity-80 transition-opacity"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"px-2 py-1 rounded-full bg-accent/80 backdrop-blur-sm text-accent-foreground text-xs font-medium",children:t.level}),u.jsx("span",{className:"px-2 py-1 rounded-full bg-accent/80 backdrop-blur-sm text-accent-foreground text-xs font-medium",children:t.gender})]}),u.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground",children:t.name}),u.jsxs("p",{className:"text-muted-foreground text-sm",children:[t.height,"  ",t.categories[0]]})]})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("span",{className:"px-6 py-3 rounded-full bg-primary text-primary-foreground font-medium text-sm",children:"Voir le profil"})})]})},t.id))})]})})}function Kte(){return u.jsx("section",{className:"py-16 border-y border-border bg-muted/30",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-10",children:u.jsx("p",{className:"text-muted-foreground text-sm uppercase tracking-widest",children:"Ils nous font confiance"})}),u.jsx(Ae.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"flex flex-wrap justify-center items-center gap-8 lg:gap-12",children:Hte.map(t=>u.jsx("div",{className:"text-muted-foreground font-medium text-sm hover:text-foreground transition-colors cursor-default",children:t},t))})]})})}const Yte={Users:u.jsx(td,{className:"h-6 w-6"}),UserPlus:u.jsx(oy,{className:"h-6 w-6"}),Sparkles:u.jsx(iy,{className:"h-6 w-6"}),Camera:u.jsx(Fu,{className:"h-6 w-6"}),GraduationCap:u.jsx(ry,{className:"h-6 w-6"}),Palette:u.jsx(mR,{className:"h-6 w-6"})};function Qte(){return u.jsx("section",{className:"py-20 lg:py-32 bg-card",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:"Nos Services"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Un accompagnement complet pour vos projets mode et vnementiel"})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:mL.map((t,e)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},className:"group p-8 rounded-xl border border-border bg-background hover:border-primary/50 hover:shadow-lg transition-all duration-300",children:[u.jsx("div",{className:"h-14 w-14 rounded-xl bg-accent flex items-center justify-center text-foreground mb-6 group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:Yte[t.icon]}),u.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-3",children:t.title}),u.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-6",children:t.description}),u.jsxs(Xe,{to:`/services/${t.slug}`,className:"inline-flex items-center text-sm font-medium text-foreground hover:text-primary transition-colors",children:["En savoir plus",u.jsx(Vi,{className:"ml-2 h-4 w-4"})]})]},t.slug))}),u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-center mt-12",children:u.jsx(be,{asChild:!0,size:"lg",children:u.jsx(Xe,{to:"/contact",children:"Demander un devis"})})})]})})}function Xte({value:t,suffix:e}){const[n,r]=w.useState(0),s=w.useRef(null),i=zte(s,{once:!0});return w.useEffect(()=>{if(i){const d=t/60;let h=0;const m=setInterval(()=>{h+=d,h>=t?(r(t),clearInterval(m)):r(Math.floor(h))},2e3/60);return()=>clearInterval(m)}},[i,t]),u.jsxs("span",{ref:s,className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground",children:[n,e]})}function Jte(){const{stats:t}=rv.home;return u.jsx("section",{className:"py-20 bg-card border-y border-border",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold text-foreground mb-4",children:"Notre Impact"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Des chiffres qui tmoignent de notre engagement envers l'excellence"})]}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:t.map((e,n)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},className:"text-center",children:[u.jsx(Xte,{value:e.value,suffix:e.suffix}),u.jsx("p",{className:"text-muted-foreground mt-2 text-sm sm:text-base",children:e.label})]},e.label))})]})})}function Zte(){const{introduction:t}=rv.home;return u.jsx("section",{className:"py-20 lg:py-32",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[u.jsxs(Ae.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:t.title}),u.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:t.text}),u.jsx(be,{asChild:!0,children:u.jsxs(Xe,{to:t.cta.href,children:[t.cta.text,u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:qte.values.map((e,n)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:n*.1},className:"p-6 rounded-xl bg-card border border-border",children:[u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground mb-2",children:e.name}),u.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.description})]},e.name))})]})})})}const ene=()=>u.jsxs(mr,{children:[u.jsx($te,{}),u.jsx(Jte,{}),u.jsx(Zte,{}),u.jsx(Gte,{}),u.jsx(Qte,{}),u.jsx(Kte,{}),u.jsx(Wte,{})]}),Ke=w.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ke.displayName="Input";const tne=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(""),[a,c]=w.useState("all"),[d,h]=w.useState("all");w.useEffect(()=>{(async()=>{try{const v=on(vt,"models"),_=dr(v,po("is_public","==",!0),zi("name")),T=(await Ra(_)).docs.map(S=>({id:S.id,...S.data()}));e(T)}catch(v){console.error("Error fetching models:",v)}finally{r(!1)}})()},[]);const m=t.filter(g=>{const v=g.name.toLowerCase().includes(s.toLowerCase()),_=a==="all"||g.gender===a,C=d==="all"||g.level===d;return v&&_&&C});return u.jsxs(mr,{children:[u.jsx("section",{className:"pt-12 pb-8 lg:pt-20 lg:pb-12 bg-card border-b border-border",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[u.jsx("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-4",children:"Nos Mannequins"}),u.jsx("p",{className:"text-muted-foreground text-lg",children:"Dcouvrez les talents qui font la fiert de Perfect Models Management"})]})})}),u.jsx("section",{className:"py-6 border-b border-border sticky top-20 z-40 bg-background/80 backdrop-blur-md",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[u.jsxs("div",{className:"relative w-full sm:w-80",children:[u.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ke,{placeholder:"Rechercher un mannequin...",value:s,onChange:g=>i(g.target.value),className:"pl-10"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:["all","Femme","Homme"].map(g=>u.jsx(be,{variant:a===g?"default":"ghost",size:"sm",onClick:()=>c(g),className:"text-sm",children:g==="all"?"Tous":g==="Femme"?"Femmes":"Hommes"},g))}),u.jsx("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:["all","Pro","Dbutant"].map(g=>u.jsx(be,{variant:d===g?"default":"ghost",size:"sm",onClick:()=>h(g),className:"text-sm",children:g==="all"?"Niveaux":g},g))})]})]})})}),u.jsx("section",{className:"py-12 lg:py-20",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:n?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})}):m.length>0?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map((g,v)=>u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:v*.03},children:u.jsxs(Xe,{to:`/models/${g.id}`,className:"group block relative overflow-hidden rounded-xl aspect-[3/4] bg-muted card-gold-hover",children:[g.image_url?u.jsx("img",{src:g.image_url,alt:g.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx(Yl,{className:"h-20 w-20 text-muted-foreground"})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent opacity-70 group-hover:opacity-90 transition-opacity"}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"px-2 py-1 rounded-full bg-primary/20 text-primary text-xs font-medium",children:g.level||"Dbutant"}),u.jsx("span",{className:"px-2 py-1 rounded-full bg-accent text-accent-foreground text-xs font-medium",children:g.gender})]}),u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground",children:g.name}),g.height&&u.jsx("p",{className:"text-muted-foreground text-sm",children:g.height})]})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("span",{className:"btn-primary px-5 py-2.5 text-sm shadow-lg",children:"Voir le profil"})})]})},g.id))}):u.jsxs("div",{className:"text-center py-20",children:[u.jsx(Z3,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),u.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2",children:"Aucun mannequin trouv"}),u.jsx("p",{className:"text-muted-foreground",children:"Essayez de modifier vos critres de recherche"})]})})})]})},nne=ey("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vn({className:t,variant:e,...n}){return u.jsx("div",{className:je(nne({variant:e}),t),...n})}const rne=()=>{const{id:t}=J0(),e=fL.find(n=>n.id===t);return e?u.jsxs(mr,{children:[u.jsx("div",{className:"container mx-auto px-4 lg:px-8 pt-8",children:u.jsx(be,{asChild:!0,variant:"ghost",size:"sm",children:u.jsxs(Xe,{to:"/models",children:[u.jsx(K_,{className:"mr-2 h-4 w-4"}),"Retour"]})})}),u.jsx("section",{className:"py-8 lg:py-16",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20",children:[u.jsx(Ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:u.jsx("div",{className:"relative aspect-[3/4] rounded-2xl overflow-hidden bg-muted",children:u.jsx("img",{src:e.imageUrl,alt:e.name,className:"absolute inset-0 w-full h-full object-cover"})})}),u.jsxs(Ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"flex flex-col",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(Vn,{variant:"secondary",children:e.level}),u.jsx(Vn,{variant:"outline",children:e.gender})]}),u.jsx("h1",{className:"font-serif text-4xl lg:text-5xl font-bold text-foreground mb-4",children:e.name}),u.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[u.jsx(qh,{className:"h-4 w-4"}),u.jsx("span",{children:"Libreville, Gabon"})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Y_,{className:"h-5 w-5 text-foreground"}),u.jsx("h2",{className:"font-serif text-lg font-semibold text-foreground",children:"Mensurations"})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 rounded-lg bg-card border border-border",children:[u.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Taille"}),u.jsx("p",{className:"font-semibold text-foreground",children:e.height})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-card border border-border",children:[u.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Poitrine"}),u.jsx("p",{className:"font-semibold text-foreground",children:e.measurements.chest})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-card border border-border",children:[u.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Tour de taille"}),u.jsx("p",{className:"font-semibold text-foreground",children:e.measurements.waist})]}),u.jsxs("div",{className:"p-4 rounded-lg bg-card border border-border",children:[u.jsx("p",{className:"text-muted-foreground text-sm mb-1",children:"Hanches"}),u.jsx("p",{className:"font-semibold text-foreground",children:e.measurements.hips})]})]})]}),u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(Fu,{className:"h-5 w-5 text-foreground"}),u.jsx("h2",{className:"font-serif text-lg font-semibold text-foreground",children:"Spcialits"})]}),u.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map(n=>u.jsx(Vn,{variant:"secondary",className:"text-sm",children:n},n))})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"font-serif text-lg font-semibold text-foreground mb-3",children:"Exprience"}),u.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.experience})]}),e.distinctions.length>0&&u.jsxs("div",{className:"mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(q3,{className:"h-5 w-5 text-foreground"}),u.jsx("h2",{className:"font-serif text-lg font-semibold text-foreground",children:"Distinctions"})]}),u.jsx("div",{className:"space-y-3",children:e.distinctions.map(n=>u.jsxs("div",{className:"p-4 rounded-lg bg-card border border-border",children:[u.jsx("p",{className:"font-medium text-foreground mb-2",children:n.name}),u.jsx("ul",{className:"space-y-1",children:n.titles.map(r=>u.jsxs("li",{className:"text-muted-foreground text-sm flex items-center gap-2",children:[u.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),r]},r))})]},n.name))})]}),u.jsx("div",{className:"mt-auto pt-6 border-t border-border",children:u.jsx(be,{asChild:!0,size:"lg",className:"w-full sm:w-auto",children:u.jsx(Xe,{to:`/contact?model=${e.id}`,children:"Rserver ce mannequin"})})})]})]})})})]}):u.jsx(mr,{children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-20",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground mb-4",children:"Mannequin non trouv"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"Le profil que vous recherchez n'existe pas ou n'est plus disponible."}),u.jsx(be,{asChild:!0,children:u.jsxs(Xe,{to:"/models",children:[u.jsx(K_,{className:"mr-2 h-4 w-4"}),"Retour aux mannequins"]})})]})})})},sne=["Avoir au moins 16 ans","Taille minimale : 1m70 (femmes), 1m80 (hommes)","Bonne prsentation et hygine","Motivation et disponibilit","Rsider au Gabon ou tre prt(e)  s'y installer"],ine=[{icon:ry,title:"Formation complte",description:"Accs  notre programme de formation exclusif"},{icon:td,title:"Rseau professionnel",description:"Intgrez un rseau de crateurs et partenaires"},{icon:Ph,title:"Opportunits",description:"Participez  des dfils et shootings prestigieux"},{icon:iy,title:"Accompagnement",description:"Suivi personnalis tout au long de votre carrire"}],one=()=>u.jsxs(mr,{children:[u.jsxs("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url('https://i.ibb.co/jkztFFQV/brando-50.jpg')"}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/95 to-background/80"})]}),u.jsx("div",{className:"container relative z-10 mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl",children:[u.jsx(Ae.span,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"inline-block px-4 py-2 rounded-full bg-accent text-accent-foreground text-sm font-medium mb-6",children:"Rejoignez-nous"}),u.jsx(Ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Casting"}),u.jsx(Ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-lg text-muted-foreground mb-8",children:"Vous rvez de devenir mannequin ? Perfect Models Management recherche les talents de demain. Postulez ds maintenant et lancez votre carrire."}),u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:u.jsx(be,{asChild:!0,size:"lg",className:"text-base h-12 px-8",children:u.jsxs(Xe,{to:"/casting/apply",children:["Postuler maintenant",u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})})})]})})]}),u.jsx("section",{className:"py-20 bg-card border-y border-border",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center",children:[u.jsxs(Ae.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold text-foreground mb-6",children:"Critres de slection"}),u.jsx("p",{className:"text-muted-foreground mb-8",children:"Pour postuler, vous devez rpondre aux critres suivants. Ces exigences nous permettent de garantir un encadrement adapt  chaque talent."}),u.jsx("ul",{className:"space-y-4",children:sne.map((t,e)=>u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center shrink-0 mt-0.5",children:u.jsx(ty,{className:"h-4 w-4 text-primary"})}),u.jsx("span",{className:"text-foreground",children:t})]},e))})]}),u.jsx(Ae.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"relative aspect-[4/5] rounded-2xl overflow-hidden",children:u.jsx("img",{src:"https://i.ibb.co/b5NYjLqm/brando-39.jpg",alt:"Casting",className:"absolute inset-0 w-full h-full object-cover"})})]})})}),u.jsx("section",{className:"py-20 lg:py-32",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold text-foreground mb-4",children:"Pourquoi rejoindre PMM ?"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"En intgrant notre agence, vous bnficiez d'un accompagnement complet"})]}),u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:ine.map((t,e)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},className:"text-center p-8 rounded-xl bg-card border border-border",children:[u.jsx("div",{className:"h-14 w-14 rounded-xl bg-accent flex items-center justify-center text-foreground mx-auto mb-6",children:u.jsx(t.icon,{className:"h-7 w-7"})}),u.jsx("h3",{className:"font-serif text-lg font-semibold text-foreground mb-2",children:t.title}),u.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]},t.title))})]})}),u.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8 text-center",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold mb-6",children:"Prt(e)  nous rejoindre ?"}),u.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Remplissez notre formulaire de candidature et notre quipe vous recontactera dans les plus brefs dlais."}),u.jsx(be,{asChild:!0,size:"lg",variant:"secondary",className:"text-base h-12 px-8",children:u.jsxs(Xe,{to:"/casting/apply",children:["Remplir le formulaire",u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})})]})})})]});var ane="Label",pL=w.forwardRef((t,e)=>u.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pL.displayName=ane;var gL=pL;const lne=ey("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=w.forwardRef(({className:t,...e},n)=>u.jsx(gL,{ref:n,className:je(lne(),t),...e}));Ie.displayName=gL.displayName;const Ed=w.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ed.displayName="Textarea";function Wg(t,[e,n]){return Math.min(n,Math.max(e,t))}var cne=w.createContext(void 0);function sv(t){const e=w.useContext(cne);return t||e||"ltr"}var O_=0;function yL(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??tA()),document.body.insertAdjacentElement("beforeend",t[1]??tA()),O_++,()=>{O_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),O_--}},[])}function tA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var L_="focusScope.autoFocusOnMount",V_="focusScope.autoFocusOnUnmount",nA={bubbles:!1,cancelable:!0},une="FocusScope",rT=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,d]=w.useState(null),h=xs(s),m=xs(i),g=w.useRef(null),v=dt(e,T=>d(T)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let T=function(N){if(_.paused||!c)return;const L=N.target;c.contains(L)?g.current=L:da(g.current,{select:!0})},S=function(N){if(_.paused||!c)return;const L=N.relatedTarget;L!==null&&(c.contains(L)||da(g.current,{select:!0}))},A=function(N){if(document.activeElement===document.body)for(const z of N)z.removedNodes.length>0&&da(c)};document.addEventListener("focusin",T),document.addEventListener("focusout",S);const k=new MutationObserver(A);return c&&k.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",S),k.disconnect()}}},[r,c,_.paused]),w.useEffect(()=>{if(c){sA.add(_);const T=document.activeElement;if(!c.contains(T)){const A=new CustomEvent(L_,nA);c.addEventListener(L_,h),c.dispatchEvent(A),A.defaultPrevented||(dne(gne(vL(c)),{select:!0}),document.activeElement===T&&da(c))}return()=>{c.removeEventListener(L_,h),setTimeout(()=>{const A=new CustomEvent(V_,nA);c.addEventListener(V_,m),c.dispatchEvent(A),A.defaultPrevented||da(T??document.body,{select:!0}),c.removeEventListener(V_,m),sA.remove(_)},0)}}},[c,h,m,_]);const C=w.useCallback(T=>{if(!n&&!r||_.paused)return;const S=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,A=document.activeElement;if(S&&A){const k=T.currentTarget,[N,L]=hne(k);N&&L?!T.shiftKey&&A===L?(T.preventDefault(),n&&da(N,{select:!0})):T.shiftKey&&A===N&&(T.preventDefault(),n&&da(L,{select:!0})):A===k&&T.preventDefault()}},[n,r,_.paused]);return u.jsx(ze.div,{tabIndex:-1,...a,ref:v,onKeyDown:C})});rT.displayName=une;function dne(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(da(r,{select:e}),document.activeElement!==n)return}function hne(t){const e=vL(t),n=rA(e,t),r=rA(e.reverse(),t);return[n,r]}function vL(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rA(t,e){for(const n of t)if(!fne(n,{upTo:e}))return n}function fne(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mne(t){return t instanceof HTMLInputElement&&"select"in t}function da(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mne(t)&&e&&t.select()}}var sA=pne();function pne(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iA(t,e),t.unshift(e)},remove(e){var n;t=iA(t,e),(n=t[0])==null||n.resume()}}}function iA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function gne(t){return t.filter(e=>e.tagName!=="A")}function sT(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var yne=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},nu=new WeakMap,bp=new WeakMap,Tp={},F_=0,xL=function(t){return t&&(t.host||xL(t.parentNode))},vne=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xL(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xne=function(t,e,n,r){var s=vne(e,Array.isArray(t)?t:[t]);Tp[n]||(Tp[n]=new WeakMap);var i=Tp[n],a=[],c=new Set,d=new Set(s),h=function(g){!g||c.has(g)||(c.add(g),h(g.parentNode))};s.forEach(h);var m=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))m(v);else try{var _=v.getAttribute(r),C=_!==null&&_!=="false",T=(nu.get(v)||0)+1,S=(i.get(v)||0)+1;nu.set(v,T),i.set(v,S),a.push(v),T===1&&C&&bp.set(v,!0),S===1&&v.setAttribute(n,"true"),C||v.setAttribute(r,"true")}catch(A){console.error("aria-hidden: cannot operate on ",v,A)}})};return m(e),c.clear(),F_++,function(){a.forEach(function(g){var v=nu.get(g)-1,_=i.get(g)-1;nu.set(g,v),i.set(g,_),v||(bp.has(g)||g.removeAttribute(r),bp.delete(g)),_||g.removeAttribute(n)}),F_--,F_||(nu=new WeakMap,nu=new WeakMap,bp=new WeakMap,Tp={})}},_L=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=yne(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),xne(r,s,n,"aria-hidden")):function(){return null}},bi=function(){return bi=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},bi.apply(this,arguments)};function wL(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _ne(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Gp="right-scroll-bar-position",Kp="width-before-scroll-bar",wne="with-scroll-bars-hidden",Ene="--removed-body-scroll-bar-size";function U_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function bne(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Tne=typeof window<"u"?w.useLayoutEffect:w.useEffect,oA=new WeakMap;function Sne(t,e){var n=bne(null,function(r){return t.forEach(function(s){return U_(s,r)})});return Tne(function(){var r=oA.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||U_(c,null)}),i.forEach(function(c){s.has(c)||U_(c,a)})}oA.set(n,t)},[t]),n}function Cne(t){return t}function Ine(t,e){e===void 0&&(e=Cne);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var d=function(){var m=a;a=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),n={push:function(m){a.push(m),h()},filter:function(m){return a=a.filter(m),n}}}};return s}function Nne(t){t===void 0&&(t={});var e=Ine(null);return e.options=bi({async:!0,ssr:!1},t),e}var EL=function(t){var e=t.sideCar,n=wL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,bi({},n))};EL.isSideCarExport=!0;function Pne(t,e){return t.useMedium(e),EL}var bL=Nne(),B_=function(){},iv=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:B_,onWheelCapture:B_,onTouchMoveCapture:B_}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,g=t.shards,v=t.sideCar,_=t.noRelative,C=t.noIsolation,T=t.inert,S=t.allowPinchZoom,A=t.as,k=A===void 0?"div":A,N=t.gapMode,L=wL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=v,H=Sne([n,e]),j=bi(bi({},L),s);return w.createElement(w.Fragment,null,m&&w.createElement(z,{sideCar:bL,removeScrollBar:h,shards:g,noRelative:_,noIsolation:C,inert:T,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:N}),a?w.cloneElement(w.Children.only(c),bi(bi({},j),{ref:H})):w.createElement(k,bi({},j,{className:d,ref:H}),c))});iv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iv.classNames={fullWidth:Kp,zeroRight:Gp};var Ane=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rne(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Ane();return e&&t.setAttribute("nonce",e),t}function kne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function jne(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Dne=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Rne())&&(kne(e,n),jne(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Mne=function(){var t=Dne();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TL=function(){var t=Mne(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},One={left:0,top:0,right:0,gap:0},z_=function(t){return parseInt(t||"",10)||0},Lne=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[z_(n),z_(r),z_(s)]},Vne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return One;var e=Lne(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Fne=TL(),Nu="data-scroll-locked",Une=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(wne,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Nu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gp,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Kp,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Gp," .").concat(Gp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kp," .").concat(Kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Nu,`] {
    `).concat(Ene,": ").concat(c,`px;
  }
`)},aA=function(){var t=parseInt(document.body.getAttribute(Nu)||"0",10);return isFinite(t)?t:0},Bne=function(){w.useEffect(function(){return document.body.setAttribute(Nu,(aA()+1).toString()),function(){var t=aA()-1;t<=0?document.body.removeAttribute(Nu):document.body.setAttribute(Nu,t.toString())}},[])},zne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Bne();var i=w.useMemo(function(){return Vne(s)},[s]);return w.createElement(Fne,{styles:Une(i,!e,s,n?"":"!important")})},y0=!1;if(typeof window<"u")try{var Sp=Object.defineProperty({},"passive",{get:function(){return y0=!0,!0}});window.addEventListener("test",Sp,Sp),window.removeEventListener("test",Sp,Sp)}catch{y0=!1}var ru=y0?{passive:!1}:!1,$ne=function(t){return t.tagName==="TEXTAREA"},SL=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!$ne(t)&&n[e]==="visible")},Wne=function(t){return SL(t,"overflowY")},qne=function(t){return SL(t,"overflowX")},lA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=CL(t,r);if(s){var i=IL(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Hne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Gne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CL=function(t,e){return t==="v"?Wne(e):qne(e)},IL=function(t,e){return t==="v"?Hne(e):Gne(e)},Kne=function(t,e){return t==="h"&&e==="rtl"?-1:1},Yne=function(t,e,n,r,s){var i=Kne(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,d=e.contains(c),h=!1,m=a>0,g=0,v=0;do{if(!c)break;var _=IL(t,c),C=_[0],T=_[1],S=_[2],A=T-S-i*C;(C||A)&&CL(t,c)&&(g+=A,v+=C);var k=c.parentNode;c=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(g)<1||!m&&Math.abs(v)<1)&&(h=!0),h},Cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},cA=function(t){return[t.deltaX,t.deltaY]},uA=function(t){return t&&"current"in t?t.current:t},Qne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Xne=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jne=0,su=[];function Zne(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(Jne++)[0],i=w.useState(TL)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=_ne([t.lockRef.current],(t.shards||[]).map(uA),!0).filter(Boolean);return T.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=w.useCallback(function(T,S){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!a.current.allowPinchZoom;var A=Cp(T),k=n.current,N="deltaX"in T?T.deltaX:k[0]-A[0],L="deltaY"in T?T.deltaY:k[1]-A[1],z,H=T.target,j=Math.abs(N)>Math.abs(L)?"h":"v";if("touches"in T&&j==="h"&&H.type==="range")return!1;var R=lA(j,H);if(!R)return!0;if(R?z=j:(z=j==="v"?"h":"v",R=lA(j,H)),!R)return!1;if(!r.current&&"changedTouches"in T&&(N||L)&&(r.current=z),!z)return!0;var M=r.current||z;return Yne(M,S,T,M==="h"?N:L)},[]),d=w.useCallback(function(T){var S=T;if(!(!su.length||su[su.length-1]!==i)){var A="deltaY"in S?cA(S):Cp(S),k=e.current.filter(function(z){return z.name===S.type&&(z.target===S.target||S.target===z.shadowParent)&&Qne(z.delta,A)})[0];if(k&&k.should){S.cancelable&&S.preventDefault();return}if(!k){var N=(a.current.shards||[]).map(uA).filter(Boolean).filter(function(z){return z.contains(S.target)}),L=N.length>0?c(S,N[0]):!a.current.noIsolation;L&&S.cancelable&&S.preventDefault()}}},[]),h=w.useCallback(function(T,S,A,k){var N={name:T,delta:S,target:A,should:k,shadowParent:ere(A)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(L){return L!==N})},1)},[]),m=w.useCallback(function(T){n.current=Cp(T),r.current=void 0},[]),g=w.useCallback(function(T){h(T.type,cA(T),T.target,c(T,t.lockRef.current))},[]),v=w.useCallback(function(T){h(T.type,Cp(T),T.target,c(T,t.lockRef.current))},[]);w.useEffect(function(){return su.push(i),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,ru),document.addEventListener("touchmove",d,ru),document.addEventListener("touchstart",m,ru),function(){su=su.filter(function(T){return T!==i}),document.removeEventListener("wheel",d,ru),document.removeEventListener("touchmove",d,ru),document.removeEventListener("touchstart",m,ru)}},[]);var _=t.removeScrollBar,C=t.inert;return w.createElement(w.Fragment,null,C?w.createElement(i,{styles:Xne(s)}):null,_?w.createElement(zne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ere(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tre=Pne(bL,Zne);var iT=w.forwardRef(function(t,e){return w.createElement(iv,bi({},t,{ref:e,sideCar:tre}))});iT.classNames=iv.classNames;var nre=[" ","Enter","ArrowUp","ArrowDown"],rre=[" ","Enter"],oc="Select",[ov,av,sre]=Qg(oc),[bd]=Ks(oc,[sre,uy]),lv=uy(),[ire,tl]=bd(oc),[ore,are]=bd(oc),NL=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:a,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:g,disabled:v,required:_,form:C}=t,T=lv(e),[S,A]=w.useState(null),[k,N]=w.useState(null),[L,z]=w.useState(!1),H=sv(h),[j,R]=ja({prop:r,defaultProp:s??!1,onChange:i,caller:oc}),[M,F]=ja({prop:a,defaultProp:c,onChange:d,caller:oc}),V=w.useRef(null),U=S?C||!!S.closest("form"):!0,[O,re]=w.useState(new Set),xe=Array.from(O).map(he=>he.props.value).join(";");return u.jsx(qU,{...T,children:u.jsxs(ire,{required:_,scope:e,trigger:S,onTriggerChange:A,valueNode:k,onValueNodeChange:N,valueNodeHasChildren:L,onValueNodeHasChildrenChange:z,contentId:Ta(),value:M,onValueChange:F,open:j,onOpenChange:R,dir:H,triggerPointerDownPosRef:V,disabled:v,children:[u.jsx(ov.Provider,{scope:e,children:u.jsx(ore,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(he=>{re(le=>new Set(le).add(he))},[]),onNativeOptionRemove:w.useCallback(he=>{re(le=>{const Y=new Set(le);return Y.delete(he),Y})},[]),children:n})}),U?u.jsxs(JL,{"aria-hidden":!0,required:_,tabIndex:-1,name:m,autoComplete:g,value:M,onChange:he=>F(he.target.value),disabled:v,form:C,children:[M===void 0?u.jsx("option",{value:""}):null,Array.from(O)]},xe):null]})})};NL.displayName=oc;var PL="SelectTrigger",AL=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=lv(n),a=tl(PL,n),c=a.disabled||r,d=dt(e,a.onTriggerChange),h=av(n),m=w.useRef("touch"),[g,v,_]=eV(T=>{const S=h().filter(N=>!N.disabled),A=S.find(N=>N.value===a.value),k=tV(S,T,A);k!==void 0&&a.onValueChange(k.value)}),C=T=>{c||(a.onOpenChange(!0),_()),T&&(a.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return u.jsx(YR,{asChild:!0,...i,children:u.jsx(ze.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ZL(a.value)?"":void 0,...s,ref:d,onClick:Re(s.onClick,T=>{T.currentTarget.focus(),m.current!=="mouse"&&C(T)}),onPointerDown:Re(s.onPointerDown,T=>{m.current=T.pointerType;const S=T.target;S.hasPointerCapture(T.pointerId)&&S.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(C(T),T.preventDefault())}),onKeyDown:Re(s.onKeyDown,T=>{const S=g.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&v(T.key),!(S&&T.key===" ")&&nre.includes(T.key)&&(C(),T.preventDefault())})})})});AL.displayName=PL;var RL="SelectValue",kL=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:a="",...c}=t,d=tl(RL,n),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,g=dt(e,d.onValueNodeChange);return Fn(()=>{h(m)},[h,m]),u.jsx(ze.span,{...c,ref:g,style:{pointerEvents:"none"},children:ZL(d.value)?u.jsx(u.Fragment,{children:a}):i})});kL.displayName=RL;var lre="SelectIcon",jL=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ze.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});jL.displayName=lre;var cre="SelectPortal",DL=t=>u.jsx(Xg,{asChild:!0,...t});DL.displayName=cre;var ac="SelectContent",ML=w.forwardRef((t,e)=>{const n=tl(ac,t.__scopeSelect),[r,s]=w.useState();if(Fn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Zu.createPortal(u.jsx(OL,{scope:t.__scopeSelect,children:u.jsx(ov.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(LL,{...t,ref:e})});ML.displayName=ac;var Ms=10,[OL,nl]=bd(ac),ure="SelectContentImpl",dre=Vu("SelectContent.RemoveScroll"),LL=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:a,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:_,sticky:C,hideWhenDetached:T,avoidCollisions:S,...A}=t,k=tl(ac,n),[N,L]=w.useState(null),[z,H]=w.useState(null),j=dt(e,ce=>L(ce)),[R,M]=w.useState(null),[F,V]=w.useState(null),U=av(n),[O,re]=w.useState(!1),xe=w.useRef(!1);w.useEffect(()=>{if(N)return _L(N)},[N]),yL();const he=w.useCallback(ce=>{const[Se,...Fe]=U().map(et=>et.ref.current),[We]=Fe.slice(-1),Je=document.activeElement;for(const et of ce)if(et===Je||(et==null||et.scrollIntoView({block:"nearest"}),et===Se&&z&&(z.scrollTop=0),et===We&&z&&(z.scrollTop=z.scrollHeight),et==null||et.focus(),document.activeElement!==Je))return},[U,z]),le=w.useCallback(()=>he([R,N]),[he,R,N]);w.useEffect(()=>{O&&le()},[O,le]);const{onOpenChange:Y,triggerPointerDownPosRef:ee}=k;w.useEffect(()=>{if(N){let ce={x:0,y:0};const Se=We=>{var Je,et;ce={x:Math.abs(Math.round(We.pageX)-(((Je=ee.current)==null?void 0:Je.x)??0)),y:Math.abs(Math.round(We.pageY)-(((et=ee.current)==null?void 0:et.y)??0))}},Fe=We=>{ce.x<=10&&ce.y<=10?We.preventDefault():N.contains(We.target)||Y(!1),document.removeEventListener("pointermove",Se),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[N,Y,ee]),w.useEffect(()=>{const ce=()=>Y(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[Y]);const[ie,W]=eV(ce=>{const Se=U().filter(Je=>!Je.disabled),Fe=Se.find(Je=>Je.ref.current===document.activeElement),We=tV(Se,ce,Fe);We&&setTimeout(()=>We.ref.current.focus())}),Z=w.useCallback((ce,Se,Fe)=>{const We=!xe.current&&!Fe;(k.value!==void 0&&k.value===Se||We)&&(M(ce),We&&(xe.current=!0))},[k.value]),pe=w.useCallback(()=>N==null?void 0:N.focus(),[N]),ge=w.useCallback((ce,Se,Fe)=>{const We=!xe.current&&!Fe;(k.value!==void 0&&k.value===Se||We)&&V(ce)},[k.value]),Pe=r==="popper"?v0:VL,Ve=Pe===v0?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:g,collisionBoundary:v,collisionPadding:_,sticky:C,hideWhenDetached:T,avoidCollisions:S}:{};return u.jsx(OL,{scope:n,content:N,viewport:z,onViewportChange:H,itemRefCallback:Z,selectedItem:R,onItemLeave:pe,itemTextRefCallback:ge,focusSelectedItem:le,selectedItemText:F,position:r,isPositioned:O,searchRef:ie,children:u.jsx(iT,{as:dre,allowPinchZoom:!0,children:u.jsx(rT,{asChild:!0,trapped:k.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Re(s,ce=>{var Se;(Se=k.trigger)==null||Se.focus({preventScroll:!0}),ce.preventDefault()}),children:u.jsx(Ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:u.jsx(Pe,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ce=>ce.preventDefault(),...A,...Ve,onPlaced:()=>re(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Re(A.onKeyDown,ce=>{const Se=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Se&&ce.key.length===1&&W(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let We=U().filter(Je=>!Je.disabled).map(Je=>Je.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(We=We.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Je=ce.target,et=We.indexOf(Je);We=We.slice(et+1)}setTimeout(()=>he(We)),ce.preventDefault()}})})})})})})});LL.displayName=ure;var hre="SelectItemAlignedPosition",VL=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=tl(ac,n),a=nl(ac,n),[c,d]=w.useState(null),[h,m]=w.useState(null),g=dt(e,j=>m(j)),v=av(n),_=w.useRef(!1),C=w.useRef(!0),{viewport:T,selectedItem:S,selectedItemText:A,focusSelectedItem:k}=a,N=w.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&T&&S&&A){const j=i.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),F=A.getBoundingClientRect();if(i.dir!=="rtl"){const Je=F.left-R.left,et=M.left-Je,At=j.left-et,gn=j.width+At,Jr=Math.max(gn,R.width),ir=window.innerWidth-Ms,or=Wg(et,[Ms,Math.max(Ms,ir-Jr)]);c.style.minWidth=gn+"px",c.style.left=or+"px"}else{const Je=R.right-F.right,et=window.innerWidth-M.right-Je,At=window.innerWidth-j.right-et,gn=j.width+At,Jr=Math.max(gn,R.width),ir=window.innerWidth-Ms,or=Wg(et,[Ms,Math.max(Ms,ir-Jr)]);c.style.minWidth=gn+"px",c.style.right=or+"px"}const V=v(),U=window.innerHeight-Ms*2,O=T.scrollHeight,re=window.getComputedStyle(h),xe=parseInt(re.borderTopWidth,10),he=parseInt(re.paddingTop,10),le=parseInt(re.borderBottomWidth,10),Y=parseInt(re.paddingBottom,10),ee=xe+he+O+Y+le,ie=Math.min(S.offsetHeight*5,ee),W=window.getComputedStyle(T),Z=parseInt(W.paddingTop,10),pe=parseInt(W.paddingBottom,10),ge=j.top+j.height/2-Ms,Pe=U-ge,Ve=S.offsetHeight/2,ce=S.offsetTop+Ve,Se=xe+he+ce,Fe=ee-Se;if(Se<=ge){const Je=V.length>0&&S===V[V.length-1].ref.current;c.style.bottom="0px";const et=h.clientHeight-T.offsetTop-T.offsetHeight,At=Math.max(Pe,Ve+(Je?pe:0)+et+le),gn=Se+At;c.style.height=gn+"px"}else{const Je=V.length>0&&S===V[0].ref.current;c.style.top="0px";const At=Math.max(ge,xe+T.offsetTop+(Je?Z:0)+Ve)+Fe;c.style.height=At+"px",T.scrollTop=Se-ge+T.offsetTop}c.style.margin=`${Ms}px 0`,c.style.minHeight=ie+"px",c.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[v,i.trigger,i.valueNode,c,h,T,S,A,i.dir,r]);Fn(()=>N(),[N]);const[L,z]=w.useState();Fn(()=>{h&&z(window.getComputedStyle(h).zIndex)},[h]);const H=w.useCallback(j=>{j&&C.current===!0&&(N(),k==null||k(),C.current=!1)},[N,k]);return u.jsx(mre,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:_,onScrollButtonChange:H,children:u.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L},children:u.jsx(ze.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VL.displayName=hre;var fre="SelectPopperPosition",v0=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ms,...i}=t,a=lv(n);return u.jsx(QR,{...a,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v0.displayName=fre;var[mre,oT]=bd(ac,{}),x0="SelectViewport",FL=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=nl(x0,n),a=oT(x0,n),c=dt(e,i.onViewportChange),d=w.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(ov.Slot,{scope:n,children:u.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Re(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&g){const _=Math.abs(d.current-m.scrollTop);if(_>0){const C=window.innerHeight-Ms*2,T=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),A=Math.max(T,S);if(A<C){const k=A+_,N=Math.min(C,k),L=k-N;g.style.height=N+"px",g.style.bottom==="0px"&&(m.scrollTop=L>0?L:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});FL.displayName=x0;var UL="SelectGroup",[pre,gre]=bd(UL),yre=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ta();return u.jsx(pre,{scope:n,id:s,children:u.jsx(ze.div,{role:"group","aria-labelledby":s,...r,ref:e})})});yre.displayName=UL;var BL="SelectLabel",zL=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=gre(BL,n);return u.jsx(ze.div,{id:s.id,...r,ref:e})});zL.displayName=BL;var qg="SelectItem",[vre,$L]=bd(qg),WL=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...a}=t,c=tl(qg,n),d=nl(qg,n),h=c.value===r,[m,g]=w.useState(i??""),[v,_]=w.useState(!1),C=dt(e,k=>{var N;return(N=d.itemRefCallback)==null?void 0:N.call(d,k,r,s)}),T=Ta(),S=w.useRef("touch"),A=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(vre,{scope:n,value:r,disabled:s,textId:T,isSelected:h,onItemTextChange:w.useCallback(k=>{g(N=>N||((k==null?void 0:k.textContent)??"").trim())},[]),children:u.jsx(ov.ItemSlot,{scope:n,value:r,disabled:s,textValue:m,children:u.jsx(ze.div,{role:"option","aria-labelledby":T,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:C,onFocus:Re(a.onFocus,()=>_(!0)),onBlur:Re(a.onBlur,()=>_(!1)),onClick:Re(a.onClick,()=>{S.current!=="mouse"&&A()}),onPointerUp:Re(a.onPointerUp,()=>{S.current==="mouse"&&A()}),onPointerDown:Re(a.onPointerDown,k=>{S.current=k.pointerType}),onPointerMove:Re(a.onPointerMove,k=>{var N;S.current=k.pointerType,s?(N=d.onItemLeave)==null||N.call(d):S.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(a.onPointerLeave,k=>{var N;k.currentTarget===document.activeElement&&((N=d.onItemLeave)==null||N.call(d))}),onKeyDown:Re(a.onKeyDown,k=>{var L;((L=d.searchRef)==null?void 0:L.current)!==""&&k.key===" "||(rre.includes(k.key)&&A(),k.key===" "&&k.preventDefault())})})})})});WL.displayName=qg;var Ih="SelectItemText",qL=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,a=tl(Ih,n),c=nl(Ih,n),d=$L(Ih,n),h=are(Ih,n),[m,g]=w.useState(null),v=dt(e,A=>g(A),d.onItemTextChange,A=>{var k;return(k=c.itemTextRefCallback)==null?void 0:k.call(c,A,d.value,d.disabled)}),_=m==null?void 0:m.textContent,C=w.useMemo(()=>u.jsx("option",{value:d.value,disabled:d.disabled,children:_},d.value),[d.disabled,d.value,_]),{onNativeOptionAdd:T,onNativeOptionRemove:S}=h;return Fn(()=>(T(C),()=>S(C)),[T,S,C]),u.jsxs(u.Fragment,{children:[u.jsx(ze.span,{id:d.textId,...i,ref:v}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Zu.createPortal(i.children,a.valueNode):null]})});qL.displayName=Ih;var HL="SelectItemIndicator",GL=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return $L(HL,n).isSelected?u.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});GL.displayName=HL;var _0="SelectScrollUpButton",KL=w.forwardRef((t,e)=>{const n=nl(_0,t.__scopeSelect),r=oT(_0,t.__scopeSelect),[s,i]=w.useState(!1),a=dt(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(QL,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});KL.displayName=_0;var w0="SelectScrollDownButton",YL=w.forwardRef((t,e)=>{const n=nl(w0,t.__scopeSelect),r=oT(w0,t.__scopeSelect),[s,i]=w.useState(!1),a=dt(e,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?u.jsx(QL,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});YL.displayName=w0;var QL=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=nl("SelectScrollButton",n),a=w.useRef(null),c=av(n),d=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>d(),[d]),Fn(()=>{var m;const h=c().find(g=>g.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),u.jsx(ze.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Re(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Re(s.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Re(s.onPointerLeave,()=>{d()})})}),xre="SelectSeparator",XL=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});XL.displayName=xre;var E0="SelectArrow",_re=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=lv(n),i=tl(E0,n),a=nl(E0,n);return i.open&&a.position==="popper"?u.jsx(XR,{...s,...r,ref:e}):null});_re.displayName=E0;var wre="SelectBubbleInput",JL=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=w.useRef(null),i=dt(r,s),a=sT(e);return w.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&m){const g=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[a,e]),u.jsx(ze.select,{...n,style:{...VA,...n.style},ref:i,defaultValue:e})});JL.displayName=wre;function ZL(t){return t===""||t===void 0}function eV(t){const e=xs(t),n=w.useRef(""),r=w.useRef(0),s=w.useCallback(a=>{const c=n.current+a;e(c),(function d(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),i=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tV(t,e,n){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Ere(t,Math.max(i,0));s.length===1&&(a=a.filter(h=>h!==n));const d=a.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Ere(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var bre=NL,nV=AL,Tre=kL,Sre=jL,Cre=DL,rV=ML,Ire=FL,sV=zL,iV=WL,Nre=qL,Pre=GL,oV=KL,aV=YL,lV=XL;const ps=bre,gs=Tre,Gr=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(nV,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Sre,{asChild:!0,children:u.jsx(cR,{className:"h-4 w-4 opacity-50"})})]}));Gr.displayName=nV.displayName;const cV=w.forwardRef(({className:t,...e},n)=>u.jsx(oV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Y3,{className:"h-4 w-4"})}));cV.displayName=oV.displayName;const uV=w.forwardRef(({className:t,...e},n)=>u.jsx(aV,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(cR,{className:"h-4 w-4"})}));uV.displayName=aV.displayName;const Kr=w.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(Cre,{children:u.jsxs(rV,{ref:s,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(cV,{}),u.jsx(Ire,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(uV,{})]})}));Kr.displayName=rV.displayName;const Are=w.forwardRef(({className:t,...e},n)=>u.jsx(sV,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Are.displayName=sV.displayName;const nt=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(iV,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Pre,{children:u.jsx(ty,{className:"h-4 w-4"})})}),u.jsx(Nre,{children:e})]}));nt.displayName=iV.displayName;const Rre=w.forwardRef(({className:t,...e},n)=>u.jsx(lV,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));Rre.displayName=lV.displayName;const kre=()=>{const{toast:t}=ko(),[e,n]=w.useState(1),[r,s]=w.useState(!1),[i,a]=w.useState({firstName:"",lastName:"",email:"",phone:"",birthDate:"",gender:"",city:"",nationality:"",height:"",weight:"",chest:"",waist:"",hips:"",shoeSize:"",eyeColor:"",hairColor:"",experience:"",instagram:"",portfolioLink:"",motivation:""}),c=(h,m)=>{a(g=>({...g,[h]:m}))},d=async h=>{h.preventDefault(),s(!0),await new Promise(m=>setTimeout(m,2e3)),t({title:"Candidature envoye !",description:"Nous avons bien reu votre candidature. Nous vous recontacterons prochainement."}),s(!1),n(4)};return u.jsx(mr,{children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-12",children:[u.jsx(be,{asChild:!0,variant:"ghost",size:"sm",className:"mb-8",children:u.jsxs(Xe,{to:"/casting",children:[u.jsx(K_,{className:"mr-2 h-4 w-4"}),"Retour"]})}),u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[u.jsx("h1",{className:"font-serif text-3xl sm:text-4xl font-bold text-foreground mb-4",children:"Formulaire de candidature"}),u.jsx("p",{className:"text-muted-foreground",children:"Remplissez ce formulaire pour postuler au casting"})]}),e<4&&u.jsx("div",{className:"flex items-center justify-center gap-2 mb-12",children:[1,2,3].map(h=>u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${h===e?"bg-primary text-primary-foreground":h<e?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"}`,children:[h===1&&u.jsx(Yl,{className:"h-5 w-5"}),h===2&&u.jsx(Y_,{className:"h-5 w-5"}),h===3&&u.jsx(Fu,{className:"h-5 w-5"})]}),h<3&&u.jsx("div",{className:`w-16 h-1 mx-2 rounded ${h<e?"bg-primary/20":"bg-muted"}`})]},h))}),u.jsxs(Ae.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},onSubmit:d,className:"bg-card border border-border rounded-2xl p-8",children:[e===1&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"font-serif text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[u.jsx(Yl,{className:"h-5 w-5"}),"Informations personnelles"]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"firstName",children:"Prnom *"}),u.jsx(Ke,{id:"firstName",value:i.firstName,onChange:h=>c("firstName",h.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"lastName",children:"Nom *"}),u.jsx(Ke,{id:"lastName",value:i.lastName,onChange:h=>c("lastName",h.target.value),required:!0})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"email",children:"Email *"}),u.jsx(Ke,{id:"email",type:"email",value:i.email,onChange:h=>c("email",h.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"phone",children:"Tlphone *"}),u.jsx(Ke,{id:"phone",type:"tel",value:i.phone,onChange:h=>c("phone",h.target.value),required:!0})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"birthDate",children:"Date de naissance *"}),u.jsx(Ke,{id:"birthDate",type:"date",value:i.birthDate,onChange:h=>c("birthDate",h.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"gender",children:"Genre *"}),u.jsxs(ps,{value:i.gender,onValueChange:h=>c("gender",h),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionnez"})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Femme",children:"Femme"}),u.jsx(nt,{value:"Homme",children:"Homme"})]})]})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"city",children:"Ville *"}),u.jsx(Ke,{id:"city",value:i.city,onChange:h=>c("city",h.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"nationality",children:"Nationalit *"}),u.jsx(Ke,{id:"nationality",value:i.nationality,onChange:h=>c("nationality",h.target.value),required:!0})]})]}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx(be,{type:"button",onClick:()=>n(2),children:"Continuer"})})]}),e===2&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"font-serif text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[u.jsx(Y_,{className:"h-5 w-5"}),"Mensurations"]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"height",children:"Taille (cm) *"}),u.jsx(Ke,{id:"height",type:"number",value:i.height,onChange:h=>c("height",h.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"weight",children:"Poids (kg) *"}),u.jsx(Ke,{id:"weight",type:"number",value:i.weight,onChange:h=>c("weight",h.target.value),required:!0})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"chest",children:"Tour de poitrine (cm)"}),u.jsx(Ke,{id:"chest",type:"number",value:i.chest,onChange:h=>c("chest",h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"waist",children:"Tour de taille (cm)"}),u.jsx(Ke,{id:"waist",type:"number",value:i.waist,onChange:h=>c("waist",h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"hips",children:"Tour de hanches (cm)"}),u.jsx(Ke,{id:"hips",type:"number",value:i.hips,onChange:h=>c("hips",h.target.value)})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"shoeSize",children:"Pointure"}),u.jsx(Ke,{id:"shoeSize",type:"number",value:i.shoeSize,onChange:h=>c("shoeSize",h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"eyeColor",children:"Couleur des yeux"}),u.jsx(Ke,{id:"eyeColor",value:i.eyeColor,onChange:h=>c("eyeColor",h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"hairColor",children:"Couleur des cheveux"}),u.jsx(Ke,{id:"hairColor",value:i.hairColor,onChange:h=>c("hairColor",h.target.value)})]})]}),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsx(be,{type:"button",variant:"outline",onClick:()=>n(1),children:"Retour"}),u.jsx(be,{type:"button",onClick:()=>n(3),children:"Continuer"})]})]}),e===3&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"font-serif text-xl font-semibold text-foreground mb-6 flex items-center gap-2",children:[u.jsx(Fu,{className:"h-5 w-5"}),"Exprience & Motivation"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"experience",children:"Exprience en mannequinat *"}),u.jsxs(ps,{value:i.experience,onValueChange:h=>c("experience",h),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionnez votre niveau"})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"none",children:"Aucune exprience"}),u.jsx(nt,{value:"beginner",children:"Dbutant (moins d'1 an)"}),u.jsx(nt,{value:"intermediate",children:"Intermdiaire (1-3 ans)"}),u.jsx(nt,{value:"experienced",children:"Expriment (plus de 3 ans)"})]})]})]}),u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"instagram",children:"Instagram"}),u.jsx(Ke,{id:"instagram",placeholder:"@votre_compte",value:i.instagram,onChange:h=>c("instagram",h.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"portfolioLink",children:"Lien portfolio"}),u.jsx(Ke,{id:"portfolioLink",type:"url",placeholder:"https://",value:i.portfolioLink,onChange:h=>c("portfolioLink",h.target.value)})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"motivation",children:"Pourquoi souhaitez-vous devenir mannequin ?"}),u.jsx(Ed,{id:"motivation",rows:4,value:i.motivation,onChange:h=>c("motivation",h.target.value),placeholder:"Parlez-nous de votre motivation..."})]}),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsx(be,{type:"button",variant:"outline",onClick:()=>n(2),children:"Retour"}),u.jsx(be,{type:"submit",disabled:r,children:r?"Envoi en cours...":u.jsxs(u.Fragment,{children:["Envoyer ma candidature",u.jsx(Zp,{className:"ml-2 h-4 w-4"})]})})]})]}),e===4&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:u.jsx(Zp,{className:"h-10 w-10 text-primary"})}),u.jsx("h2",{className:"font-serif text-2xl font-bold text-foreground mb-4",children:"Candidature envoye !"}),u.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Merci pour votre candidature. Notre quipe l'examinera attentivement et vous contactera prochainement."}),u.jsx(be,{asChild:!0,children:u.jsx(Xe,{to:"/",children:"Retour  l'accueil"})})]})]},e)]})]})})},jre={Users:u.jsx(td,{className:"h-8 w-8"}),UserPlus:u.jsx(oy,{className:"h-8 w-8"}),Sparkles:u.jsx(iy,{className:"h-8 w-8"}),Camera:u.jsx(Fu,{className:"h-8 w-8"}),GraduationCap:u.jsx(ry,{className:"h-8 w-8"}),Palette:u.jsx(mR,{className:"h-8 w-8"})},Dre=()=>u.jsxs(mr,{children:[u.jsx("section",{className:"py-20 lg:py-32 bg-card border-b border-border",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto text-center",children:[u.jsx("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-6",children:"Nos Services"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Un accompagnement complet pour vos projets mode, vnementiel et communication visuelle"})]})})}),u.jsx("section",{className:"py-20 lg:py-32",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:mL.map((t,e)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},className:"group p-8 rounded-2xl bg-card border border-border hover:border-primary/50 hover:shadow-xl transition-all duration-300",children:[u.jsx("div",{className:"h-16 w-16 rounded-2xl bg-accent flex items-center justify-center text-foreground mb-6 group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:jre[t.icon]}),u.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:t.category}),u.jsx("h3",{className:"font-serif text-2xl font-semibold text-foreground mt-2 mb-4",children:t.title}),u.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:t.description}),u.jsx(be,{asChild:!0,variant:"outline",className:"w-full",children:u.jsxs(Xe,{to:`/contact?service=${t.title}`,children:["Demander un devis",u.jsx(Vi,{className:"ml-2 h-4 w-4"})]})})]},t.slug))})})}),u.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8 text-center",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold mb-6",children:"Besoin d'un service personnalis ?"}),u.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Contactez-nous pour discuter de vos besoins spcifiques et obtenir une proposition sur mesure."}),u.jsx(be,{asChild:!0,size:"lg",variant:"secondary",children:u.jsx(Xe,{to:"/contact",children:"Nous contacter"})})]})})})]}),Mre=()=>{const t=ZP[0],e=ZP.slice(1);return u.jsxs(mr,{children:[u.jsx("section",{className:"py-12 lg:py-20 bg-card border-b border-border",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[u.jsx("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-4",children:"Magazine"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Actualits, interviews et tendances du monde de la mode gabonaise"})]})})}),u.jsx("section",{className:"py-12 lg:py-16",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:u.jsxs(Xe,{to:`/magazine/${t.slug}`,className:"group grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[u.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden bg-muted",children:[u.jsx("img",{src:t.imageUrl,alt:t.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),u.jsx("div",{className:"absolute top-4 left-4",children:u.jsx(Vn,{variant:"secondary",className:"bg-background/80 backdrop-blur-sm",children:" la une"})})]}),u.jsxs("div",{children:[u.jsx(Vn,{variant:"outline",className:"mb-4",children:t.category}),u.jsx("h2",{className:"font-serif text-3xl lg:text-4xl font-bold text-foreground mb-4 group-hover:text-primary transition-colors",children:t.title}),u.jsx("p",{className:"text-muted-foreground leading-relaxed mb-6",children:t.excerpt}),u.jsxs("div",{className:"flex items-center gap-6 text-sm text-muted-foreground mb-6",children:[u.jsx("span",{children:t.author}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(ny,{className:"h-4 w-4"}),t.date]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Wh,{className:"h-4 w-4"}),t.viewCount," vues"]})]}),u.jsxs("span",{className:"inline-flex items-center text-foreground font-medium group-hover:text-primary transition-colors",children:["Lire l'article",u.jsx(Vi,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]})})})}),u.jsx("section",{className:"py-12 lg:py-16 bg-card border-y border-border",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsx(Ae.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"font-serif text-2xl font-bold text-foreground mb-8",children:"Derniers articles"}),u.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>u.jsx(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r*.1},children:u.jsxs(Xe,{to:`/magazine/${n.slug}`,className:"group block",children:[u.jsx("div",{className:"relative aspect-[4/3] rounded-xl overflow-hidden bg-muted mb-4",children:u.jsx("img",{src:n.imageUrl,alt:n.title,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"})}),u.jsx(Vn,{variant:"outline",className:"mb-3",children:n.category}),u.jsx("h3",{className:"font-serif text-xl font-semibold text-foreground mb-2 group-hover:text-primary transition-colors line-clamp-2",children:n.title}),u.jsx("p",{className:"text-muted-foreground text-sm line-clamp-2 mb-4",children:n.excerpt}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[u.jsx("span",{children:n.author}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(Wh,{className:"h-3 w-3"}),n.viewCount]})]})]})},n.slug))})]})})]})},Ore=()=>{const t=eA.find(n=>n.edition===2),e=eA.filter(n=>n.edition===1);return u.jsxs(mr,{children:[u.jsxs("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url('${t==null?void 0:t.imageUrl}')`}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background via-background/95 to-background/80"})]}),u.jsx("div",{className:"container relative z-10 mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"max-w-2xl",children:[u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mb-6",children:u.jsxs(Vn,{variant:"secondary",className:"text-sm",children:[u.jsx(Ph,{className:"h-4 w-4 mr-1"}),"dition ",t==null?void 0:t.edition]})}),u.jsx(Ae.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-4",children:"Perfect Fashion Day"}),u.jsx(Ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-2xl text-primary font-serif mb-6",children:t==null?void 0:t.theme}),u.jsx(Ae.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"text-muted-foreground text-lg mb-8",children:t==null?void 0:t.description}),u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"flex flex-wrap gap-6 mb-8",children:[u.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[u.jsx(W1,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{children:t==null?void 0:t.date})]}),u.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[u.jsx(qh,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{children:t==null?void 0:t.location})]})]}),u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:u.jsx(be,{asChild:!0,size:"lg",className:"text-base h-12 px-8",children:u.jsxs(Xe,{to:"/fashion-day/apply",children:["Participer",u.jsx(Vi,{className:"ml-2 h-5 w-5"})]})})})]})})]}),e.length>0&&u.jsx("section",{className:"py-20 lg:py-32 bg-card border-y border-border",children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold text-foreground mb-4",children:"ditions prcdentes"}),u.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Retour sur les moments forts de nos vnements passs"})]}),e.map((n,r)=>u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:r*.1},className:"grid lg:grid-cols-2 gap-12 items-center",children:[u.jsx("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden",children:u.jsx("img",{src:n.imageUrl,alt:`Perfect Fashion Day dition ${n.edition}`,className:"absolute inset-0 w-full h-full object-cover"})}),u.jsxs("div",{children:[u.jsxs(Vn,{variant:"outline",className:"mb-4",children:["dition ",n.edition]}),u.jsx("h3",{className:"font-serif text-3xl font-bold text-foreground mb-2",children:n.theme}),u.jsxs("div",{className:"flex flex-wrap gap-4 text-muted-foreground mb-6",children:[u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(W1,{className:"h-4 w-4"}),n.date]}),u.jsxs("span",{className:"flex items-center gap-2",children:[u.jsx(qh,{className:"h-4 w-4"}),n.location]})]}),u.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]})]},n.edition))]})}),u.jsx("section",{className:"py-20 bg-primary text-primary-foreground",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8 text-center",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[u.jsx("h2",{className:"font-serif text-3xl sm:text-4xl font-bold mb-6",children:"Participez  l'vnement"}),u.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Mannequin, styliste, photographe ou partenaire ? Rejoignez-nous pour la prochaine dition du Perfect Fashion Day."}),u.jsx(be,{asChild:!0,size:"lg",variant:"secondary",children:u.jsx(Xe,{to:"/fashion-day/apply",children:"Postuler maintenant"})})]})})})]})},Lre=[{icon:qh,label:"Adresse",value:"Libreville, Gabon"},{icon:pR,label:"Tlphone",value:"+241 74 06 64 61",href:"tel:+24174066461"},{icon:fR,label:"Email",value:"contact@perfectmodels.ga",href:"mailto:contact@perfectmodels.ga"},{icon:ny,label:"Horaires",value:"Lun - Ven : 9h - 18h"}],Vre=()=>{const{toast:t}=ko(),[e,n]=w.useState(!1),[r,s]=w.useState({name:"",email:"",subject:"",message:""}),i=(c,d)=>{s(h=>({...h,[c]:d}))},a=async c=>{c.preventDefault(),n(!0),await new Promise(d=>setTimeout(d,1500)),t({title:"Message envoy !",description:"Nous vous rpondrons dans les plus brefs dlais."}),s({name:"",email:"",subject:"",message:""}),n(!1)};return u.jsxs(mr,{children:[u.jsx("section",{className:"py-12 lg:py-20 bg-card border-b border-border",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl",children:[u.jsx("h1",{className:"font-serif text-4xl sm:text-5xl lg:text-6xl font-bold text-foreground mb-4",children:"Contact"}),u.jsx("p",{className:"text-lg text-muted-foreground",children:"Une question, un projet, une collaboration ? Nous sommes  votre coute."})]})})}),u.jsx("section",{className:"py-20",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs("div",{className:"grid lg:grid-cols-5 gap-12 lg:gap-20",children:[u.jsxs(Ae.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"lg:col-span-2",children:[u.jsx("h2",{className:"font-serif text-2xl font-bold text-foreground mb-8",children:"Nos coordonnes"}),u.jsx("div",{className:"space-y-6",children:Lre.map(c=>u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"h-12 w-12 rounded-xl bg-accent flex items-center justify-center text-foreground shrink-0",children:u.jsx(c.icon,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:c.label}),c.href?u.jsx("a",{href:c.href,className:"text-foreground font-medium hover:text-primary transition-colors",children:c.value}):u.jsx("p",{className:"text-foreground font-medium",children:c.value})]})]},c.label))}),u.jsxs("div",{className:"mt-12",children:[u.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Suivez-nous"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"https://instagram.com/perfectmodelsmanagement",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg bg-accent text-accent-foreground text-sm font-medium hover:bg-primary hover:text-primary-foreground transition-colors",children:"Instagram"}),u.jsx("a",{href:"https://facebook.com/perfectmodelsmanagement",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg bg-accent text-accent-foreground text-sm font-medium hover:bg-primary hover:text-primary-foreground transition-colors",children:"Facebook"})]})]})]}),u.jsx(Ae.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"lg:col-span-3",children:u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[u.jsx("h2",{className:"font-serif text-2xl font-bold text-foreground mb-8",children:"Envoyez-nous un message"}),u.jsxs("form",{onSubmit:a,className:"space-y-6",children:[u.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"name",children:"Nom complet *"}),u.jsx(Ke,{id:"name",value:r.name,onChange:c=>i("name",c.target.value),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"email",children:"Email *"}),u.jsx(Ke,{id:"email",type:"email",value:r.email,onChange:c=>i("email",c.target.value),required:!0})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"subject",children:"Sujet *"}),u.jsxs(ps,{value:r.subject,onValueChange:c=>i("subject",c),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionnez un sujet"})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"booking",children:"Rservation mannequin"}),u.jsx(nt,{value:"casting",children:"Question sur le casting"}),u.jsx(nt,{value:"collaboration",children:"Proposition de collaboration"}),u.jsx(nt,{value:"event",children:"Organisation d'vnement"}),u.jsx(nt,{value:"other",children:"Autre demande"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"message",children:"Message *"}),u.jsx(Ed,{id:"message",rows:5,value:r.message,onChange:c=>i("message",c.target.value),placeholder:"Dcrivez votre demande...",required:!0})]}),u.jsx(be,{type:"submit",size:"lg",className:"w-full",disabled:e,children:e?"Envoi en cours...":u.jsxs(u.Fragment,{children:["Envoyer le message",u.jsx(Zp,{className:"ml-2 h-4 w-4"})]})})]})]})})]})})})]})},Fre=()=>{const t=uc(),{signIn:e}=vd(),{toast:n}=ko(),[r,s]=w.useState(""),[i,a]=w.useState(""),[c,d]=w.useState(!1),[h,m]=w.useState(!1),g=async v=>{v.preventDefault(),m(!0);const{error:_}=await e(r,i);_?n({title:"Erreur de connexion",description:_.message,variant:"destructive"}):(n({title:"Connexion russie",description:"Bienvenue !"}),t("/admin")),m(!1)};return u.jsx(mr,{children:u.jsx("section",{className:"py-20 min-h-[80vh] flex items-center",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-primary-foreground font-serif text-2xl font-bold",children:"PM"})}),u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground mb-2",children:"Connexion"}),u.jsx("p",{className:"text-muted-foreground",children:"Accdez  votre espace administration"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"email",children:"Email"}),u.jsx(Ke,{id:"email",type:"email",value:r,onChange:v=>s(v.target.value),placeholder:"admin@perfectmodels.ga",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"password",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ke,{id:"password",type:c?"text":"password",value:i,onChange:v=>a(v.target.value),placeholder:"",required:!0}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:c?u.jsx(hR,{className:"h-4 w-4"}):u.jsx(Wh,{className:"h-4 w-4"})})]})]}),u.jsx(be,{type:"submit",className:"w-full",disabled:h,children:h?"Connexion...":u.jsxs(u.Fragment,{children:["Se connecter",u.jsx(r5,{className:"ml-2 h-4 w-4"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx(Xe,{to:"/register",className:"text-sm text-muted-foreground hover:text-foreground",children:"Pas encore de compte ? Crer un compte"})})]})]})})})})},Ure=()=>{const t=uc(),{signUp:e}=vd(),{toast:n}=ko(),[r,s]=w.useState(""),[i,a]=w.useState(""),[c,d]=w.useState(""),[h,m]=w.useState(!1),[g,v]=w.useState(!1),_=async C=>{C.preventDefault(),v(!0);const{error:T}=await e(i,c,r);T?n({title:"Erreur d'inscription",description:T.message,variant:"destructive"}):(n({title:"Inscription russie",description:"Votre compte a t cr. Vous pouvez maintenant vous connecter."}),t("/login")),v(!1)};return u.jsx(mr,{children:u.jsx("section",{className:"py-20 min-h-[80vh] flex items-center",children:u.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary to-accent flex items-center justify-center mx-auto mb-4",children:u.jsx("span",{className:"text-primary-foreground font-serif text-2xl font-bold",children:"PM"})}),u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground mb-2",children:"Crer un compte"}),u.jsx("p",{className:"text-muted-foreground",children:"Rejoignez Perfect Models Management"})]}),u.jsxs("div",{className:"bg-card border border-border rounded-2xl p-8",children:[u.jsxs("form",{onSubmit:_,className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"fullName",children:"Nom complet"}),u.jsx(Ke,{id:"fullName",type:"text",value:r,onChange:C=>s(C.target.value),placeholder:"Jean Dupont",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"email",children:"Email"}),u.jsx(Ke,{id:"email",type:"email",value:i,onChange:C=>a(C.target.value),placeholder:"jean@example.com",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"password",children:"Mot de passe"}),u.jsxs("div",{className:"relative",children:[u.jsx(Ke,{id:"password",type:h?"text":"password",value:c,onChange:C=>d(C.target.value),placeholder:"",minLength:6,required:!0}),u.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:h?u.jsx(hR,{className:"h-4 w-4"}):u.jsx(Wh,{className:"h-4 w-4"})})]})]}),u.jsx(be,{type:"submit",className:"w-full",disabled:g,children:g?"Cration...":u.jsxs(u.Fragment,{children:["Crer mon compte",u.jsx(oy,{className:"ml-2 h-4 w-4"})]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx(Xe,{to:"/login",className:"text-sm text-muted-foreground hover:text-foreground",children:"Dj un compte ? Se connecter"})})]})]})})})})},Kt=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Kt.displayName="Card";const Tr=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Tr.displayName="CardHeader";const Sr=w.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Sr.displayName="CardTitle";const ha=w.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));ha.displayName="CardDescription";const Yt=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));Yt.displayName="CardContent";const Bre=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));Bre.displayName="CardFooter";var aT="Progress",lT=100,[zre]=Ks(aT),[$re,Wre]=zre(aT),dV=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=qre,...a}=t;(s||s===0)&&!dA(s)&&console.error(Hre(`${s}`,"Progress"));const c=dA(s)?s:lT;r!==null&&!hA(r,c)&&console.error(Gre(`${r}`,"Progress"));const d=hA(r,c)?r:null,h=Hg(d)?i(d,c):void 0;return u.jsx($re,{scope:n,value:d,max:c,children:u.jsx(ze.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Hg(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":mV(d,c),"data-value":d??void 0,"data-max":c,...a,ref:e})})});dV.displayName=aT;var hV="ProgressIndicator",fV=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Wre(hV,n);return u.jsx(ze.div,{"data-state":mV(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});fV.displayName=hV;function qre(t,e){return`${Math.round(t/e*100)}%`}function mV(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Hg(t){return typeof t=="number"}function dA(t){return Hg(t)&&!isNaN(t)&&t>0}function hA(t,e){return Hg(t)&&!isNaN(t)&&t<=e&&t>=0}function Hre(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lT}\`.`}function Gre(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pV=dV,Kre=fV;const cT=w.forwardRef(({className:t,value:e,...n},r)=>u.jsx(pV,{ref:r,className:je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(Kre,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));cT.displayName=pV.displayName;var $_="rovingFocusGroup.onEntryFocus",Yre={bubbles:!1,cancelable:!0},Hf="RovingFocusGroup",[b0,gV,Qre]=Qg(Hf),[Xre,yV]=Ks(Hf,[Qre]),[Jre,Zre]=Xre(Hf),vV=w.forwardRef((t,e)=>u.jsx(b0.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(b0.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(ese,{...t,ref:e})})}));vV.displayName=Hf;var ese=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...g}=t,v=w.useRef(null),_=dt(e,v),C=sv(i),[T,S]=ja({prop:a,defaultProp:c??null,onChange:d,caller:Hf}),[A,k]=w.useState(!1),N=xs(h),L=gV(n),z=w.useRef(!1),[H,j]=w.useState(0);return w.useEffect(()=>{const R=v.current;if(R)return R.addEventListener($_,N),()=>R.removeEventListener($_,N)},[N]),u.jsx(Jre,{scope:n,orientation:r,dir:C,loop:s,currentTabStopId:T,onItemFocus:w.useCallback(R=>S(R),[S]),onItemShiftTab:w.useCallback(()=>k(!0),[]),onFocusableItemAdd:w.useCallback(()=>j(R=>R+1),[]),onFocusableItemRemove:w.useCallback(()=>j(R=>R-1),[]),children:u.jsx(ze.div,{tabIndex:A||H===0?-1:0,"data-orientation":r,...g,ref:_,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{z.current=!0}),onFocus:Re(t.onFocus,R=>{const M=!z.current;if(R.target===R.currentTarget&&M&&!A){const F=new CustomEvent($_,Yre);if(R.currentTarget.dispatchEvent(F),!F.defaultPrevented){const V=L().filter(he=>he.focusable),U=V.find(he=>he.active),O=V.find(he=>he.id===T),xe=[U,O,...V].filter(Boolean).map(he=>he.ref.current);wV(xe,m)}}z.current=!1}),onBlur:Re(t.onBlur,()=>k(!1))})})}),xV="RovingFocusGroupItem",_V=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:a,...c}=t,d=Ta(),h=i||d,m=Zre(xV,n),g=m.currentTabStopId===h,v=gV(n),{onFocusableItemAdd:_,onFocusableItemRemove:C,currentTabStopId:T}=m;return w.useEffect(()=>{if(r)return _(),()=>C()},[r,_,C]),u.jsx(b0.ItemSlot,{scope:n,id:h,focusable:r,active:s,children:u.jsx(ze.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Re(t.onMouseDown,S=>{r?m.onItemFocus(h):S.preventDefault()}),onFocus:Re(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:Re(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){m.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const A=rse(S,m.orientation,m.dir);if(A!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let N=v().filter(L=>L.focusable).map(L=>L.ref.current);if(A==="last")N.reverse();else if(A==="prev"||A==="next"){A==="prev"&&N.reverse();const L=N.indexOf(S.currentTarget);N=m.loop?sse(N,L+1):N.slice(L+1)}setTimeout(()=>wV(N))}}),children:typeof a=="function"?a({isCurrentTabStop:g,hasTabStop:T!=null}):a})})});_V.displayName=xV;var tse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nse(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function rse(t,e,n){const r=nse(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return tse[r]}function wV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function sse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ise=vV,ose=_V,cv="Tabs",[ase]=Ks(cv,[yV]),EV=yV(),[lse,uT]=ase(cv),bV=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:a="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=sv(c),[g,v]=ja({prop:r,onChange:s,defaultProp:i??"",caller:cv});return u.jsx(lse,{scope:n,baseId:Ta(),value:g,onValueChange:v,orientation:a,dir:m,activationMode:d,children:u.jsx(ze.div,{dir:m,"data-orientation":a,...h,ref:e})})});bV.displayName=cv;var TV="TabsList",SV=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=uT(TV,n),a=EV(n);return u.jsx(ise,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(ze.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});SV.displayName=TV;var CV="TabsTrigger",IV=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,a=uT(CV,n),c=EV(n),d=AV(a.baseId,r),h=RV(a.baseId,r),m=r===a.value;return u.jsx(ose,{asChild:!0,...c,focusable:!s,active:m,children:u.jsx(ze.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:e,onMouseDown:Re(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?a.onValueChange(r):g.preventDefault()}),onKeyDown:Re(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&a.onValueChange(r)}),onFocus:Re(t.onFocus,()=>{const g=a.activationMode!=="manual";!m&&!s&&g&&a.onValueChange(r)})})})});IV.displayName=CV;var NV="TabsContent",PV=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...a}=t,c=uT(NV,n),d=AV(c.baseId,r),h=RV(c.baseId,r),m=r===c.value,g=w.useRef(m);return w.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),u.jsx(cc,{present:s||m,children:({present:v})=>u.jsx(ze.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&i})})});PV.displayName=NV;function AV(t,e){return`${t}-trigger-${e}`}function RV(t,e){return`${t}-content-${e}`}var cse=bV,kV=SV,jV=IV,DV=PV;const use=cse,MV=w.forwardRef(({className:t,...e},n)=>u.jsx(kV,{ref:n,className:je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));MV.displayName=kV.displayName;const Yp=w.forwardRef(({className:t,...e},n)=>u.jsx(jV,{ref:n,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Yp.displayName=jV.displayName;const Qp=w.forwardRef(({className:t,...e},n)=>u.jsx(DV,{ref:n,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qp.displayName=DV.displayName;const dse=()=>{const{user:t,loading:e}=vd(),[n,r]=w.useState(null),[s,i]=w.useState([]),[a,c]=w.useState([]),[d,h]=w.useState(!0);return w.useEffect(()=>{e||(async()=>{if(t)try{const C=dr(on(vt,"models"),po("user_id","==",t.id)),T=await Ra(C);if(!T.empty){const S=T.docs[0],A={id:S.id,...S.data()};r(A);const k=dr(on(vt,"payments"),po("model_id","==",A.id),zi("month","desc"),Lw(6)),L=(await Ra(k)).docs.map(R=>({id:R.id,...R.data()}));i(L||[]);const z=dr(on(vt,"absences"),po("model_id","==",A.id),zi("date","desc"),Lw(5)),j=(await Ra(z)).docs.map(R=>({id:R.id,...R.data()}));c(j||[])}}catch(C){console.error("Error fetching model data:",C)}finally{h(!1)}})()},[t,e]),e||d?u.jsx(mr,{children:u.jsx("div",{className:"min-h-[60vh] flex items-center justify-center",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})})}):t?n?u.jsx(mr,{children:u.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-12",children:[u.jsxs(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[u.jsxs("h1",{className:"font-serif text-3xl font-bold text-foreground mb-2",children:["Bienvenue, ",n.name]}),u.jsx("p",{className:"text-muted-foreground",children:"Grez votre profil et suivez votre carrire"})]}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-8",children:[u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"lg:col-span-1",children:u.jsx(Kt,{children:u.jsx(Yt,{className:"p-6",children:u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsxs("div",{className:"relative mb-4",children:[n.image_url?u.jsx("img",{src:n.image_url,alt:n.name,className:"h-32 w-32 rounded-full object-cover"}):u.jsx("div",{className:"h-32 w-32 rounded-full bg-accent flex items-center justify-center",children:u.jsx(Yl,{className:"h-16 w-16 text-muted-foreground"})}),u.jsx(be,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 h-8 w-8 rounded-full",children:u.jsx(Fu,{className:"h-4 w-4"})})]}),u.jsx("h2",{className:"font-serif text-xl font-semibold text-foreground mb-1",children:n.name}),u.jsx(Vn,{variant:"secondary",className:"mb-4",children:n.level||"Dbutant"}),u.jsxs("div",{className:"w-full space-y-3 text-left",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Taille"}),u.jsx("span",{className:"font-medium text-foreground",children:n.height||"-"})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Genre"}),u.jsx("span",{className:"font-medium text-foreground",children:n.gender})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Pointure"}),u.jsx("span",{className:"font-medium text-foreground",children:n.shoe_size||"-"})]})]}),u.jsx(be,{className:"w-full mt-6",variant:"outline",children:"Modifier le profil"})]})})})}),u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-2",children:u.jsxs(use,{defaultValue:"portfolio",className:"h-full",children:[u.jsxs(MV,{className:"mb-4",children:[u.jsx(Yp,{value:"portfolio",children:"Portfolio"}),u.jsx(Yp,{value:"bookings",children:"Rservations"}),u.jsx(Yp,{value:"messages",children:"Messages"})]}),u.jsx(Qp,{value:"portfolio",className:"mt-0",children:u.jsxs(Kt,{className:"h-full",children:[u.jsx(Tr,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Sr,{children:"Mon Portfolio"}),u.jsx(ha,{children:"Grez vos photos de book"})]}),u.jsxs(be,{size:"sm",children:[u.jsx(u5,{className:"h-4 w-4 mr-2"}),"Ajouter"]})]})}),u.jsx(Yt,{children:u.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(_=>u.jsx("div",{className:"aspect-[3/4] rounded-lg bg-accent flex items-center justify-center",children:u.jsx(e5,{className:"h-8 w-8 text-muted-foreground"})},_))})})]})}),u.jsx(Qp,{value:"bookings",className:"mt-0",children:u.jsxs(Kt,{className:"h-full",children:[u.jsxs(Tr,{children:[u.jsx(Sr,{children:"Historique des Rservations"}),u.jsx(ha,{children:"Vos bookings passs et  venir"})]}),u.jsx(Yt,{children:u.jsx("div",{className:"space-y-4",children:u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune rservation pour le moment"})})})]})}),u.jsx(Qp,{value:"messages",className:"mt-0",children:u.jsxs(Kt,{className:"h-full",children:[u.jsxs(Tr,{children:[u.jsx(Sr,{children:"Messagerie"}),u.jsx(ha,{children:"changez avec l'administration"})]}),u.jsx(Yt,{children:u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun message"})})]})})]})})]}),u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:u.jsx(ry,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx(Sr,{children:"Progression de la Formation"}),u.jsxs(ha,{children:[3," modules sur ",6," complts"]})]})]}),u.jsx(be,{asChild:!0,variant:"outline",size:"sm",children:u.jsxs(Xe,{to:"/classroom",children:["Continuer",u.jsx(aR,{className:"h-4 w-4 ml-2"})]})})]})}),u.jsxs(Yt,{children:[u.jsx(cT,{value:45,className:"h-2"}),u.jsx("div",{className:"grid sm:grid-cols-3 gap-4 mt-6",children:[{name:"Introduction",status:"completed"},{name:"Techniques de Dfil",status:"completed"},{name:"Poses & Expressions",status:"completed"},{name:"Nutrition & Bien-tre",status:"current"},{name:"Gestion de Carrire",status:"locked"},{name:"Photographie",status:"locked"}].map(_=>u.jsxs("div",{className:`flex items-center gap-2 p-3 rounded-lg ${_.status==="completed"?"bg-emerald-500/10":_.status==="current"?"bg-primary/10":"bg-muted"}`,children:[_.status==="completed"?u.jsx(uR,{className:"h-4 w-4 text-emerald-500 shrink-0"}):_.status==="current"?u.jsx(ny,{className:"h-4 w-4 text-primary shrink-0"}):u.jsx("div",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30 shrink-0"}),u.jsx("span",{className:`text-sm ${_.status==="locked"?"text-muted-foreground":"text-foreground"}`,children:_.name})]},_.name))})]})]})}),u.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:u.jsx(k0,{className:"h-5 w-5 text-emerald-500"})}),u.jsxs("div",{children:[u.jsx(Sr,{children:"Historique des Paiements"}),u.jsx(ha,{children:"Vos cotisations mensuelles"})]})]})}),u.jsx(Yt,{children:s.length>0?u.jsx("div",{className:"space-y-3",children:s.map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:_.month}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.amount.toLocaleString()," FCFA"]})]}),u.jsx(Vn,{variant:_.status==="Pay"?"default":"secondary",children:_.status})]},_.id))}):u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucun paiement enregistr"})})]})}),u.jsx(Ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:u.jsx(lR,{className:"h-5 w-5 text-red-500"})}),u.jsxs("div",{children:[u.jsx(Sr,{children:"Mes Absences"}),u.jsx(ha,{children:"Suivi des absences enregistres"})]})]})}),u.jsx(Yt,{children:a.length>0?u.jsx("div",{className:"space-y-3",children:a.map(_=>u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-foreground",children:_.date}),u.jsx("p",{className:"text-sm text-muted-foreground",children:_.reason||"Non spcifi"})]}),u.jsx(Vn,{variant:_.is_excused?"default":"destructive",children:_.is_excused?"Excuse":"Non excuse"})]},_.id))}):u.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Aucune absence enregistre"})})]})})]})]})}):u.jsx(mr,{children:u.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[u.jsx(Yl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-6"}),u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground mb-4",children:"Profil non trouv"}),u.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Votre compte n'est pas encore li  un profil mannequin. Contactez l'administration pour plus d'informations."}),u.jsx(be,{asChild:!0,children:u.jsx(Xe,{to:"/contact",children:"Nous contacter"})})]})}):u.jsx(bk,{to:"/login",replace:!0})},hse=[{name:"Tableau de bord",href:"/admin",icon:n5},{name:"Candidatures",href:"/admin/casting",icon:Q_},{name:"Casting Live",href:"/admin/casting-live",icon:l5},{name:"Mannequins",href:"/admin/models",icon:td},{name:"Paiements",href:"/admin/payments",icon:k0},{name:"Absences",href:"/admin/absences",icon:lR}];function fse({collapsed:t,onToggle:e}){const n=Ga(),{signOut:r,user:s}=vd();return u.jsxs("aside",{className:je("fixed left-0 top-0 z-40 h-screen bg-card border-r border-border transition-all duration-300",t?"w-16":"w-64"),children:[u.jsxs("div",{className:"flex h-16 items-center justify-between px-4 border-b border-border",children:[!t&&u.jsxs(Xe,{to:"/admin",className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center",children:u.jsx("span",{className:"text-primary-foreground font-serif text-sm font-bold",children:"PM"})}),u.jsx("span",{className:"font-serif font-semibold text-foreground",children:"Admin"})]}),u.jsx(be,{variant:"ghost",size:"icon",onClick:e,className:je("shrink-0",t&&"mx-auto"),children:u.jsx(G3,{className:je("h-5 w-5 transition-transform",t&&"rotate-180")})})]}),u.jsx("nav",{className:"flex-1 p-4 space-y-2",children:hse.map(i=>{const a=n.pathname===i.href;return u.jsxs(Xe,{to:i.href,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",a?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:[u.jsx(i.icon,{className:"h-5 w-5 shrink-0"}),!t&&u.jsx("span",{children:i.name})]},i.name)})}),u.jsxs("div",{className:"p-4 border-t border-border",children:[!t&&s&&u.jsxs("div",{className:"mb-4 px-3",children:[u.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:s.email}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Administrateur"})]}),u.jsxs("button",{onClick:r,className:je("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors text-muted-foreground hover:text-foreground hover:bg-accent w-full",t&&"justify-center"),children:[u.jsx(s5,{className:"h-5 w-5 shrink-0"}),!t&&u.jsx("span",{children:"Dconnexion"})]})]})]})}function rl({children:t}){const{user:e,loading:n,isStaff:r}=vd(),[s,i]=w.useState(!1);return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})}):e?u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(fse,{collapsed:s,onToggle:()=>i(!s)}),u.jsx("main",{className:je("min-h-screen transition-all duration-300",s?"ml-16":"ml-64"),children:u.jsx("div",{className:"p-8",children:t})})]}):u.jsx(bk,{to:"/login",replace:!0})}function Ct(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qa(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const OV=6048e5,mse=864e5,Ip=43200,fA=1440;let pse={};function Gf(){return pse}function xf(t,e){var c,d,h,m;const n=Gf(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,s=Ct(t),i=s.getDay(),a=(i<r?7:0)+i-r;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Gg(t){return xf(t,{weekStartsOn:1})}function LV(t){const e=Ct(t),n=e.getFullYear(),r=qa(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Gg(r),i=qa(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=Gg(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function mA(t){const e=Ct(t);return e.setHours(0,0,0,0),e}function Kg(t){const e=Ct(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function gse(t,e){const n=mA(t),r=mA(e),s=+n-Kg(n),i=+r-Kg(r);return Math.round((s-i)/mse)}function yse(t){const e=LV(t),n=qa(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Gg(n)}function Xp(t,e){const n=Ct(t),r=Ct(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function vse(t){return qa(t,Date.now())}function xse(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function _se(t){if(!xse(t)&&typeof t!="number")return!1;const e=Ct(t);return!isNaN(Number(e))}function wse(t,e){const n=Ct(t),r=Ct(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Ese(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function bse(t,e){return+Ct(t)-+Ct(e)}function Tse(t){const e=Ct(t);return e.setHours(23,59,59,999),e}function Sse(t){const e=Ct(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Cse(t){const e=Ct(t);return+Tse(e)==+Sse(e)}function Ise(t,e){const n=Ct(t),r=Ct(e),s=Xp(n,r),i=Math.abs(wse(n,r));let a;if(i<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let c=Xp(n,r)===-s;Cse(Ct(t))&&i===1&&Xp(t,r)===1&&(c=!1),a=s*(i-Number(c))}return a===0?0:a}function Nse(t,e,n){const r=bse(t,e)/1e3;return Ese(n==null?void 0:n.roundingMethod)(r)}function Pse(t){const e=Ct(t),n=qa(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ase={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Rse=(t,e,n)=>{let r;const s=Ase[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Pu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const kse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Mse={date:Pu({formats:kse,defaultWidth:"full"}),time:Pu({formats:jse,defaultWidth:"full"}),dateTime:Pu({formats:Dse,defaultWidth:"full"})},Ose={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lse=(t,e,n,r)=>Ose[t];function Ti(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):a;s=t.formattingValues[c]||t.formattingValues[a]}else{const a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[c]||t.values[a]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Vse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Use={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Bse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qse={ordinalNumber:Wse,era:Ti({values:Vse,defaultWidth:"wide"}),quarter:Ti({values:Fse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ti({values:Use,defaultWidth:"wide"}),day:Ti({values:Bse,defaultWidth:"wide"}),dayPeriod:Ti({values:zse,defaultWidth:"wide",formattingValues:$se,defaultFormattingWidth:"wide"})};function Si(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?Gse(c,g=>g.test(a)):Hse(c,g=>g.test(a));let h;h=t.valueCallback?t.valueCallback(d):d,h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(a.length);return{value:h,rest:m}}}function Hse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Gse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function VV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let a=t.valueCallback?t.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;const c=e.slice(s.length);return{value:a,rest:c}}}const Kse=/^(\d+)(th|st|nd|rd)?/i,Yse=/\d+/i,Qse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Xse={any:[/^b/i,/^(a|c)/i]},Jse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Zse={any:[/1/i,/2/i,/3/i,/4/i]},eie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},iie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oie={ordinalNumber:VV({matchPattern:Kse,parsePattern:Yse,valueCallback:t=>parseInt(t,10)}),era:Si({matchPatterns:Qse,defaultMatchWidth:"wide",parsePatterns:Xse,defaultParseWidth:"any"}),quarter:Si({matchPatterns:Jse,defaultMatchWidth:"wide",parsePatterns:Zse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Si({matchPatterns:eie,defaultMatchWidth:"wide",parsePatterns:tie,defaultParseWidth:"any"}),day:Si({matchPatterns:nie,defaultMatchWidth:"wide",parsePatterns:rie,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:sie,defaultMatchWidth:"any",parsePatterns:iie,defaultParseWidth:"any"})},FV={code:"en-US",formatDistance:Rse,formatLong:Mse,formatRelative:Lse,localize:qse,match:oie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function aie(t){const e=Ct(t);return gse(e,Pse(e))+1}function lie(t){const e=Ct(t),n=+Gg(e)-+yse(e);return Math.round(n/OV)+1}function UV(t,e){var m,g,v,_;const n=Ct(t),r=n.getFullYear(),s=Gf(),i=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(v=s.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=qa(t,0);a.setFullYear(r+1,0,i),a.setHours(0,0,0,0);const c=xf(a,e),d=qa(t,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const h=xf(d,e);return n.getTime()>=c.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function cie(t,e){var c,d,h,m;const n=Gf(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=UV(t,e),i=qa(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),xf(i,e)}function uie(t,e){const n=Ct(t),r=+xf(n,e)-+cie(n,e);return Math.round(r/OV)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const la={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Et(s,e.length)}},iu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pA={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return la.y(t,e)},Y:function(t,e,n,r){const s=UV(t,r),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Et(a,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Et(i,e.length)},R:function(t,e){const n=LV(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return la.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=uie(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Et(s,e.length)},I:function(t,e,n){const r=lie(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):la.d(t,e)},D:function(t,e,n){const r=aie(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Et(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=iu.noon:r===0?s=iu.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=iu.evening:r>=12?s=iu.afternoon:r>=4?s=iu.morning:s=iu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return la.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):la.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):la.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):la.s(t,e)},S:function(t,e){return la.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return yA(r);case"XXXX":case"XX":return jl(r);case"XXXXX":case"XXX":default:return jl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return yA(r);case"xxxx":case"xx":return jl(r);case"xxxxx":case"xxx":default:return jl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gA(r,":");case"OOOO":default:return"GMT"+jl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gA(r,":");case"zzzz":default:return"GMT"+jl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Et(r,e.length)},T:function(t,e,n){const r=t.getTime();return Et(r,e.length)}};function gA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Et(i,2)}function yA(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):jl(t,e)}function jl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Et(Math.trunc(r/60),2),i=Et(r%60,2);return n+s+e+i}const vA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BV=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},die=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return vA(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",vA(r,e)).replace("{{time}}",BV(s,e))},hie={p:BV,P:die},fie=/^D+$/,mie=/^Y+$/,pie=["D","DD","YY","YYYY"];function gie(t){return fie.test(t)}function yie(t){return mie.test(t)}function vie(t,e,n){const r=xie(t,e,n);if(console.warn(r),pie.includes(t))throw new RangeError(r)}function xie(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _ie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Eie=/^'([^]*?)'?$/,bie=/''/g,Tie=/[a-zA-Z]/;function dT(t,e,n){var m,g,v,_,C,T,S,A;const r=Gf(),s=(n==null?void 0:n.locale)??r.locale??FV,i=(n==null?void 0:n.firstWeekContainsDate)??((g=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((T=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((A=(S=r.locale)==null?void 0:S.options)==null?void 0:A.weekStartsOn)??0,c=Ct(t);if(!_se(c))throw new RangeError("Invalid time value");let d=e.match(wie).map(k=>{const N=k[0];if(N==="p"||N==="P"){const L=hie[N];return L(k,s.formatLong)}return k}).join("").match(_ie).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const N=k[0];if(N==="'")return{isToken:!1,value:Sie(k)};if(pA[N])return{isToken:!0,value:k};if(N.match(Tie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const h={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return d.map(k=>{if(!k.isToken)return k.value;const N=k.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&yie(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gie(N))&&vie(N,e,String(t));const L=pA[N[0]];return L(c,N,s.localize,h)}).join("")}function Sie(t){const e=t.match(Eie);return e?e[1].replace(bie,"'"):t}function Cie(t,e,n){const r=Gf(),s=(n==null?void 0:n.locale)??r.locale??FV,i=2520,a=Xp(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:a});let d,h;a>0?(d=Ct(e),h=Ct(t)):(d=Ct(t),h=Ct(e));const m=Nse(h,d),g=(Kg(h)-Kg(d))/1e3,v=Math.round((m-g)/60);let _;if(v<2)return n!=null&&n.includeSeconds?m<5?s.formatDistance("lessThanXSeconds",5,c):m<10?s.formatDistance("lessThanXSeconds",10,c):m<20?s.formatDistance("lessThanXSeconds",20,c):m<40?s.formatDistance("halfAMinute",0,c):m<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):v===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",v,c);if(v<45)return s.formatDistance("xMinutes",v,c);if(v<90)return s.formatDistance("aboutXHours",1,c);if(v<fA){const C=Math.round(v/60);return s.formatDistance("aboutXHours",C,c)}else{if(v<i)return s.formatDistance("xDays",1,c);if(v<Ip){const C=Math.round(v/fA);return s.formatDistance("xDays",C,c)}else if(v<Ip*2)return _=Math.round(v/Ip),s.formatDistance("aboutXMonths",_,c)}if(_=Ise(h,d),_<12){const C=Math.round(v/Ip);return s.formatDistance("xMonths",C,c)}else{const C=_%12,T=Math.trunc(_/12);return C<3?s.formatDistance("aboutXYears",T,c):C<9?s.formatDistance("overXYears",T,c):s.formatDistance("almostXYears",T+1,c)}}function Iie(t,e){return Cie(t,vse(t),e)}const Nie={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},Pie=(t,e,n)=>{let r;const s=Nie[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},Aie={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Rie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},kie={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jie={date:Pu({formats:Aie,defaultWidth:"full"}),time:Pu({formats:Rie,defaultWidth:"full"}),dateTime:Pu({formats:kie,defaultWidth:"full"})},Die={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},Mie=(t,e,n,r)=>Die[t],Oie={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},Lie={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},Vie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},Fie={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Uie={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},Bie=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const s=["year","week","hour","minute","second"];let i;return n===1?i=r&&s.includes(r)?"re":"er":i="me",n+i},zie=["MMM","MMMM"],$ie={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&zie.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:Bie,era:Ti({values:Oie,defaultWidth:"wide"}),quarter:Ti({values:Lie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ti({values:Vie,defaultWidth:"wide"}),day:Ti({values:Fie,defaultWidth:"wide"}),dayPeriod:Ti({values:Uie,defaultWidth:"wide"})},Wie=/^(\d+)(ime|re|me|er|e)?/i,qie=/\d+/i,Hie={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},Gie={any:[/^av/i,/^ap/i]},Kie={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},Yie={any:[/1/i,/2/i,/3/i,/4/i]},Qie={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},Xie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jie={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Zie={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},eoe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},toe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},noe={ordinalNumber:VV({matchPattern:Wie,parsePattern:qie,valueCallback:t=>parseInt(t)}),era:Si({matchPatterns:Hie,defaultMatchWidth:"wide",parsePatterns:Gie,defaultParseWidth:"any"}),quarter:Si({matchPatterns:Kie,defaultMatchWidth:"wide",parsePatterns:Yie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Si({matchPatterns:Qie,defaultMatchWidth:"wide",parsePatterns:Xie,defaultParseWidth:"any"}),day:Si({matchPatterns:Jie,defaultMatchWidth:"wide",parsePatterns:Zie,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:eoe,defaultMatchWidth:"any",parsePatterns:toe,defaultParseWidth:"any"})},hT={code:"fr",formatDistance:Pie,formatLong:jie,formatRelative:Mie,localize:$ie,match:noe,options:{weekStartsOn:1,firstWeekContainsDate:4}},roe=()=>{const[t,e]=w.useState({totalModels:0,pendingApplications:0,activeCastings:0,monthlyRevenue:0}),[n,r]=w.useState([]),[s,i]=w.useState(!0);w.useEffect(()=>{i(!0);const d=on(vt,"models"),h=on(vt,"casting_applications"),m=on(vt,"monthlyPayments"),g=on(vt,"castings");on(vt,"contactMessages");const v=ho(d,z=>e(H=>({...H,totalModels:z.size}))),_=ho(dr(h,po("status","==","Nouveau")),z=>e(H=>({...H,pendingApplications:z.size}))),C=ho(dr(g,po("status","==","Ouvert")),z=>e(H=>({...H,activeCastings:z.size}))),S=dT(new Date,"yyyy-MM"),A=dr(m,po("month","==",S),po("status","==","Pay")),k=ho(A,z=>{const H=z.docs.reduce((j,R)=>j+R.data().amount,0);e(j=>({...j,monthlyRevenue:H}))}),N=dr(h,zi("created_at","desc"),Lw(5)),L=ho(N,z=>{const H=z.docs.map(j=>{var R,M;return{id:j.id,type:"application",message:`Nvl. candidature: ${j.data().first_name} ${j.data().last_name}`,createdAt:((M=(R=j.data().created_at)==null?void 0:R.toDate())==null?void 0:M.toISOString())||new Date().toISOString(),link:"/admin/casting-applications"}});r(H),i(!1)});return()=>{v(),_(),C(),k(),L()}},[]);const a=[{title:"Mannequins",value:t.totalModels,icon:td,href:"/admin/models",color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Candidatures",value:t.pendingApplications,icon:Q_,href:"/admin/casting",color:"text-amber-500",bg:"bg-amber-500/10"},{title:"Castings Ouverts",value:t.activeCastings,icon:$1,href:"/admin/casting",color:"text-indigo-500",bg:"bg-indigo-500/10"},{title:"Revenus du Mois",value:`${t.monthlyRevenue.toFixed(2)} `,icon:Q3,href:"/admin/payments",color:"text-green-500",bg:"bg-green-500/10"}],c=[{title:"Nouveau Mannequin",href:"/admin/models/new",icon:oy},{title:"Nouveau Casting",href:"/admin/casting/new",icon:j0},{title:"Candidatures",href:"/admin/casting",icon:J3},{title:"Grer les Finances",href:"/admin/payments",icon:k0}];return u.jsx(rl,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"font-serif text-3xl font-bold",children:"Tableau de bord"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Vue d'ensemble de l'activit de votre agence."})]}),u.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:a.map(d=>u.jsx(Kt,{className:"hover:shadow-md transition-shadow",children:u.jsxs(Xe,{to:d.href,children:[u.jsxs(Tr,{className:"flex flex-row items-center justify-between pb-2",children:[u.jsx(Sr,{className:"text-sm font-medium text-muted-foreground",children:d.title}),u.jsx("div",{className:`p-2 rounded-lg ${d.bg}`,children:u.jsx(d.icon,{className:`h-5 w-5 ${d.color}`})})]}),u.jsxs(Yt,{children:[u.jsx("div",{className:"text-2xl font-bold",children:s?"...":d.value}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Voir les dtails"})]})]})},d.title))}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map(d=>u.jsx(Xe,{to:d.href,children:u.jsxs("div",{className:"group flex items-center gap-4 p-4 rounded-lg border hover:shadow-md transition-all",children:[u.jsx("div",{className:"p-3 rounded-lg bg-muted",children:u.jsx(d.icon,{className:"h-6 w-6"})}),u.jsx("span",{className:"font-semibold",children:d.title})]})},d.title))}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsxs(Sr,{className:"text-lg flex items-center gap-2",children:[u.jsx(H3,{className:"h-5 w-5"}),"Activit Rcente"]})}),u.jsx(Yt,{children:s?u.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:"Chargement..."}):n.length>0?u.jsx("div",{className:"space-y-2",children:n.map(d=>u.jsx(Xe,{to:d.link,className:"block p-3 rounded-md hover:bg-accent",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"p-2 rounded-full bg-muted",children:u.jsx(Q_,{className:"h-4 w-4 text-amber-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:d.message}),u.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1.5 mt-1",children:[u.jsx(ny,{className:"h-3 w-3"}),Iie(new Date(d.createdAt),{addSuffix:!0,locale:hT})]})]}),u.jsx(aR,{className:"h-4 w-4 text-muted-foreground shrink-0 mt-1"})]})},d.id))}):u.jsx("p",{className:"text-center text-sm text-muted-foreground py-8",children:"Aucune activit rcente."})})]}),u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsxs(Sr,{className:"text-lg flex items-center gap-2",children:[u.jsx($1,{className:"h-5 w-5"}),"Prochains Castings"]})}),u.jsx(Yt,{children:u.jsxs("div",{className:"text-center text-sm text-muted-foreground py-8",children:[u.jsx("p",{children:"La gestion des castings sera bientt disponible."}),u.jsx(Xe,{to:"/admin/casting/new",children:u.jsx(be,{variant:"outline",size:"sm",className:"mt-4",children:"Crer un casting"})})]})})]})]})]})})},Kf=w.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:je("w-full caption-bottom text-sm",t),...e})}));Kf.displayName="Table";const Yf=w.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:je("[&_tr]:border-b",t),...e}));Yf.displayName="TableHeader";const Qf=w.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:je("[&_tr:last-child]:border-0",t),...e}));Qf.displayName="TableBody";const soe=w.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));soe.displayName="TableFooter";const Ro=w.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:je("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Ro.displayName="TableRow";const zt=w.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));zt.displayName="TableHead";const $t=w.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));$t.displayName="TableCell";const ioe=w.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:je("mt-4 text-sm text-muted-foreground",t),...e}));ioe.displayName="TableCaption";var uv="Dialog",[zV]=Ks(uv),[ooe,Qs]=zV(uv),$V=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=w.useRef(null),d=w.useRef(null),[h,m]=ja({prop:r,defaultProp:s??!1,onChange:i,caller:uv});return u.jsx(ooe,{scope:e,triggerRef:c,contentRef:d,contentId:Ta(),titleId:Ta(),descriptionId:Ta(),open:h,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:a,children:n})};$V.displayName=uv;var WV="DialogTrigger",qV=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qs(WV,n),i=dt(e,s.triggerRef);return u.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":pT(s.open),...r,ref:i,onClick:Re(t.onClick,s.onOpenToggle)})});qV.displayName=WV;var fT="DialogPortal",[aoe,HV]=zV(fT,{forceMount:void 0}),GV=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Qs(fT,e);return u.jsx(aoe,{scope:e,forceMount:n,children:w.Children.map(r,a=>u.jsx(cc,{present:n||i.open,children:u.jsx(Xg,{asChild:!0,container:s,children:a})}))})};GV.displayName=fT;var Yg="DialogOverlay",KV=w.forwardRef((t,e)=>{const n=HV(Yg,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qs(Yg,t.__scopeDialog);return i.modal?u.jsx(cc,{present:r||i.open,children:u.jsx(coe,{...s,ref:e})}):null});KV.displayName=Yg;var loe=Vu("DialogOverlay.RemoveScroll"),coe=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qs(Yg,n);return u.jsx(iT,{as:loe,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ze.div,{"data-state":pT(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),lc="DialogContent",YV=w.forwardRef((t,e)=>{const n=HV(lc,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Qs(lc,t.__scopeDialog);return u.jsx(cc,{present:r||i.open,children:i.modal?u.jsx(uoe,{...s,ref:e}):u.jsx(doe,{...s,ref:e})})});YV.displayName=lc;var uoe=w.forwardRef((t,e)=>{const n=Qs(lc,t.__scopeDialog),r=w.useRef(null),s=dt(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return _L(i)},[]),u.jsx(QV,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),doe=w.forwardRef((t,e)=>{const n=Qs(lc,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return u.jsx(QV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var d,h;(d=t.onInteractOutside)==null||d.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((h=n.triggerRef.current)==null?void 0:h.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),QV=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=Qs(lc,n),d=w.useRef(null),h=dt(e,d);return yL(),u.jsxs(u.Fragment,{children:[u.jsx(rT,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(Ef,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":pT(c.open),...a,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(hoe,{titleId:c.titleId}),u.jsx(moe,{contentRef:d,descriptionId:c.descriptionId})]})]})}),mT="DialogTitle",XV=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qs(mT,n);return u.jsx(ze.h2,{id:s.titleId,...r,ref:e})});XV.displayName=mT;var JV="DialogDescription",ZV=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qs(JV,n);return u.jsx(ze.p,{id:s.descriptionId,...r,ref:e})});ZV.displayName=JV;var e4="DialogClose",t4=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Qs(e4,n);return u.jsx(ze.button,{type:"button",...r,ref:e,onClick:Re(t.onClick,()=>s.onOpenChange(!1))})});t4.displayName=e4;function pT(t){return t?"open":"closed"}var n4="DialogTitleWarning",[dae,r4]=XF(n4,{contentName:lc,titleName:mT,docsSlug:"dialog"}),hoe=({titleId:t})=>{const e=r4(n4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},foe="DialogDescriptionWarning",moe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r4(foe).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},poe=$V,goe=qV,yoe=GV,s4=KV,i4=YV,o4=XV,a4=ZV,voe=t4;const gT=poe,l4=goe,xoe=yoe,c4=w.forwardRef(({className:t,...e},n)=>u.jsx(s4,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));c4.displayName=s4.displayName;const dv=w.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xoe,{children:[u.jsx(c4,{}),u.jsxs(i4,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(voe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(Tf,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dv.displayName=i4.displayName;const hv=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hv.displayName="DialogHeader";const fv=w.forwardRef(({className:t,...e},n)=>u.jsx(o4,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));fv.displayName=o4.displayName;const _oe=w.forwardRef(({className:t,...e},n)=>u.jsx(a4,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));_oe.displayName=a4.displayName;const woe={Nouveau:"bg-blue-100 text-blue-800",Prslectionn:"bg-amber-100 text-amber-800",Accept:"bg-green-100 text-green-800",Refus:"bg-red-100 text-red-800"},Eoe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),[s,i]=w.useState(""),[a,c]=w.useState("all"),[d,h]=w.useState(null),{toast:m}=ko(),g=uc();w.useEffect(()=>{r(!0);const T=on(vt,"casting_applications");let S=dr(T,zi("created_at","desc"));a!=="all"&&(S=dr(S,po("status","==",a)));const A=ho(S,k=>{const N=k.docs.map(L=>{var z;return{id:L.id,...L.data(),created_at:(z=L.data().created_at)!=null&&z.toDate?L.data().created_at.toDate().toISOString():new Date().toISOString()}});e(N),r(!1)},k=>{console.error("Error fetching applications:",k),m({title:"Erreur",description:"Impossible de charger les candidatures",variant:"destructive"}),r(!1)});return()=>A()},[a,m]);const v=async(T,S)=>{try{const A=Bi(vt,"casting_applications",T);await qy(A,{status:S}),m({title:"Statut mis  jour",description:`La candidature a t marque comme ${S}`}),h(null)}catch{m({title:"Erreur",description:"Impossible de mettre  jour le statut",variant:"destructive"})}},_=async T=>{if(window.confirm("tes-vous sr de vouloir supprimer cette candidature ?"))try{await _D(Bi(vt,"casting_applications",T)),m({title:"Candidature supprime",description:"La candidature a t supprime avec succs."}),h(null)}catch{m({title:"Erreur",description:"Une erreur s'est produite lors de la suppression.",variant:"destructive"})}},C=t.filter(T=>`${T.first_name} ${T.last_name}`.toLowerCase().includes(s.toLowerCase()));return u.jsxs(rl,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"font-serif text-3xl font-bold",children:"Candidatures Casting"}),u.jsxs("p",{className:"text-muted-foreground mt-1",children:[t.length," candidature(s) au total"]})]}),u.jsxs(be,{onClick:()=>g("/admin/casting-applications/new"),children:[u.jsx(dR,{className:"mr-2 h-4 w-4"}),"Crer une candidature"]})]}),u.jsx(Kt,{children:u.jsx(Yt,{className:"pt-6",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ke,{placeholder:"Rechercher par nom...",value:s,onChange:T=>i(T.target.value),className:"pl-10"})]}),u.jsx("div",{className:"flex gap-2 flex-wrap",children:["all","Nouveau","Prslectionn","Accept","Refus"].map(T=>u.jsx(be,{variant:a===T?"default":"outline",size:"sm",onClick:()=>c(T),children:T==="all"?"Tous":T},T))})]})})}),u.jsx(Kt,{children:u.jsx(Yt,{className:"p-0",children:n?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})}):C.length===0?u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{className:"text-muted-foreground",children:"Aucune candidature trouve"})}):u.jsxs(Kf,{children:[u.jsx(Yf,{children:u.jsxs(Ro,{children:[u.jsx(zt,{children:"Nom"}),u.jsx(zt,{children:"Genre"}),u.jsx(zt,{children:"Tlphone"}),u.jsx(zt,{children:"Date"}),u.jsx(zt,{children:"Statut"}),u.jsx(zt,{className:"text-right",children:"Actions"})]})}),u.jsx(Qf,{children:C.map(T=>u.jsxs(Ro,{children:[u.jsxs($t,{className:"font-medium",children:[T.first_name," ",T.last_name]}),u.jsx($t,{children:T.gender}),u.jsx($t,{children:T.phone}),u.jsx($t,{children:dT(new Date(T.created_at),"dd MMM yyyy",{locale:hT})}),u.jsx($t,{children:u.jsx(Vn,{className:woe[T.status]||"",children:T.status})}),u.jsx($t,{className:"text-right",children:u.jsx(be,{variant:"ghost",size:"icon",onClick:()=>h(T),children:u.jsx(Wh,{className:"h-4 w-4"})})})]},T.id))})]})})})]}),u.jsx(gT,{open:!!d,onOpenChange:()=>h(null),children:u.jsx(dv,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:d&&u.jsxs(u.Fragment,{children:[u.jsx(hv,{children:u.jsxs(fv,{className:"font-serif text-xl",children:[d.first_name," ",d.last_name]})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),u.jsx("p",{className:"font-medium",children:d.email})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Tlphone"}),u.jsx("p",{className:"font-medium",children:d.phone})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Genre"}),u.jsx("p",{className:"font-medium",children:d.gender})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Ville"}),u.jsx("p",{className:"font-medium",children:d.city||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Taille"}),u.jsxs("p",{className:"font-medium",children:[d.height||"-"," cm"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Poids"}),u.jsxs("p",{className:"font-medium",children:[d.weight||"-"," kg"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Exprience"}),u.jsx("p",{className:"font-medium",children:d.experience||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Instagram"}),u.jsx("p",{className:"font-medium",children:d.instagram||"-"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[u.jsx(be,{onClick:()=>v(d.id,"Prslectionn"),variant:"outline",children:"Prslectionner"}),u.jsxs(be,{onClick:()=>v(d.id,"Accept"),className:"bg-green-600 hover:bg-green-700",children:[u.jsx(ty,{className:"h-4 w-4 mr-2"}),"Accepter"]}),u.jsxs(be,{onClick:()=>v(d.id,"Refus"),variant:"destructive",children:[u.jsx(Tf,{className:"h-4 w-4 mr-2"}),"Refuser"]})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[u.jsxs(be,{variant:"outline",size:"sm",onClick:()=>{g(`/admin/casting-applications/edit/${d.id}`),h(null)},children:[u.jsx(gR,{className:"h-4 w-4 mr-2"}),"Modifier"]}),u.jsxs(be,{variant:"destructive",size:"sm",onClick:()=>_(d.id),children:[u.jsx(yR,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})]})})})]})};var u4=["PageUp","PageDown"],d4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],h4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Td="Slider",[T0,boe,Toe]=Qg(Td),[f4]=Ks(Td,[Toe]),[Soe,mv]=f4(Td),m4=w.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:a="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[r],value:m,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:_=!1,form:C,...T}=t,S=w.useRef(new Set),A=w.useRef(0),N=a==="horizontal"?Coe:Ioe,[L=[],z]=ja({prop:m,defaultProp:h,onChange:V=>{var O;(O=[...S.current][A.current])==null||O.focus(),g(V)}}),H=w.useRef(L);function j(V){const U=koe(L,V);F(V,U)}function R(V){F(V,A.current)}function M(){const V=H.current[A.current];L[A.current]!==V&&v(L)}function F(V,U,{commit:O}={commit:!1}){const re=Ooe(i),xe=Loe(Math.round((V-r)/i)*i+r,re),he=Wg(xe,[r,s]);z((le=[])=>{const Y=Aoe(le,he,U);if(Moe(Y,d*i)){A.current=Y.indexOf(he);const ee=String(Y)!==String(le);return ee&&O&&v(Y),ee?Y:le}else return le})}return u.jsx(Soe,{scope:t.__scopeSlider,name:n,disabled:c,min:r,max:s,valueIndexToChangeRef:A,thumbs:S.current,values:L,orientation:a,form:C,children:u.jsx(T0.Provider,{scope:t.__scopeSlider,children:u.jsx(T0.Slot,{scope:t.__scopeSlider,children:u.jsx(N,{"aria-disabled":c,"data-disabled":c?"":void 0,...T,ref:e,onPointerDown:Re(T.onPointerDown,()=>{c||(H.current=L)}),min:r,max:s,inverted:_,onSlideStart:c?void 0:j,onSlideMove:c?void 0:R,onSlideEnd:c?void 0:M,onHomeKeyDown:()=>!c&&F(r,0,{commit:!0}),onEndKeyDown:()=>!c&&F(s,L.length-1,{commit:!0}),onStepKeyDown:({event:V,direction:U})=>{if(!c){const xe=u4.includes(V.key)||V.shiftKey&&d4.includes(V.key)?10:1,he=A.current,le=L[he],Y=i*xe*U;F(le+Y,he,{commit:!0})}}})})})})});m4.displayName=Td;var[p4,g4]=f4(Td,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Coe=w.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:a,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,v]=w.useState(null),_=dt(e,N=>v(N)),C=w.useRef(void 0),T=sv(s),S=T==="ltr",A=S&&!i||!S&&i;function k(N){const L=C.current||g.getBoundingClientRect(),z=[0,L.width],j=yT(z,A?[n,r]:[r,n]);return C.current=L,j(N-L.left)}return u.jsx(p4,{scope:t.__scopeSlider,startEdge:A?"left":"right",endEdge:A?"right":"left",direction:A?1:-1,size:"width",children:u.jsx(y4,{dir:T,"data-orientation":"horizontal",...m,ref:_,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const L=k(N.clientX);a==null||a(L)},onSlideMove:N=>{const L=k(N.clientX);c==null||c(L)},onSlideEnd:()=>{C.current=void 0,d==null||d()},onStepKeyDown:N=>{const z=h4[A?"from-left":"from-right"].includes(N.key);h==null||h({event:N,direction:z?-1:1})}})})}),Ioe=w.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=w.useRef(null),g=dt(e,m),v=w.useRef(void 0),_=!s;function C(T){const S=v.current||m.current.getBoundingClientRect(),A=[0,S.height],N=yT(A,_?[r,n]:[n,r]);return v.current=S,N(T-S.top)}return u.jsx(p4,{scope:t.__scopeSlider,startEdge:_?"bottom":"top",endEdge:_?"top":"bottom",size:"height",direction:_?1:-1,children:u.jsx(y4,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:T=>{const S=C(T.clientY);i==null||i(S)},onSlideMove:T=>{const S=C(T.clientY);a==null||a(S)},onSlideEnd:()=>{v.current=void 0,c==null||c()},onStepKeyDown:T=>{const A=h4[_?"from-bottom":"from-top"].includes(T.key);d==null||d({event:T,direction:A?-1:1})}})})}),y4=w.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=mv(Td,n);return u.jsx(ze.span,{...h,ref:e,onKeyDown:Re(t.onKeyDown,g=>{g.key==="Home"?(a(g),g.preventDefault()):g.key==="End"?(c(g),g.preventDefault()):u4.concat(d4).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Re(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(v)?v.focus():r(g)}),onPointerMove:Re(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:Re(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),i(g))})})}),v4="SliderTrack",x4=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=mv(v4,n);return u.jsx(ze.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});x4.displayName=v4;var S0="SliderRange",_4=w.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=mv(S0,n),i=g4(S0,n),a=w.useRef(null),c=dt(e,a),d=s.values.length,h=s.values.map(v=>b4(v,s.min,s.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return u.jsx(ze.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:c,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:g+"%"}})});_4.displayName=S0;var C0="SliderThumb",w4=w.forwardRef((t,e)=>{const n=boe(t.__scopeSlider),[r,s]=w.useState(null),i=dt(e,c=>s(c)),a=w.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return u.jsx(Noe,{...t,ref:i,index:a})}),Noe=w.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,a=mv(C0,n),c=g4(C0,n),[d,h]=w.useState(null),m=dt(e,k=>h(k)),g=d?a.form||!!d.closest("form"):!0,v=z0(d),_=a.values[r],C=_===void 0?0:b4(_,a.min,a.max),T=Roe(r,a.values.length),S=v==null?void 0:v[c.size],A=S?joe(S,C,c.direction):0;return w.useEffect(()=>{if(d)return a.thumbs.add(d),()=>{a.thumbs.delete(d)}},[d,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${C}% + ${A}px)`},children:[u.jsx(T0.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(ze.span,{role:"slider","aria-label":t["aria-label"]||T,"aria-valuemin":a.min,"aria-valuenow":_,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:m,style:_===void 0?{display:"none"}:t.style,onFocus:Re(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),g&&u.jsx(E4,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:_},r)]})});w4.displayName=C0;var Poe="RadioBubbleInput",E4=w.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const s=w.useRef(null),i=dt(s,r),a=sT(e);return w.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==e&&m){const g=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(g)}},[a,e]),u.jsx(ze.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});E4.displayName=Poe;function Aoe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function b4(t,e,n){const i=100/(n-e)*(t-e);return Wg(i,[0,100])}function Roe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function koe(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function joe(t,e,n){const r=t/2,i=yT([0,50],[0,r]);return(r-i(e)*n)*n}function Doe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Moe(t,e){if(e>0){const n=Doe(t);return Math.min(...n)>=e}return!0}function yT(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Ooe(t){return(String(t).split(".")[1]||"").length}function Loe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var T4=m4,Voe=x4,Foe=_4,Uoe=w4;const Jp=w.forwardRef(({className:t,...e},n)=>u.jsxs(T4,{ref:n,className:je("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(Voe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(Foe,{className:"absolute h-full bg-primary"})}),u.jsx(Uoe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Jp.displayName=T4.displayName;const Boe=({candidateId:t,juryId:e,juryName:n,onScoreSubmit:r})=>{const[s,i]=w.useState({walk:5,presence:5,potential:5}),[a,c]=w.useState(""),{toast:d}=ko(),h=(g,v)=>{i(_=>({..._,[g]:v[0]}))},m=async g=>{g.preventDefault();const v=(s.walk+s.presence+s.potential)/3,_={jury_id:e,jury_name:n,criteria:s,comment:a,overall:v,created_at:Bp()};try{const C=Bi(vt,`casting_applications/${t}/jury_scores`,e);await gK(C,_),d({title:"Note enregistre",description:"Votre valuation a t soumise avec succs."}),r()}catch(C){console.error("Error submitting score:",C),d({title:"Erreur",description:"Impossible de soumettre la note.",variant:"destructive"})}};return u.jsxs("form",{onSubmit:m,className:"space-y-6 pt-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs(Ie,{children:["Dmarche : ",s.walk,"/10"]}),u.jsx(Jp,{name:"walk",value:[s.walk],onValueChange:g=>h("walk",g),max:10,step:1})]}),u.jsxs("div",{children:[u.jsxs(Ie,{children:["Prsence : ",s.presence,"/10"]}),u.jsx(Jp,{name:"presence",value:[s.presence],onValueChange:g=>h("presence",g),max:10,step:1})]}),u.jsxs("div",{children:[u.jsxs(Ie,{children:["Potentiel : ",s.potential,"/10"]}),u.jsx(Jp,{name:"potential",value:[s.potential],onValueChange:g=>h("potential",g),max:10,step:1})]}),u.jsxs("div",{children:[u.jsx(Ie,{children:"Commentaires"}),u.jsx(Ed,{value:a,onChange:g=>c(g.target.value),placeholder:"Ajoutez vos remarques..."})]})]}),u.jsxs(be,{type:"submit",className:"w-full",children:[u.jsx(Zp,{className:"h-4 w-4 mr-2"}),"Soumettre l'valuation"]})]})},zoe=()=>{const{user:t}=vd(),[e,n]=w.useState([]),[r,s]=w.useState(0),[i,a]=w.useState(0),[c,d]=w.useState(!1),[h,m]=w.useState({}),[g,v]=w.useState(!0);w.useEffect(()=>{v(!0);const N=dr(on(vt,"casting_applications"),zi("passage_number")),L=ho(N,z=>{const H=z.docs.map(j=>({id:j.id,...j.data()}));n(H),v(!1),H.forEach(j=>{const R=on(vt,`casting_applications/${j.id}/jury_scores`);ho(R,M=>{const F=M.docs.map(V=>({...V.data()}));m(V=>({...V,[j.id]:F}))})})},z=>{console.error("Error fetching candidates:",z),v(!1)});return()=>L()},[]),w.useEffect(()=>{let N;return c&&(N=setInterval(()=>a(L=>L+1),1e3)),()=>clearInterval(N)},[c]);const _=()=>{r<e.length-1&&(s(N=>N+1),a(0),d(!1))},C=()=>{r>0&&(s(N=>N-1),a(0),d(!1))},T=e[r],S=T?h[T.id]||[]:[],A=S.length>0?S.reduce((N,L)=>N+L.overall,0)/S.length:0,k={total:e.length,evaluated:e.filter(N=>h[N.id]&&h[N.id].length>0).length,averageScore:h.length>0?Object.values(h).flat().reduce((N,L)=>N+L.overall,0)/Object.values(h).flat().length:0};return u.jsx(rl,{children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h1",{className:"font-serif text-3xl font-bold",children:"Casting en Direct"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-emerald-500 animate-pulse"})," ",u.jsx("span",{className:"text-sm font-medium text-emerald-500",children:"En cours"})]})]}),u.jsx(Kt,{children:u.jsxs(Yt,{className:"py-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Progression"}),u.jsxs("span",{className:"text-sm font-medium",children:[r+1," / ",e.length]})]}),u.jsx(cT,{value:e.length>0?(r+1)/e.length*100:0,className:"h-2"})]})}),u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsxs(Kt,{className:"h-full",children:[u.jsx(Tr,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Sr,{children:"Candidat Actif"}),u.jsxs(Vn,{variant:"secondary",className:"text-lg px-4 py-1",children:["N ",(T==null?void 0:T.passage_number)||"-"]})]})}),u.jsx(Yt,{children:T?u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsx("div",{className:"aspect-[3/4] rounded-xl overflow-hidden bg-accent flex items-center justify-center",children:T.photo_portrait_url?u.jsx("img",{src:T.photo_portrait_url,alt:`${T.first_name}`,className:"w-full h-full object-cover"}):u.jsx(Yl,{className:"h-24 w-24 text-muted-foreground"})}),u.jsxs("div",{children:[u.jsxs("h2",{className:"font-serif text-3xl font-bold mb-2",children:[T.first_name," ",T.last_name]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx(Vn,{variant:"outline",children:T.gender}),T.height&&u.jsxs(Vn,{variant:"outline",children:[T.height," cm"]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Chronomtre"}),u.jsx("div",{className:"flex items-center gap-4",children:u.jsx("span",{className:"font-mono text-5xl font-bold",children:new Date(i*1e3).toISOString().substr(14,5)})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(be,{size:"sm",variant:c?"secondary":"default",onClick:()=>d(!c),children:c?u.jsxs(u.Fragment,{children:[u.jsx(o5,{className:"h-4 w-4 mr-2"})," Pause"]}):u.jsxs(u.Fragment,{children:[u.jsx(a5,{className:"h-4 w-4 mr-2"})," Dmarrer"]})}),u.jsxs(be,{size:"sm",variant:"outline",onClick:()=>a(0),children:[u.jsx(c5,{className:"h-4 w-4 mr-2"})," Reset"]})]})]}),A>0&&u.jsxs("div",{className:"p-4 rounded-lg bg-emerald-500/10 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Ph,{className:"h-5 w-5 text-emerald-500"}),u.jsx("span",{className:"text-sm font-medium text-emerald-600",children:"Note Moyenne du Jury"})]}),u.jsxs("span",{className:"text-3xl font-bold text-emerald-600",children:[A.toFixed(1),"/10"]})]}),u.jsxs("div",{className:"flex gap-4 mt-auto",children:[u.jsx(be,{variant:"outline",onClick:C,disabled:r===0,className:"flex-1",children:"Prcdent"}),u.jsxs(be,{onClick:_,disabled:r===e.length-1,className:"flex-1",children:["Suivant",u.jsx(K3,{className:"h-4 w-4 ml-2"})]})]})]})]}):u.jsxs("div",{className:"text-center py-16",children:[u.jsx(Yl,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:"Aucun candidat  afficher"})]})})]})}),u.jsxs("div",{className:"space-y-6",children:[T&&t&&u.jsxs(Kt,{children:[u.jsxs(Tr,{children:[u.jsx(Sr,{children:"valuation du Jury"}),u.jsx(ha,{children:"Notez le candidat sur les critres ci-dessous."})]}),u.jsx(Yt,{children:u.jsx(Boe,{candidateId:T.id,juryId:t.uid,juryName:t.displayName||t.email,onScoreSubmit:()=>{}})})]}),u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsx(Sr,{children:"Statistiques"})}),u.jsxs(Yt,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(td,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),u.jsx("span",{className:"text-xl font-bold",children:k.total})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uR,{className:"h-5 w-5 text-emerald-500"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"valus"})]}),u.jsx("span",{className:"text-xl font-bold",children:k.evaluated})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-accent/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ph,{className:"h-5 w-5 text-amber-500"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Note Moyenne"})]}),u.jsx("span",{className:"text-xl font-bold",children:k.averageScore.toFixed(1)})]})]})]}),u.jsxs(Kt,{children:[u.jsx(Tr,{children:u.jsx(Sr,{children:"Notes des autres jurys"})}),u.jsx(Yt,{children:S.length>0?u.jsx("div",{className:"space-y-3",children:S.map(N=>u.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-accent/50",children:[u.jsx("span",{className:"text-sm font-medium",children:N.jury_name}),u.jsxs("span",{className:"text-sm font-bold",children:[u.jsx(Ph,{className:"h-4 w-4 inline-block mr-1 text-amber-400"}),N.overall.toFixed(1)]})]},N.jury_id))}):u.jsx("p",{className:"text-center text-sm text-muted-foreground py-4",children:"Aucune note pour ce candidat."})})]})]})]})]})})},$oe=()=>{const[t,e]=w.useState([]);w.useEffect(()=>{const r=ho(on(vt,"models"),s=>{const i=s.docs.map(a=>({id:a.id,...a.data()}));e(i)});return()=>r()},[]);const n=async r=>{if(window.confirm("tes-vous sr de vouloir supprimer ce mannequin ?"))try{await _D(Bi(vt,"models",r)),Ci({title:"Mannequin supprim",description:"Le mannequin a t supprim avec succs."})}catch{Ci({title:"Erreur",description:"Une erreur s'est produite lors de la suppression du mannequin.",variant:"destructive"})}};return u.jsxs(rl,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Gestion des Mannequins"}),u.jsx(Xe,{to:"/admin/models/new",children:u.jsxs(be,{children:[u.jsx(dR,{className:"mr-2 h-4 w-4"}),"Ajouter un mannequin"]})})]}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:u.jsxs(Kf,{children:[u.jsx(Yf,{children:u.jsxs(Ro,{children:[u.jsx(zt,{children:"Prnom"}),u.jsx(zt,{children:"Nom"}),u.jsx(zt,{children:"Email"}),u.jsx(zt,{children:"Tlphone"}),u.jsx(zt,{children:"Statut"}),u.jsx(zt,{children:"Actions"})]})}),u.jsx(Qf,{children:t.map(r=>u.jsxs(Ro,{children:[u.jsx($t,{children:r.first_name}),u.jsx($t,{children:r.last_name}),u.jsx($t,{children:r.email}),u.jsx($t,{children:r.phone}),u.jsx($t,{children:u.jsx(Vn,{variant:r.status==="active"?"default":"secondary",children:r.status})}),u.jsxs($t,{children:[u.jsx(Xe,{to:`/admin/models/edit/${r.id}`,children:u.jsx(be,{variant:"ghost",size:"icon",children:u.jsx(gR,{className:"h-4 w-4"})})}),u.jsx(be,{variant:"ghost",size:"icon",onClick:()=>n(r.id),children:u.jsx(yR,{className:"h-4 w-4"})})]})]},r.id))})]})})]})},Woe={Pay:"bg-green-100 text-green-800","En attente":"bg-amber-100 text-amber-800","En retard":"bg-red-100 text-red-800"},qoe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(!0),[a,c]=w.useState(""),[d,h]=w.useState(!1),{toast:m}=ko(),[g,v]=w.useState({model_id:"",model_name:"",amount:"",month:new Date().toISOString().slice(0,7),payment_date:new Date().toISOString().slice(0,10),method:"Espces",status:"Pay",category:"Cotisation mensuelle"}),_=async()=>{try{const N=dr(on(vt,"payments"),zi("created_at","desc")),L=dr(on(vt,"models"),zi("name")),[z,H]=await Promise.all([Ra(N),Ra(L)]),j=z.docs.map(M=>({id:M.id,...M.data()})),R=H.docs.map(M=>({id:M.id,...M.data()}));e(j||[]),r(R||[])}catch(N){console.error("Error fetching data:",N),m({title:"Erreur",description:"Impossible de charger les donnes",variant:"destructive"})}finally{i(!1)}};w.useEffect(()=>{_()},[]);const C=N=>{const L=n.find(z=>z.id===N);v({...g,model_id:N,model_name:(L==null?void 0:L.name)||""})},T=async N=>{if(N.preventDefault(),!g.model_id){m({title:"Erreur",description:"Veuillez slectionner un mannequin",variant:"destructive"});return}try{await Hy(on(vt,"payments"),{model_id:g.model_id,model_name:g.model_name,amount:parseFloat(g.amount),month:g.month,payment_date:g.payment_date,method:g.method,status:g.status,category:g.category,created_at:new Date().toISOString()}),m({title:"Paiement enregistr"}),h(!1),S(),_()}catch(L){console.error("Error saving payment:",L),m({title:"Erreur",description:"Impossible d'enregistrer le paiement",variant:"destructive"})}},S=()=>{v({model_id:"",model_name:"",amount:"",month:new Date().toISOString().slice(0,7),payment_date:new Date().toISOString().slice(0,10),method:"Espces",status:"Pay",category:"Cotisation mensuelle"})},A=t.filter(N=>N.model_name.toLowerCase().includes(a.toLowerCase())),k=A.filter(N=>N.status==="Pay").reduce((N,L)=>N+Number(L.amount),0);return u.jsx(rl,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground",children:"Paiements"}),u.jsxs("p",{className:"text-muted-foreground mt-1",children:["Total encaiss: ",k.toLocaleString()," FCFA"]})]}),u.jsxs(gT,{open:d,onOpenChange:N=>{h(N),N||S()},children:[u.jsx(l4,{asChild:!0,children:u.jsxs(be,{children:[u.jsx(j0,{className:"h-4 w-4 mr-2"}),"Nouveau paiement"]})}),u.jsxs(dv,{children:[u.jsx(hv,{children:u.jsx(fv,{children:"Enregistrer un paiement"})}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"model",children:"Mannequin *"}),u.jsxs(ps,{value:g.model_id,onValueChange:C,children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionner un mannequin"})}),u.jsx(Kr,{children:n.map(N=>u.jsx(nt,{value:N.id,children:N.name},N.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"amount",children:"Montant (FCFA) *"}),u.jsx(Ke,{id:"amount",type:"number",value:g.amount,onChange:N=>v({...g,amount:N.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"month",children:"Mois *"}),u.jsx(Ke,{id:"month",type:"month",value:g.month,onChange:N=>v({...g,month:N.target.value}),required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"payment_date",children:"Date de paiement"}),u.jsx(Ke,{id:"payment_date",type:"date",value:g.payment_date,onChange:N=>v({...g,payment_date:N.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"method",children:"Mthode"}),u.jsxs(ps,{value:g.method,onValueChange:N=>v({...g,method:N}),children:[u.jsx(Gr,{children:u.jsx(gs,{})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Espces",children:"Espces"}),u.jsx(nt,{value:"Virement",children:"Virement"}),u.jsx(nt,{value:"Mobile Money",children:"Mobile Money"})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"status",children:"Statut"}),u.jsxs(ps,{value:g.status,onValueChange:N=>v({...g,status:N}),children:[u.jsx(Gr,{children:u.jsx(gs,{})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Pay",children:"Pay"}),u.jsx(nt,{value:"En attente",children:"En attente"}),u.jsx(nt,{value:"En retard",children:"En retard"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"category",children:"Catgorie"}),u.jsxs(ps,{value:g.category,onValueChange:N=>v({...g,category:N}),children:[u.jsx(Gr,{children:u.jsx(gs,{})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Cotisation mensuelle",children:"Cotisation mensuelle"}),u.jsx(nt,{value:"Frais d'inscription",children:"Frais d'inscription"}),u.jsx(nt,{value:"Formation",children:"Formation"}),u.jsx(nt,{value:"Autre",children:"Autre"})]})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(be,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),u.jsx(be,{type:"submit",children:"Enregistrer"})]})]})]})]})]}),u.jsx(Kt,{children:u.jsx(Yt,{className:"pt-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ke,{placeholder:"Rechercher par nom...",value:a,onChange:N=>c(N.target.value),className:"pl-10"})]})})}),u.jsx(Kt,{children:u.jsx(Yt,{className:"p-0",children:s?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})}):A.length===0?u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{className:"text-muted-foreground",children:"Aucun paiement trouv"})}):u.jsxs(Kf,{children:[u.jsx(Yf,{children:u.jsxs(Ro,{children:[u.jsx(zt,{children:"Mannequin"}),u.jsx(zt,{children:"Montant"}),u.jsx(zt,{children:"Mois"}),u.jsx(zt,{children:"Mthode"}),u.jsx(zt,{children:"Catgorie"}),u.jsx(zt,{children:"Statut"})]})}),u.jsx(Qf,{children:A.map(N=>u.jsxs(Ro,{children:[u.jsx($t,{className:"font-medium",children:N.model_name}),u.jsxs($t,{children:[Number(N.amount).toLocaleString()," FCFA"]}),u.jsx($t,{children:N.month}),u.jsx($t,{children:N.method}),u.jsx($t,{children:N.category}),u.jsx($t,{children:u.jsx(Vn,{className:Woe[N.status||""]||"",children:N.status})})]},N.id))})]})})})]})})};var pv="Switch",[Hoe]=Ks(pv),[Goe,Koe]=Hoe(pv),S4=w.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:d="on",onCheckedChange:h,form:m,...g}=t,[v,_]=w.useState(null),C=dt(e,N=>_(N)),T=w.useRef(!1),S=v?m||!!v.closest("form"):!0,[A,k]=ja({prop:s,defaultProp:i??!1,onChange:h,caller:pv});return u.jsxs(Goe,{scope:n,checked:A,disabled:c,children:[u.jsx(ze.button,{type:"button",role:"switch","aria-checked":A,"aria-required":a,"data-state":P4(A),"data-disabled":c?"":void 0,disabled:c,value:d,...g,ref:C,onClick:Re(t.onClick,N=>{k(L=>!L),S&&(T.current=N.isPropagationStopped(),T.current||N.stopPropagation())})}),S&&u.jsx(N4,{control:v,bubbles:!T.current,name:r,value:d,checked:A,required:a,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});S4.displayName=pv;var C4="SwitchThumb",I4=w.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=Koe(C4,n);return u.jsx(ze.span,{"data-state":P4(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});I4.displayName=C4;var Yoe="SwitchBubbleInput",N4=w.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...s},i)=>{const a=w.useRef(null),c=dt(a,i),d=sT(n),h=z0(e);return w.useEffect(()=>{const m=a.current;if(!m)return;const g=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(g,"checked").set;if(d!==n&&_){const C=new Event("click",{bubbles:r});_.call(m,n),m.dispatchEvent(C)}},[d,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:c,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});N4.displayName=Yoe;function P4(t){return t?"checked":"unchecked"}var A4=S4,Qoe=I4;const R4=w.forwardRef(({className:t,...e},n)=>u.jsx(A4,{className:je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:u.jsx(Qoe,{className:je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));R4.displayName=A4.displayName;const Xoe=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[s,i]=w.useState(!0),[a,c]=w.useState(""),[d,h]=w.useState(!1),{toast:m}=ko(),[g,v]=w.useState({model_id:"",model_name:"",date:new Date().toISOString().slice(0,10),reason:"Non justifi",is_excused:!1,notes:""}),_=async()=>{try{const N=dr(on(vt,"absences"),zi("date","desc")),L=dr(on(vt,"models"),zi("name")),[z,H]=await Promise.all([Ra(N),Ra(L)]),j=z.docs.map(M=>({id:M.id,...M.data()})),R=H.docs.map(M=>({id:M.id,...M.data()}));e(j||[]),r(R||[])}catch(N){console.error("Error fetching data:",N),m({title:"Erreur",description:"Impossible de charger les donnes",variant:"destructive"})}finally{i(!1)}};w.useEffect(()=>{_()},[]);const C=N=>{const L=n.find(z=>z.id===N);v({...g,model_id:N,model_name:(L==null?void 0:L.name)||""})},T=async N=>{if(N.preventDefault(),!g.model_id){m({title:"Erreur",description:"Veuillez slectionner un mannequin",variant:"destructive"});return}try{await Hy(on(vt,"absences"),{model_id:g.model_id,model_name:g.model_name,date:g.date,reason:g.reason,is_excused:g.is_excused,notes:g.notes||null,created_at:new Date().toISOString()}),m({title:"Absence enregistre"}),h(!1),A(),_()}catch(L){console.error("Error saving absence:",L),m({title:"Erreur",description:"Impossible d'enregistrer l'absence",variant:"destructive"})}},S=async(N,L)=>{try{const z=Bi(vt,"absences",N);await qy(z,{is_excused:!L}),_()}catch(z){console.error("Error toggling excused:",z)}},A=()=>{v({model_id:"",model_name:"",date:new Date().toISOString().slice(0,10),reason:"Non justifi",is_excused:!1,notes:""})},k=t.filter(N=>N.model_name.toLowerCase().includes(a.toLowerCase()));return u.jsx(rl,{children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"font-serif text-3xl font-bold text-foreground",children:"Absences"}),u.jsxs("p",{className:"text-muted-foreground mt-1",children:[t.length," absence(s) enregistre(s)"]})]}),u.jsxs(gT,{open:d,onOpenChange:N=>{h(N),N||A()},children:[u.jsx(l4,{asChild:!0,children:u.jsxs(be,{children:[u.jsx(j0,{className:"h-4 w-4 mr-2"}),"Nouvelle absence"]})}),u.jsxs(dv,{children:[u.jsx(hv,{children:u.jsx(fv,{children:"Enregistrer une absence"})}),u.jsxs("form",{onSubmit:T,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"model",children:"Mannequin *"}),u.jsxs(ps,{value:g.model_id,onValueChange:C,children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionner un mannequin"})}),u.jsx(Kr,{children:n.map(N=>u.jsx(nt,{value:N.id,children:N.name},N.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"date",children:"Date *"}),u.jsx(Ke,{id:"date",type:"date",value:g.date,onChange:N=>v({...g,date:N.target.value}),required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"reason",children:"Raison"}),u.jsxs(ps,{value:g.reason,onValueChange:N=>v({...g,reason:N}),children:[u.jsx(Gr,{children:u.jsx(gs,{})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Non justifi",children:"Non justifi"}),u.jsx(nt,{value:"Maladie",children:"Maladie"}),u.jsx(nt,{value:"Personnel",children:"Personnel"}),u.jsx(nt,{value:"Autre",children:"Autre"})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(R4,{id:"is_excused",checked:g.is_excused,onCheckedChange:N=>v({...g,is_excused:N})}),u.jsx(Ie,{htmlFor:"is_excused",children:"Excus"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Ie,{htmlFor:"notes",children:"Notes"}),u.jsx(Ed,{id:"notes",value:g.notes,onChange:N=>v({...g,notes:N.target.value}),placeholder:"Notes additionnelles..."})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[u.jsx(be,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Annuler"}),u.jsx(be,{type:"submit",children:"Enregistrer"})]})]})]})]})]}),u.jsx(Kt,{children:u.jsx(Yt,{className:"pt-6",children:u.jsxs("div",{className:"relative",children:[u.jsx(sy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ke,{placeholder:"Rechercher par nom...",value:a,onChange:N=>c(N.target.value),className:"pl-10"})]})})}),u.jsx(Kt,{children:u.jsx(Yt,{className:"p-0",children:s?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(ed,{className:"h-8 w-8 animate-spin text-primary"})}):k.length===0?u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{className:"text-muted-foreground",children:"Aucune absence trouve"})}):u.jsxs(Kf,{children:[u.jsx(Yf,{children:u.jsxs(Ro,{children:[u.jsx(zt,{children:"Mannequin"}),u.jsx(zt,{children:"Date"}),u.jsx(zt,{children:"Raison"}),u.jsx(zt,{children:"Excus"}),u.jsx(zt,{children:"Notes"})]})}),u.jsx(Qf,{children:k.map(N=>u.jsxs(Ro,{children:[u.jsx($t,{className:"font-medium",children:N.model_name}),u.jsx($t,{children:dT(new Date(N.date),"dd MMM yyyy",{locale:hT})}),u.jsx($t,{children:N.reason}),u.jsx($t,{children:u.jsx(be,{variant:"ghost",size:"icon",onClick:()=>S(N.id,N.is_excused||!1),children:N.is_excused?u.jsx(ty,{className:"h-4 w-4 text-green-600"}):u.jsx(Tf,{className:"h-4 w-4 text-red-600"})})}),u.jsx($t,{className:"text-muted-foreground",children:N.notes||"-"})]},N.id))})]})})})]})})},Joe=()=>{const t=Ga();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},xA=()=>{const{id:t}=J0(),e=uc(),[n,r]=w.useState({first_name:"",last_name:"",email:"",phone:"",status:"draft"});w.useEffect(()=>{t&&(async()=>{const d=Bi(vt,"models",t),h=await xD(d);h.exists()&&r(h.data())})()},[t]);const s=c=>{const{name:d,value:h}=c.target;r(m=>({...m,[d]:h}))},i=(c,d)=>{r(h=>({...h,[c]:d}))},a=async c=>{c.preventDefault();try{if(t){const d=Bi(vt,"models",t);await qy(d,n),Ci({title:"Mannequin mis  jour",description:"Le mannequin a t mis  jour avec succs."})}else await Hy(on(vt,"models"),n),Ci({title:"Mannequin cr",description:"Le mannequin a t cr avec succs."});e("/admin/models")}catch{Ci({title:"Erreur",description:"Une erreur s'est produite.",variant:"destructive"})}};return u.jsxs(rl,{children:[u.jsxs("h1",{className:"text-2xl font-bold mb-6",children:[t?"Modifier":"Crer"," un mannequin"]}),u.jsxs("form",{onSubmit:a,className:"bg-white p-6 rounded-lg shadow space-y-4",children:[u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"first_name",children:"Prnom"}),u.jsx(Ke,{id:"first_name",name:"first_name",value:n.first_name,onChange:s})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"last_name",children:"Nom"}),u.jsx(Ke,{id:"last_name",name:"last_name",value:n.last_name,onChange:s})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"email",children:"Email"}),u.jsx(Ke,{id:"email",name:"email",type:"email",value:n.email,onChange:s})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"phone",children:"Tlphone"}),u.jsx(Ke,{id:"phone",name:"phone",value:n.phone,onChange:s})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"status",children:"Statut"}),u.jsxs(ps,{name:"status",value:n.status,onValueChange:c=>i("status",c),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionner un statut"})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"draft",children:"Brouillon"}),u.jsx(nt,{value:"active",children:"Actif"}),u.jsx(nt,{value:"archived",children:"Archiv"})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(be,{type:"button",variant:"outline",onClick:()=>e("/admin/models"),children:"Annuler"}),u.jsx(be,{type:"submit",children:t?"Mettre  jour":"Crer"})]})]})]})},_A=()=>{const{id:t}=J0(),e=uc(),[n,r]=w.useState(!1),[s,i]=w.useState({first_name:"",last_name:"",email:"",phone:"",birth_date:"",gender:"",city:"",nationality:"",height:"",weight:"",experience:"",instagram:"",status:"Nouveau"});w.useEffect(()=>{t&&(async()=>{r(!0);try{const m=Bi(vt,"casting_applications",t),g=await xD(m);if(g.exists()){const v=g.data();Object.keys(v).forEach(_=>{(v[_]===null||v[_]===void 0)&&(v[_]="")}),i(v)}}catch{Ci({title:"Erreur",description:"Impossible de charger les donnes de la candidature.",variant:"destructive"})}r(!1)})()},[t]);const a=h=>{const{name:m,value:g}=h.target;i(v=>({...v,[m]:g}))},c=(h,m)=>{i(g=>({...g,[h]:m}))},d=async h=>{h.preventDefault(),r(!0);const m={...s,height:Number(s.height)||0,weight:Number(s.weight)||0};try{if(t){const g=Bi(vt,"casting_applications",t);await qy(g,{...m,updated_at:Bp()}),Ci({title:"Candidature mise  jour",description:"La candidature a t mise  jour avec succs."})}else await Hy(on(vt,"casting_applications"),{...m,created_at:Bp(),updated_at:Bp()}),Ci({title:"Candidature cre",description:"La candidature a t cre avec succs."});e("/admin/casting-applications")}catch(g){console.error("Submit error:",g),Ci({title:"Erreur",description:`Une erreur s'est produite: ${g.message}`,variant:"destructive"})}r(!1)};return u.jsxs(rl,{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[t?"Modifier":"Crer"," une Candidature"]}),u.jsx(be,{type:"button",variant:"outline",onClick:()=>e("/admin/casting-applications"),children:"Annuler"})]}),u.jsx("form",{onSubmit:d,children:u.jsx(Kt,{children:u.jsxs(Yt,{className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"first_name",children:"Prnom"}),u.jsx(Ke,{id:"first_name",name:"first_name",value:s.first_name,onChange:a,required:!0})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"last_name",children:"Nom"}),u.jsx(Ke,{id:"last_name",name:"last_name",value:s.last_name,onChange:a,required:!0})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"email",children:"Email"}),u.jsx(Ke,{id:"email",name:"email",type:"email",value:s.email,onChange:a,required:!0})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"phone",children:"Tlphone"}),u.jsx(Ke,{id:"phone",name:"phone",value:s.phone,onChange:a})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"gender",children:"Genre"}),u.jsxs(ps,{name:"gender",value:s.gender,onValueChange:h=>c("gender",h),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionner..."})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"male",children:"Homme"}),u.jsx(nt,{value:"female",children:"Femme"}),u.jsx(nt,{value:"other",children:"Autre"})]})]})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"city",children:"Ville"}),u.jsx(Ke,{id:"city",name:"city",value:s.city,onChange:a})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"height",children:"Taille (cm)"}),u.jsx(Ke,{id:"height",name:"height",type:"number",value:s.height,onChange:a})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"weight",children:"Poids (kg)"}),u.jsx(Ke,{id:"weight",name:"weight",type:"number",value:s.weight,onChange:a})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"status",children:"Statut"}),u.jsxs(ps,{name:"status",value:s.status,onValueChange:h=>c("status",h),children:[u.jsx(Gr,{children:u.jsx(gs,{placeholder:"Slectionner un statut"})}),u.jsxs(Kr,{children:[u.jsx(nt,{value:"Nouveau",children:"Nouveau"}),u.jsx(nt,{value:"Prslectionn",children:"Prslectionn"}),u.jsx(nt,{value:"Accept",children:"Accept"}),u.jsx(nt,{value:"Refus",children:"Refus"})]})]})]}),u.jsxs("div",{children:[u.jsx(Ie,{htmlFor:"experience",children:"Exprience"}),u.jsx(Ed,{id:"experience",name:"experience",value:s.experience,onChange:a})]})]}),u.jsx("div",{className:"flex justify-end gap-2",children:u.jsx(be,{type:"submit",disabled:n,children:n?"Enregistrement...":t?"Mettre  jour":"Crer"})})]})})})]})},Zoe=new j9,eae=()=>u.jsx(M9,{client:Zoe,children:u.jsx(c9,{children:u.jsxs(iX,{children:[u.jsx(H5,{}),u.jsx(T6,{}),u.jsx(jB,{children:u.jsxs(CB,{children:[u.jsx(Bt,{path:"/",element:u.jsx(ene,{})}),u.jsx(Bt,{path:"/models",element:u.jsx(tne,{})}),u.jsx(Bt,{path:"/models/:id",element:u.jsx(rne,{})}),u.jsx(Bt,{path:"/casting",element:u.jsx(one,{})}),u.jsx(Bt,{path:"/casting/apply",element:u.jsx(kre,{})}),u.jsx(Bt,{path:"/services",element:u.jsx(Dre,{})}),u.jsx(Bt,{path:"/magazine",element:u.jsx(Mre,{})}),u.jsx(Bt,{path:"/fashion-day",element:u.jsx(Ore,{})}),u.jsx(Bt,{path:"/contact",element:u.jsx(Vre,{})}),u.jsx(Bt,{path:"/login",element:u.jsx(Fre,{})}),u.jsx(Bt,{path:"/register",element:u.jsx(Ure,{})}),u.jsx(Bt,{path:"/model-dashboard",element:u.jsx(dse,{})}),u.jsx(Bt,{path:"/admin",element:u.jsx(roe,{})}),u.jsx(Bt,{path:"/admin/casting",element:u.jsx(Eoe,{})}),u.jsx(Bt,{path:"/admin/casting-applications/new",element:u.jsx(_A,{})}),u.jsx(Bt,{path:"/admin/casting-applications/edit/:id",element:u.jsx(_A,{})}),u.jsx(Bt,{path:"/admin/casting-live",element:u.jsx(zoe,{})}),u.jsx(Bt,{path:"/admin/models",element:u.jsx($oe,{})}),u.jsx(Bt,{path:"/admin/models/new",element:u.jsx(xA,{})}),u.jsx(Bt,{path:"/admin/models/edit/:id",element:u.jsx(xA,{})}),u.jsx(Bt,{path:"/admin/payments",element:u.jsx(qoe,{})}),u.jsx(Bt,{path:"/admin/absences",element:u.jsx(Xoe,{})}),u.jsx(Bt,{path:"*",element:u.jsx(Joe,{})})]})})]})})});HF.createRoot(document.getElementById("root")).render(u.jsx(eae,{}));
